!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Tone=t():n.Tone=t()}("undefined"!=typeof self?self:this,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:r})},t.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=148)}([function(n,t,i){"use strict";i.r(t),function(n){var u=i(93),r=function(){if(!(this instanceof r))throw new Error("constructor needs to be called with the 'new' keyword");};
/**
 *  Tone.js
 *  @author Yotam Mann
 *  @license http://opensource.org/licenses/MIT MIT License
 *  @copyright 2014-2019 Yotam Mann
 */
r.prototype.toString=function(){var n,t,i;for(n in r)if(t=n[0].match(/^[A-Z]$/),i=r[n]===this.constructor,r.isFunction(r[n])&&t&&i)return n;return"Tone"};r.prototype.dispose=function(){return this};r.prototype.set=function(n,t){var s,u,f,e,o,h,i;r.isString(n)&&(s={},s[n]=t,n=s);n:for(u in n){if(t=n[u],f=this,-1!==u.indexOf(".")){for(e=u.split("."),o=0;o<e.length-1;o++)if((f=f[e[o]])instanceof r){e.splice(0,o+1);h=e.join(".");f.set(h,t);continue n}u=e[e.length-1]}i=f[u];r.isUndef(i)||(r.Signal&&i instanceof r.Signal||r.Param&&i instanceof r.Param?i.value!==t&&(i.value=t):i instanceof AudioParam?i.value!==t&&(i.value=t):r.TimeBase&&i instanceof r.TimeBase?f[u]=t:i instanceof r?i.set(t):i!==t&&(f[u]=t))}return this};r.prototype.get=function(n){var h,o,f,s,e,t;for(r.isUndef(n)?n=this._collectDefaults(this.constructor):r.isString(n)&&(n=[n]),h={},o=0;o<n.length;o++){var i=n[o],c=this,u=h;if(-1!==i.indexOf(".")){for(f=i.split("."),s=0;s<f.length-1;s++)e=f[s],u[e]=u[e]||{},u=u[e],c=c[e];i=f[f.length-1]}t=c[i];r.isObject(n[i])?u[i]=t.get():r.Signal&&t instanceof r.Signal?u[i]=t.value:r.Param&&t instanceof r.Param?u[i]=t.value:t instanceof AudioParam?u[i]=t.value:t instanceof r?u[i]=t.get():!r.isFunction(t)&&r.isDefined(t)&&(u[i]=t)}return h};r.prototype._collectDefaults=function(n){var i=[],u,t;if(r.isDefined(n.defaults)&&(i=Object.keys(n.defaults)),r.isDefined(n._super))for(u=this._collectDefaults(n._super),t=0;t<u.length;t++)-1===i.indexOf(u[t])&&i.push(u[t]);return i};r.defaults=function(n,t,i){var u={},f;if(1===n.length&&r.isObject(n[0]))u=n[0];else for(f=0;f<t.length;f++)u[t[f]]=n[f];return r.isDefined(i.defaults)?r.defaultArg(u,i.defaults):r.isObject(i)?r.defaultArg(u,i):u};r.defaultArg=function(n,t){var i,u,f;if(r.isObject(n)&&r.isObject(t)){i={};for(u in n)i[u]=r.defaultArg(t[u],n[u]);for(f in t)i[f]=r.defaultArg(n[f],t[f]);return i}return r.isUndef(n)?t:n};r.prototype.log=function(){if(this.debug||this.toString()===r.global.TONE_DEBUG_CLASS){var n=Array.from(arguments);n.unshift(this.toString()+":");console.log.apply(void 0,n)}};r.prototype.assert=function(n,t){if(!n)throw new Error(t);};r.connectSeries=function(){for(var i,t=arguments[0],n=1;n<arguments.length;n++)i=arguments[n],r.connect(t,i),t=i;return r};r.connect=function(n,t,i,u){for(;r.isDefined(t.input);)r.isArray(t.input)?(u=r.defaultArg(u,0),t=t.input[u],u=0):t.input&&(t=t.input);return t instanceof AudioParam?n.connect(t,i):t instanceof AudioNode&&n.connect(t,i,u),r};r.disconnect=function(n,t,i,u){if(t){for(var f=!1;!f;)r.isArray(t.input)?(r.isDefined(u)?r.disconnect(n,t.input[u],i):t.input.forEach(function(t){try{r.disconnect(n,t,i)}catch(n){}}),f=!0):t.input?t=t.input:f=!0;t instanceof AudioParam?n.disconnect(t,i):t instanceof AudioNode&&n.disconnect(t,i,u)}else n.disconnect();return r};r.isUndef=function(n){return void 0===n};r.isDefined=function(n){return!r.isUndef(n)};r.isFunction=function(n){return"function"==typeof n};r.isNumber=function(n){return"number"==typeof n};r.isObject=function(n){return"[object Object]"===Object.prototype.toString.call(n)&&n.constructor===Object};r.isBoolean=function(n){return"boolean"==typeof n};r.isArray=function(n){return Array.isArray(n)};r.isString=function(n){return"string"==typeof n};r.isNote=function(n){return r.isString(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)};r.noOp=function(){};r.prototype._readOnly=function(n){if(Array.isArray(n))for(var t=0;t<n.length;t++)this._readOnly(n[t]);else Object.defineProperty(this,n,{writable:!1,enumerable:!0})};r.prototype._writable=function(n){if(Array.isArray(n))for(var t=0;t<n.length;t++)this._writable(n[t]);else Object.defineProperty(this,n,{writable:!0})};r.State={Started:"started",Stopped:"stopped",Paused:"paused"};r.global=r.isUndef(n)?window:n;r.equalPowerScale=function(n){var t=.5*Math.PI;return Math.sin(n*t)};r.dbToGain=function(n){return Math.pow(10,n/20)};r.gainToDb=function(n){return Math.log(n)/Math.LN10*20};r.intervalToFrequencyRatio=function(n){return Math.pow(2,n/12)};r.prototype.now=function(){return r.context.now()};r.now=function(){return r.context.now()};r.prototype.immediate=function(){return r.context.currentTime};r.immediate=function(){return r.context.currentTime};r.extend=function(n,t){function i(){}r.isUndef(t)&&(t=r);i.prototype=t.prototype;n.prototype=new i;n.prototype.constructor=n;n._super=t};r._audioContext=null;r.start=function(){return r.context.resume()};Object.defineProperty(r,"context",{get:function(){return r._audioContext},set:function(n){r._audioContext=n.isContext?n:new r.Context(n);r.Context.emit("init",r._audioContext)}});Object.defineProperty(r.prototype,"context",{get:function(){return r.context}});r.setContext=function(n){r.context=n};Object.defineProperty(r.prototype,"blockTime",{get:function(){return 128/this.context.sampleRate}});Object.defineProperty(r.prototype,"sampleTime",{get:function(){return 1/this.context.sampleRate}});Object.defineProperty(r,"supported",{get:function(){var n=r.global.hasOwnProperty("AudioContext")||r.global.hasOwnProperty("webkitAudioContext"),t=r.global.hasOwnProperty("Promise");return n&&t}});Object.defineProperty(r,"initialized",{get:function(){return Boolean(r.context)}});r.getContext=function(n){if(r.initialized)n(r.context);else{var t=function(){n(r.context);r.Context.off("init",t)};r.Context.on("init",t)}return r};r.version=u.a;t.default=r}.call(this,i(147))},function(n,t,i){"use strict";var r,e;if(i.r(t),r=i(0),i(20),r.default.supported){var u=new OfflineAudioContext(2,1,44100),o=u.createGain(),f=u.createGain();o.connect(f)!==f&&(e=AudioNode.prototype.connect,AudioNode.prototype.connect=function(){return e.apply(this,arguments),arguments[0]})}r.default.AudioNode=function(){r.default.call(this);var n=r.default.defaults(arguments,["context"],{context:r.default.context});this._context=n.context};r.default.extend(r.default.AudioNode);Object.defineProperty(r.default.AudioNode.prototype,"context",{get:function(){return this._context}});r.default.AudioNode.prototype.createInsOuts=function(n,t){1===n?this.input=this.context.createGain():n>1&&(this.input=new Array(n));1===t?this.output=this.context.createGain():t>1&&(this.output=new Array(t))};Object.defineProperty(r.default.AudioNode.prototype,"channelCount",{get:function(){return this.output.channelCount},set:function(n){return this.output.channelCount=n}});Object.defineProperty(r.default.AudioNode.prototype,"channelCountMode",{get:function(){return this.output.channelCountMode},set:function(n){return this.output.channelCountMode=n}});Object.defineProperty(r.default.AudioNode.prototype,"channelInterpretation",{get:function(){return this.output.channelInterpretation},set:function(n){return this.output.channelInterpretation=n}});Object.defineProperty(r.default.AudioNode.prototype,"numberOfInputs",{get:function(){return this.input?r.default.isArray(this.input)?this.input.length:1:0}});Object.defineProperty(r.default.AudioNode.prototype,"numberOfOutputs",{get:function(){return this.output?r.default.isArray(this.output)?this.output.length:1:0}});r.default.AudioNode.prototype.connect=function(n,t,i){return r.default.isArray(this.output)?(t=r.default.defaultArg(t,0),this.output[t].connect(n,0,i)):r.default.connect(this.output,n,t,i),this};r.default.AudioNode.prototype.disconnect=function(n,t,i){return r.default.isArray(this.output)?(t=r.default.defaultArg(t,0),this.output[t].disconnect(n,0,i)):r.default.disconnect(this.output,n,t,i),this};r.default.AudioNode.prototype.chain=function(){var n=Array.from(arguments);return n.unshift(this),r.default.connectSeries.apply(void 0,n),this};r.default.AudioNode.prototype.fan=function(){for(var n=0;n<arguments.length;n++)this.connect(arguments[n]);return this};r.default.AudioNode.prototype.dispose=function(){return r.default.isDefined(this.input)&&(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),r.default.isDefined(this.output)&&(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this._context=null,this};t.default=r.default.AudioNode},function(n,t,i){"use strict";var r,u;i.r(t);r=i(0);i(4);i(14);i(30);i(44);i(20);i(3);r.default.supported&&!r.default.global.AudioContext.prototype.createConstantSource&&(u=function(n){var i;this.context=n;for(var r=n.createBuffer(1,128,n.sampleRate),u=r.getChannelData(0),t=0;t<u.length;t++)u[t]=1;this._bufferSource=n.createBufferSource();this._bufferSource.channelCount=1;this._bufferSource.channelCountMode="explicit";this._bufferSource.buffer=r;this._bufferSource.loop=!0;i=this._output=n.createGain();this.offset=i.gain;this._bufferSource.connect(i)},u.prototype.start=function(n){return this._bufferSource.start(n),this},u.prototype.stop=function(n){return this._bufferSource.stop(n),this},u.prototype.connect=function(){return this._output.connect.apply(this._output,arguments),this},u.prototype.disconnect=function(){return this._output.disconnect.apply(this._output,arguments),this},AudioContext.prototype.createConstantSource=function(){return new u(this)},r.default.Context.prototype.createConstantSource=function(){return new u(this)});r.default.Signal=function(){var n=r.default.defaults(arguments,["value","units"],r.default.Signal);r.default.Param.call(this,n);this._constantSource=this.context.createConstantSource();this._constantSource.start(0);this._param=this._constantSource.offset;this.value=n.value;this.output=this._constantSource;this.input=this._param=this.output.offset};r.default.extend(r.default.Signal,r.default.Param);r.default.Signal.defaults={value:0,units:r.default.Type.Default,convert:!0};r.default.Signal.prototype.connect=r.default.SignalBase.prototype.connect;r.default.Signal.prototype.disconnect=r.default.SignalBase.prototype.disconnect;r.default.Signal.prototype.getValueAtTime=function(n){return this._param.getValueAtTime?this._param.getValueAtTime(n):r.default.Param.prototype.getValueAtTime.call(this,n)};r.default.Signal.prototype.dispose=function(){return r.default.Param.prototype.dispose.call(this),this._constantSource.stop(),this._constantSource.disconnect(),this._constantSource=null,this};t.default=r.default.Signal},function(n,t,i){"use strict";i.r(t);var r=i(0);i(14);i(4);i(1);r.default.Gain=function(){var n=r.default.defaults(arguments,["gain","units"],r.default.Gain);r.default.AudioNode.call(this,n);this.input=this.output=this._gainNode=this.context.createGain();this.gain=new r.default.Param({param:this._gainNode.gain,units:n.units,value:n.gain,convert:n.convert});this._readOnly("gain")};r.default.extend(r.default.Gain,r.default.AudioNode);r.default.Gain.defaults={gain:1,convert:!0};r.default.Gain.prototype.dispose=function(){r.default.AudioNode.prototype.dispose.call(this);this._gainNode.disconnect();this._gainNode=null;this._writable("gain");this.gain.dispose();this.gain=null};t.default=r.default.Gain},function(n,t,i){"use strict";i.r(t);var r=i(0);i(63);i(46);i(45);i(20);r.default.Type={Default:"number",Time:"time",Frequency:"frequency",TransportTime:"transportTime",Ticks:"ticks",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Gain:"gain",Cents:"cents",Degrees:"degrees",MIDI:"midi",BarsBeatsSixteenths:"barsBeatsSixteenths",Samples:"samples",Hertz:"hertz",Note:"note",Milliseconds:"milliseconds",Seconds:"seconds",Notation:"notation"};r.default.prototype.toSeconds=function(n){return r.default.isNumber(n)?n:r.default.isUndef(n)?this.now():r.default.isString(n)||r.default.isObject(n)?new r.default.Time(n).toSeconds():n instanceof r.default.TimeBase?n.toSeconds():void 0};r.default.prototype.toFrequency=function(n){return r.default.isNumber(n)?n:r.default.isString(n)||r.default.isUndef(n)||r.default.isObject(n)?new r.default.Frequency(n).valueOf():n instanceof r.default.TimeBase?n.toFrequency():void 0};r.default.prototype.toTicks=function(n){return r.default.isNumber(n)||r.default.isString(n)||r.default.isObject(n)?new r.default.TransportTime(n).toTicks():r.default.isUndef(n)?r.default.Transport.ticks:n instanceof r.default.TimeBase?n.toTicks():void 0};t.default=r.default},function(n,t,i){"use strict";i.r(t);var r=i(0);i(14);i(3);i(30);r.default.Multiply=function(n){r.default.Signal.call(this);this.createInsOuts(2,0);this._mult=this.input[0]=this.output=new r.default.Gain;this._param=this.input[1]=this.output.gain;this.value=r.default.defaultArg(n,0)};r.default.extend(r.default.Multiply,r.default.Signal);r.default.Multiply.prototype.dispose=function(){return r.default.Signal.prototype.dispose.call(this),this._mult.dispose(),this._mult=null,this._param=null,this};t.default=r.default.Multiply},function(n,t,i){"use strict";i.r(t);var r=i(0);i(16);i(27);i(40);i(4);i(34);i(2);i(1);r.default.Source=function(n){n=r.default.defaultArg(n,r.default.Source.defaults);r.default.AudioNode.call(this);this._volume=this.output=new r.default.Volume(n.volume);this.volume=this._volume.volume;this._readOnly("volume");this._state=new r.default.TimelineState(r.default.State.Stopped);this._state.memory=100;this._synced=!1;this._scheduled=[];this._volume.output.output.channelCount=2;this._volume.output.output.channelCountMode="explicit";this.mute=n.mute};r.default.extend(r.default.Source,r.default.AudioNode);r.default.Source.defaults={volume:0,mute:!1};Object.defineProperty(r.default.Source.prototype,"state",{get:function(){return this._synced?r.default.Transport.state===r.default.State.Started?this._state.getValueAtTime(r.default.Transport.seconds):r.default.State.Stopped:this._state.getValueAtTime(this.now())}});Object.defineProperty(r.default.Source.prototype,"mute",{get:function(){return this._volume.mute},set:function(n){this._volume.mute=n}});r.default.Source.prototype._start=r.default.noOp;r.default.Source.prototype.restart=r.default.noOp;r.default.Source.prototype._stop=r.default.noOp;r.default.Source.prototype.start=function(n,t,i){var u,f;return(r.default.isUndef(n)&&this._synced?n=r.default.Transport.seconds:(n=this.toSeconds(n),this._synced||(n=Math.max(n,this.context.currentTime))),this._state.getValueAtTime(n)===r.default.State.Started)?(this._state.cancel(n),this._state.setStateAtTime(r.default.State.Started,n),this.restart(n,t,i)):(this._state.setStateAtTime(r.default.State.Started,n),this._synced)?(u=this._state.get(n),u.offset=r.default.defaultArg(t,0),u.duration=i,f=r.default.Transport.schedule(function(n){this._start(n,t,i)}.bind(this),n),this._scheduled.push(f),r.default.Transport.state===r.default.State.Started&&this._syncedStart(this.now(),r.default.Transport.seconds)):this._start.apply(this,arguments),this};r.default.Source.prototype.stop=function(n){if(r.default.isUndef(n)&&this._synced?n=r.default.Transport.seconds:(n=this.toSeconds(n),n=Math.max(n,this.context.currentTime)),this._synced){var t=r.default.Transport.schedule(this._stop.bind(this),n);this._scheduled.push(t)}else this._stop.apply(this,arguments);return this._state.cancel(n),this._state.setStateAtTime(r.default.State.Stopped,n),this};r.default.Source.prototype.sync=function(){return this._synced=!0,this._syncedStart=function(n,t){var i,f,u;t>0&&(i=this._state.get(t),i&&i.state===r.default.State.Started&&i.time!==t&&(u=t-this.toSeconds(i.time),i.duration&&(f=this.toSeconds(i.duration)-u),this._start(n,this.toSeconds(i.offset)+u,f)))}.bind(this),this._syncedStop=function(n){var t=r.default.Transport.getSecondsAtTime(Math.max(n-this.sampleTime,0));this._state.getValueAtTime(t)===r.default.State.Started&&this._stop(n)}.bind(this),r.default.Transport.on("start loopStart",this._syncedStart),r.default.Transport.on("stop pause loopEnd",this._syncedStop),this};r.default.Source.prototype.unsync=function(){var n,t;for(this._synced&&(r.default.Transport.off("stop pause loopEnd",this._syncedStop),r.default.Transport.off("start loopStart",this._syncedStart)),this._synced=!1,n=0;n<this._scheduled.length;n++)t=this._scheduled[n],r.default.Transport.clear(t);return this._scheduled=[],this._state.cancel(0),this};r.default.Source.prototype.dispose=function(){r.default.AudioNode.prototype.dispose.call(this);this.unsync();this._scheduled=null;this._writable("volume");this._volume.dispose();this._volume=null;this.volume=null;this._state.dispose();this._state=null};t.default=r.default.Source},function(n,t,i){"use strict";var r,f,u;i.r(t);r=i(0);i(30);i(44);r.default.supported&&!r.default.global.AudioContext.prototype._native_createWaveShaper&&(f=navigator.userAgent.toLowerCase(),f.includes("safari")&&!f.includes("chrome")&&(u=function(n){for(var t in this._internalNode=this.input=this.output=n._native_createWaveShaper(),this._curve=null,this._internalNode)this._defineProperty(this._internalNode,t)},Object.defineProperty(u.prototype,"curve",{get:function(){return this._curve},set:function(n){this._curve=n;var t=new Float32Array(n.length+1);t.set(n,1);t[0]=n[0];this._internalNode.curve=t}}),u.prototype._defineProperty=function(n,t){r.default.isUndef(this[t])&&Object.defineProperty(this,t,{get:function(){return"function"==typeof n[t]?n[t].bind(n):n[t]},set:function(i){n[t]=i}})},r.default.global.AudioContext.prototype._native_createWaveShaper=r.default.global.AudioContext.prototype.createWaveShaper,r.default.global.AudioContext.prototype.createWaveShaper=function(){return new u(this)}));r.default.WaveShaper=function(n,t){r.default.SignalBase.call(this);this._shaper=this.input=this.output=this.context.createWaveShaper();this._curve=null;Array.isArray(n)?this.curve=n:isFinite(n)||r.default.isUndef(n)?this._curve=new Float32Array(r.default.defaultArg(n,1024)):r.default.isFunction(n)&&(this._curve=new Float32Array(r.default.defaultArg(t,1024)),this.setMap(n))};r.default.extend(r.default.WaveShaper,r.default.SignalBase);r.default.WaveShaper.prototype.setMap=function(n){for(var u,i=new Array(this._curve.length),t=0,r=this._curve.length;t<r;t++)u=t/(r-1)*2-1,i[t]=n(u,t);return this.curve=i,this};Object.defineProperty(r.default.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(n){this._curve=new Float32Array(n);this._shaper.curve=this._curve}});Object.defineProperty(r.default.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(n){if(!["none","2x","4x"].includes(n))throw new RangeError("Tone.WaveShaper: oversampling must be either 'none', '2x', or '4x'");this._shaper.oversample=n}});r.default.WaveShaper.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this};t.default=r.default.WaveShaper},function(n,t,i){"use strict";i.r(t);var r=i(0);i(23);i(1);r.default.Effect=function(){var n=r.default.defaults(arguments,["wet"],r.default.Effect);r.default.AudioNode.call(this);this.createInsOuts(1,1);this._dryWet=new r.default.CrossFade(n.wet);this.wet=this._dryWet.fade;this.effectSend=new r.default.Gain;this.effectReturn=new r.default.Gain;r.default.connect(this.input,this._dryWet.a);r.default.connect(this.input,this.effectSend);this.effectReturn.connect(this._dryWet.b);this._dryWet.connect(this.output);this._readOnly(["wet"])};r.default.extend(r.default.Effect,r.default.AudioNode);r.default.Effect.defaults={wet:1};r.default.Effect.prototype.connectEffect=function(n){return this.effectSend.chain(n,this.effectReturn),this};r.default.Effect.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this.effectSend.dispose(),this.effectSend=null,this.effectReturn.dispose(),this.effectReturn=null,this._writable(["wet"]),this.wet=null,this};t.default=r.default.Effect},function(n,t,i){"use strict";i.r(t);var r=i(0);i(2);i(1);r.default.Filter=function(){var n=r.default.defaults(arguments,["frequency","type","rolloff"],r.default.Filter);r.default.AudioNode.call(this);this.createInsOuts(1,1);this._filters=[];this.frequency=new r.default.Signal(n.frequency,r.default.Type.Frequency);this.detune=new r.default.Signal(0,r.default.Type.Cents);this.gain=new r.default.Signal({value:n.gain,convert:!0,type:r.default.Type.Decibels});this.Q=new r.default.Signal(n.Q);this._type=n.type;this._rolloff=n.rolloff;this.rolloff=n.rolloff;this._readOnly(["detune","frequency","gain","Q"])};r.default.extend(r.default.Filter,r.default.AudioNode);r.default.Filter.defaults={type:"lowpass",frequency:350,rolloff:-12,Q:1,gain:0};Object.defineProperty(r.default.Filter.prototype,"type",{get:function(){return this._type},set:function(n){if(-1===["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(n))throw new TypeError("Tone.Filter: invalid type "+n);this._type=n;for(var t=0;t<this._filters.length;t++)this._filters[t].type=n}});Object.defineProperty(r.default.Filter.prototype,"rolloff",{get:function(){return this._rolloff},set:function(n){var i,u,f,t,e;if(n=parseInt(n,10),i=[-12,-24,-48,-96].indexOf(n),-1===i)throw new RangeError("Tone.Filter: rolloff can only be -12, -24, -48 or -96");for(i+=1,this._rolloff=n,this.input.disconnect(),u=0;u<this._filters.length;u++)this._filters[u].disconnect(),this._filters[u]=null;for(this._filters=new Array(i),f=0;f<i;f++)t=this.context.createBiquadFilter(),t.type=this._type,this.frequency.connect(t.frequency),this.detune.connect(t.detune),this.Q.connect(t.Q),this.gain.connect(t.gain),this._filters[f]=t;e=[this.input].concat(this._filters).concat([this.output]);r.default.connectSeries.apply(r.default,e)}});r.default.Filter.prototype.getFrequencyResponse=function(n){var e,i,o;n=r.default.defaultArg(n,128);for(var u=new Float32Array(n).map(function(){return 1}),f=new Float32Array(n),t=0;t<n;t++)e=19980*Math.pow(t/n,2)+20,f[t]=e;return i=new Float32Array(n),o=new Float32Array(n),this._filters.forEach(function(){var n=this.context.createBiquadFilter();n.type=this._type;n.Q.value=this.Q.value;n.frequency.value=this.frequency.value;n.gain.value=this.gain.value;n.getFrequencyResponse(f,i,o);i.forEach(function(n,t){u[t]*=n})}.bind(this)),u};r.default.Filter.prototype.dispose=function(){r.default.AudioNode.prototype.dispose.call(this);for(var n=0;n<this._filters.length;n++)this._filters[n].disconnect(),this._filters[n]=null;return this._filters=null,this._writable(["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.frequency=null,this.Q=null,this.detune.dispose(),this.detune=null,this.gain.dispose(),this.gain=null,this};t.default=r.default.Filter},function(n,t,i){"use strict";i.r(t);var r=i(0);i(1);r.default.Merge=function(n){n=r.default.defaultArg(n,2);r.default.AudioNode.call(this);this.createInsOuts(n,0);this._merger=this.output=this.context.createChannelMerger(n);for(var t=0;t<n;t++)this.input[t]=new r.default.Gain,this.input[t].connect(this._merger,0,t),this.input[t].channelCount=1,this.input[t].channelCountMode="explicit";this.left=this.input[0];this.right=this.input[1]};r.default.extend(r.default.Merge,r.default.AudioNode);r.default.Merge.prototype.dispose=function(){return this.input.forEach(function(n){n.dispose()}),r.default.AudioNode.prototype.dispose.call(this),this.left=null,this.right=null,this._merger.disconnect(),this._merger=null,this};t.default=r.default.Merge},function(n,t,i){"use strict";i.r(t);var r=i(0);i(35);i(4);r.default.supported&&(AudioBuffer.prototype.copyToChannel||(AudioBuffer.prototype.copyToChannel=function(n,t,i){var u=this.getChannelData(t),r;for(i=i||0,r=0;r<u.length;r++)u[r+i]=n[r]},AudioBuffer.prototype.copyFromChannel=function(n,t,i){var u=this.getChannelData(t),r;for(i=i||0,r=0;r<n.length;r++)n[r]=u[r+i]}));r.default.Buffer=function(){var n=r.default.defaults(arguments,["url","onload","onerror"],r.default.Buffer);r.default.call(this);this._buffer=null;this._reversed=n.reverse;this._xhr=null;this.onload=r.default.noOp;n.url instanceof AudioBuffer||n.url instanceof r.default.Buffer?(this.set(n.url),this.loaded||(this.onload=n.onload)):r.default.isString(n.url)&&this.load(n.url).then(n.onload).catch(n.onerror)};r.default.extend(r.default.Buffer);r.default.Buffer.defaults={url:void 0,reverse:!1,onload:r.default.noOp,onerror:r.default.noOp};r.default.Buffer.prototype.set=function(n){return n instanceof r.default.Buffer?n.loaded?this._buffer=n.get():n.onload=function(){this.set(n);this.onload(this)}.bind(this):this._buffer=n,this._reversed&&this._reverse(),this};r.default.Buffer.prototype.get=function(){return this._buffer};r.default.Buffer.prototype.load=function(n,t,i){return new Promise(function(u,f){this._xhr=r.default.Buffer.load(n,function(n){this._xhr=null;this.set(n);u(this);this.onload(this);t&&t(this)}.bind(this),function(n){this._xhr=null;f(n);i&&i(n)}.bind(this))}.bind(this))};r.default.Buffer.prototype.dispose=function(){return r.default.prototype.dispose.call(this),this._buffer=null,this._xhr&&(r.default.Buffer._removeFromDownloadQueue(this._xhr),this._xhr.abort(),this._xhr=null),this};Object.defineProperty(r.default.Buffer.prototype,"loaded",{get:function(){return this.length>0}});Object.defineProperty(r.default.Buffer.prototype,"duration",{get:function(){return this._buffer?this._buffer.duration:0}});Object.defineProperty(r.default.Buffer.prototype,"length",{get:function(){return this._buffer?this._buffer.length:0}});Object.defineProperty(r.default.Buffer.prototype,"numberOfChannels",{get:function(){return this._buffer?this._buffer.numberOfChannels:0}});r.default.Buffer.prototype.fromArray=function(n){var i=n[0].length>0,r=i?n.length:1,f=i?n[0].length:n.length,u=this.context.createBuffer(r,f,this.context.sampleRate),t;for(i||1!==r||(n=[n]),t=0;t<r;t++)u.copyToChannel(n[t],t);return this._buffer=u,this};r.default.Buffer.prototype.toMono=function(n){var f,t;if(r.default.isNumber(n))this.fromArray(this.toArray(n));else{for(var i=new Float32Array(this.length),e=this.numberOfChannels,u=0;u<e;u++)for(f=this.toArray(u),t=0;t<f.length;t++)i[t]+=f[t];i=i.map(function(n){return n/e});this.fromArray(i)}return this};r.default.Buffer.prototype.toArray=function(n){if(r.default.isNumber(n))return this.getChannelData(n);if(1===this.numberOfChannels)return this.toArray(0);for(var i=[],t=0;t<this.numberOfChannels;t++)i[t]=this.getChannelData(t);return i};r.default.Buffer.prototype.getChannelData=function(n){return this._buffer.getChannelData(n)};r.default.Buffer.prototype.slice=function(n,t){t=r.default.defaultArg(t,this.duration);for(var f=Math.floor(this.context.sampleRate*this.toSeconds(n)),e=Math.floor(this.context.sampleRate*this.toSeconds(t)),u=[],i=0;i<this.numberOfChannels;i++)u[i]=this.toArray(i).slice(f,e);return(new r.default.Buffer).fromArray(u)};r.default.Buffer.prototype._reverse=function(){if(this.loaded)for(var n=0;n<this.numberOfChannels;n++)Array.prototype.reverse.call(this.getChannelData(n));return this};Object.defineProperty(r.default.Buffer.prototype,"reverse",{get:function(){return this._reversed},set:function(n){this._reversed!==n&&(this._reversed=n,this._reverse())}});r.default.Emitter.mixin(r.default.Buffer);r.default.Buffer._downloadQueue=[];r.default.Buffer.baseUrl="";r.default.Buffer.fromArray=function(n){return(new r.default.Buffer).fromArray(n)};r.default.Buffer.fromUrl=function(n){var t=new r.default.Buffer;return t.load(n).then(function(){return t})};r.default.Buffer._removeFromDownloadQueue=function(n){var t=r.default.Buffer._downloadQueue.indexOf(n);-1!==t&&r.default.Buffer._downloadQueue.splice(t,1)};r.default.Buffer.load=function(n,t,i){function s(n){if(r.default.Buffer._removeFromDownloadQueue(u),r.default.Buffer.emit("error",n),!i)throw n;i(n)}function c(){for(var t=0,n=0;n<r.default.Buffer._downloadQueue.length;n++)t+=r.default.Buffer._downloadQueue[n].progress;r.default.Buffer.emit("progress",t/r.default.Buffer._downloadQueue.length)}var f,u;if(t=r.default.defaultArg(t,r.default.noOp),f=n.match(/\[(.+\|?)+\]$/),f){for(var e=f[1].split("|"),h=e[0],o=0;o<e.length;o++)if(r.default.Buffer.supportsType(e[o])){h=e[o];break}n=n.replace(f[0],h)}return u=new XMLHttpRequest,u.open("GET",r.default.Buffer.baseUrl+n,!0),u.responseType="arraybuffer",u.progress=0,r.default.Buffer._downloadQueue.push(u),u.addEventListener("load",function(){200===u.status?r.default.context.decodeAudioData(u.response).then(function(n){u.progress=1;c();t(n);r.default.Buffer._removeFromDownloadQueue(u);0===r.default.Buffer._downloadQueue.length&&r.default.Buffer.emit("load")}).catch(function(){r.default.Buffer._removeFromDownloadQueue(u);s("Tone.Buffer: could not decode audio data: "+n)}):s("Tone.Buffer: could not locate file: "+n)}),u.addEventListener("error",s),u.addEventListener("progress",function(n){n.lengthComputable&&(u.progress=n.loaded/n.total*.95,c())}),u.send(),u};r.default.Buffer.cancelDownloads=function(){return r.default.Buffer._downloadQueue.slice().forEach(function(n){r.default.Buffer._removeFromDownloadQueue(n);n.abort()}),r.default.Buffer};r.default.Buffer.supportsType=function(n){var t=n.split(".");return t=t[t.length-1],""!==document.createElement("audio").canPlayType("audio/"+t)};r.default.loaded=function(){function i(){r.default.Buffer.off("load",n);r.default.Buffer.off("error",t)}var n,t;return new Promise(function(i,u){n=function(){i()};t=function(){u()};r.default.Buffer.on("load",n);r.default.Buffer.on("error",t)}).then(i).catch(function(n){throw i(),new Error(n);})};t.default=r.default.Buffer},function(n,t,i){"use strict";i.r(t);var r=i(0);i(17);i(26);i(1);i(2);i(22);i(4);i(28);r.default.LFO=function(){var n=r.default.defaults(arguments,["frequency","min","max"],r.default.LFO);r.default.AudioNode.call(this);this._oscillator=new r.default.Oscillator({frequency:n.frequency,type:n.type});this.frequency=this._oscillator.frequency;this.amplitude=this._oscillator.volume;this.amplitude.units=r.default.Type.NormalRange;this.amplitude.value=n.amplitude;this._stoppedSignal=new r.default.Signal(0,r.default.Type.AudioRange);this._zeros=new r.default.Zero;this._stoppedValue=0;this._a2g=new r.default.AudioToGain;this._scaler=this.output=new r.default.Scale(n.min,n.max);this._units=r.default.Type.Default;this.units=n.units;this._oscillator.chain(this._a2g,this._scaler);this._zeros.connect(this._a2g);this._stoppedSignal.connect(this._a2g);this._readOnly(["amplitude","frequency"]);this.phase=n.phase};r.default.extend(r.default.LFO,r.default.AudioNode);r.default.LFO.defaults={type:"sine",min:0,max:1,phase:0,frequency:"4n",amplitude:1,units:r.default.Type.Default};r.default.LFO.prototype.start=function(n){return n=this.toSeconds(n),this._stoppedSignal.setValueAtTime(0,n),this._oscillator.start(n),this};r.default.LFO.prototype.stop=function(n){return n=this.toSeconds(n),this._stoppedSignal.setValueAtTime(this._stoppedValue,n),this._oscillator.stop(n),this};r.default.LFO.prototype.sync=function(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this};r.default.LFO.prototype.unsync=function(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this};Object.defineProperty(r.default.LFO.prototype,"min",{get:function(){return this._toUnits(this._scaler.min)},set:function(n){n=this._fromUnits(n);this._scaler.min=n}});Object.defineProperty(r.default.LFO.prototype,"max",{get:function(){return this._toUnits(this._scaler.max)},set:function(n){n=this._fromUnits(n);this._scaler.max=n}});Object.defineProperty(r.default.LFO.prototype,"type",{get:function(){return this._oscillator.type},set:function(n){this._oscillator.type=n;this._stoppedValue=this._oscillator._getInitialValue();this._stoppedSignal.value=this._stoppedValue}});Object.defineProperty(r.default.LFO.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(n){this._oscillator.phase=n;this._stoppedValue=this._oscillator._getInitialValue();this._stoppedSignal.value=this._stoppedValue}});Object.defineProperty(r.default.LFO.prototype,"units",{get:function(){return this._units},set:function(n){var t=this.min,i=this.max;this._units=n;this.min=t;this.max=i}});Object.defineProperty(r.default.LFO.prototype,"state",{get:function(){return this._oscillator.state}});r.default.LFO.prototype.connect=function(n){return n.constructor!==r.default.Signal&&n.constructor!==r.default.Param||(this.convert=n.convert,this.units=n.units),r.default.SignalBase.prototype.connect.apply(this,arguments),this};r.default.LFO.prototype._fromUnits=r.default.Param.prototype._fromUnits;r.default.LFO.prototype._toUnits=r.default.Param.prototype._toUnits;r.default.LFO.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["amplitude","frequency"]),this._oscillator.dispose(),this._oscillator=null,this._stoppedSignal.dispose(),this._stoppedSignal=null,this._zeros.dispose(),this._zeros=null,this._scaler.dispose(),this._scaler=null,this._a2g.dispose(),this._a2g=null,this.frequency=null,this.amplitude=null,this};t.default=r.default.LFO},function(n,t,i){"use strict";i.r(t);var r=i(0);i(29);i(90);i(2);i(3);r.default.Subtract=function(n){r.default.Signal.call(this);this.createInsOuts(2,0);this._sum=this.input[0]=this.output=new r.default.Gain;this._neg=new r.default.Negate;this._param=this.input[1]=new r.default.Signal(n);this._param.chain(this._neg,this._sum)};r.default.extend(r.default.Subtract,r.default.Signal);r.default.Subtract.prototype.dispose=function(){return r.default.Signal.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._sum.disconnect(),this._sum=null,this};t.default=r.default.Subtract},function(n,t,i){"use strict";i.r(t);var r=i(0);i(4);i(1);i(24);r.default.Param=function(){var n=r.default.defaults(arguments,["param","units","convert"],r.default.Param);r.default.AudioNode.call(this,n);this._param=this.input=n.param;this.units=n.units;this.convert=n.convert;this.overridden=!1;this._events=new r.default.Timeline(1e3);r.default.isDefined(n.value)&&this._param&&this.setValueAtTime(n.value,0)};r.default.extend(r.default.Param,r.default.AudioNode);r.default.Param.defaults={units:r.default.Type.Default,convert:!0,param:void 0};Object.defineProperty(r.default.Param.prototype,"value",{get:function(){var n=this.now();return this._toUnits(this.getValueAtTime(n))},set:function(n){this._initialValue=this._fromUnits(n);this.cancelScheduledValues(this.now());this.setValueAtTime(n,this.now())}});Object.defineProperty(r.default.Param.prototype,"minValue",{get:function(){return this.units===r.default.Type.Time||this.units===r.default.Type.Frequency||this.units===r.default.Type.NormalRange||this.units===r.default.Type.Positive||this.units===r.default.Type.BPM?0:this.units===r.default.Type.AudioRange?-1:this.units===r.default.Type.Decibels?-1/0:this._param.minValue}});Object.defineProperty(r.default.Param.prototype,"maxValue",{get:function(){return this.units===r.default.Type.NormalRange||this.units===r.default.Type.AudioRange?1:this._param.maxValue}});r.default.Param.prototype._fromUnits=function(n){if(!this.convert&&!r.default.isUndef(this.convert)||this.overridden)return n;switch(this.units){case r.default.Type.Time:return this.toSeconds(n);case r.default.Type.Frequency:return this.toFrequency(n);case r.default.Type.Decibels:return r.default.dbToGain(n);case r.default.Type.NormalRange:return Math.min(Math.max(n,0),1);case r.default.Type.AudioRange:return Math.min(Math.max(n,-1),1);case r.default.Type.Positive:return Math.max(n,0);default:return n}};r.default.Param.prototype._toUnits=function(n){if(!this.convert&&!r.default.isUndef(this.convert))return n;switch(this.units){case r.default.Type.Decibels:return r.default.gainToDb(n);default:return n}};r.default.Param.prototype._minOutput=1e-5;r.default.Param.AutomationType={Linear:"linearRampToValueAtTime",Exponential:"exponentialRampToValueAtTime",Target:"setTargetAtTime",SetValue:"setValueAtTime",Cancel:"cancelScheduledValues"};r.default.Param.prototype.setValueAtTime=function(n,t){return t=this.toSeconds(t),n=this._fromUnits(n),this._events.add({type:r.default.Param.AutomationType.SetValue,value:n,time:t}),this.log(r.default.Param.AutomationType.SetValue,n,t),this._param.setValueAtTime(n,t),this};r.default.Param.prototype.getValueAtTime=function(n){var o,e;n=this.toSeconds(n);var i=this._events.getAfter(n),t=this._events.get(n),f=r.default.defaultArg(this._initialValue,this._param.defaultValue),u=f;return null===t?u=f:t.type===r.default.Param.AutomationType.Target?(e=this._events.getBefore(t.time),o=null===e?f:e.value,u=this._exponentialApproach(t.time,o,t.value,t.constant,n)):u=null===i?t.value:i.type===r.default.Param.AutomationType.Linear?this._linearInterpolate(t.time,t.value,i.time,i.value,n):i.type===r.default.Param.AutomationType.Exponential?this._exponentialInterpolate(t.time,t.value,i.time,i.value,n):t.value,u};r.default.Param.prototype.setRampPoint=function(n){n=this.toSeconds(n);var t=this.getValueAtTime(n);return this.cancelAndHoldAtTime(n),0===t&&(t=this._minOutput),this.setValueAtTime(this._toUnits(t),n),this};r.default.Param.prototype.linearRampToValueAtTime=function(n,t){return n=this._fromUnits(n),t=this.toSeconds(t),this._events.add({type:r.default.Param.AutomationType.Linear,value:n,time:t}),this.log(r.default.Param.AutomationType.Linear,n,t),this._param.linearRampToValueAtTime(n,t),this};r.default.Param.prototype.exponentialRampToValueAtTime=function(n,t){return n=this._fromUnits(n),n=Math.max(this._minOutput,n),t=this.toSeconds(t),this._events.add({type:r.default.Param.AutomationType.Exponential,time:t,value:n}),this.log(r.default.Param.AutomationType.Exponential,n,t),this._param.exponentialRampToValueAtTime(n,t),this};r.default.Param.prototype.exponentialRampTo=function(n,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(n,i+this.toSeconds(t)),this};r.default.Param.prototype.linearRampTo=function(n,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(n,i+this.toSeconds(t)),this};r.default.Param.prototype.targetRampTo=function(n,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(n,i,t),this};r.default.Param.prototype.exponentialApproachValueAtTime=function(n,t,i){var r=Math.log(this.toSeconds(i)+1)/Math.log(200);return t=this.toSeconds(t),this.setTargetAtTime(n,t,r),this.cancelAndHoldAtTime(t+.9*i),this.linearRampToValueAtTime(n,t+i),this};r.default.Param.prototype.setTargetAtTime=function(n,t,i){if(n=this._fromUnits(n),i<=0)throw new Error("timeConstant must be greater than 0");return t=this.toSeconds(t),this._events.add({type:r.default.Param.AutomationType.Target,value:n,time:t,constant:i}),this.log(r.default.Param.AutomationType.Target,n,t,i),this._param.setTargetAtTime(n,t,i),this};r.default.Param.prototype.setValueCurveAtTime=function(n,t,i,u){u=r.default.defaultArg(u,1);i=this.toSeconds(i);t=this.toSeconds(t);this.setValueAtTime(n[0]*u,t);for(var e=i/(n.length-1),f=1;f<n.length;f++)this.linearRampToValueAtTime(n[f]*u,t+f*e);return this};r.default.Param.prototype.cancelScheduledValues=function(n){return n=this.toSeconds(n),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(r.default.Param.AutomationType.Cancel,n),this};r.default.Param.prototype.cancelAndHoldAtTime=function(n){var i,u,t;return n=this.toSeconds(n),i=this.getValueAtTime(n),this.log("cancelAndHoldAtTime",n,"value="+i),this._param.cancelScheduledValues(n),u=this._events.get(n),t=this._events.getAfter(n),u&&u.time===n?t?this._events.cancel(t.time):this._events.cancel(n+this.sampleTime):t&&(this._events.cancel(t.time),t.type===r.default.Param.AutomationType.Linear?this.linearRampToValueAtTime(i,n):t.type===r.default.Param.AutomationType.Exponential&&this.exponentialRampToValueAtTime(i,n)),this._events.add({type:r.default.Param.AutomationType.SetValue,value:i,time:n}),this._param.setValueAtTime(i,n),this};r.default.Param.prototype.rampTo=function(n,t,i){return t=r.default.defaultArg(t,.1),this.units===r.default.Type.Frequency||this.units===r.default.Type.BPM||this.units===r.default.Type.Decibels?this.exponentialRampTo(n,t,i):this.linearRampTo(n,t,i),this};r.default.Param.prototype._exponentialApproach=function(n,t,i,r,u){return i+(t-i)*Math.exp(-(u-n)/r)};r.default.Param.prototype._linearInterpolate=function(n,t,i,r,u){return t+(u-n)/(i-n)*(r-t)};r.default.Param.prototype._exponentialInterpolate=function(n,t,i,r,u){return t*Math.pow(r/t,(u-n)/(i-n))};r.default.Param.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._param=null,this._events=null,this};t.default=r.default.Param},function(n,t,i){"use strict";i.r(t);var r=i(0);i(8);i(19);i(10);i(23);r.default.StereoEffect=function(){r.default.AudioNode.call(this);var n=r.default.defaults(arguments,["wet"],r.default.Effect);this.createInsOuts(1,1);this._dryWet=new r.default.CrossFade(n.wet);this.wet=this._dryWet.fade;this._split=new r.default.Split;this.effectSendL=this._split.left;this.effectSendR=this._split.right;this._merge=new r.default.Merge;this.effectReturnL=this._merge.left;this.effectReturnR=this._merge.right;r.default.connect(this.input,this._split);r.default.connect(this.input,this._dryWet,0,0);this._merge.connect(this._dryWet,0,1);this._dryWet.connect(this.output);this._readOnly(["wet"])};r.default.extend(r.default.StereoEffect,r.default.Effect);r.default.StereoEffect.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this._split.dispose(),this._split=null,this._merge.dispose(),this._merge=null,this.effectSendL=null,this.effectSendR=null,this.effectReturnL=null,this.effectReturnR=null,this._writable(["wet"]),this.wet=null,this};t.default=r.default.StereoEffect},function(n,t,i){"use strict";var r,u;i.r(t);r=i(0);i(83);i(4);i(24);i(35);i(3);i(81);i(80);i(56);r.default.Transport=function(){r.default.Emitter.call(this);r.default.getContext(function(){this.loop=!1;this._loopStart=0;this._loopEnd=0;this._ppq=u.defaults.PPQ;this._clock=new r.default.Clock({callback:this._processTick.bind(this),frequency:0});this._bindClockEvents();this.bpm=this._clock.frequency;this.bpm._toUnits=this._toUnits.bind(this);this.bpm._fromUnits=this._fromUnits.bind(this);this.bpm.units=r.default.Type.BPM;this.bpm.value=u.defaults.bpm;this._readOnly("bpm");this._timeSignature=u.defaults.timeSignature;this._scheduledEvents={};this._timeline=new r.default.Timeline;this._repeatedEvents=new r.default.IntervalTimeline;this._syncedSignals=[];this._swingTicks=u.defaults.PPQ/2;this._swingAmount=0;this.context.transport=this}.bind(this))};r.default.extend(r.default.Transport,r.default.Emitter);r.default.Transport.defaults={bpm:120,swing:0,swingSubdivision:"8n",timeSignature:4,loopStart:0,loopEnd:"4m",PPQ:192};r.default.Transport.prototype.isTransport=!0;r.default.Transport.prototype._processTick=function(n,t){if(this._swingAmount>0&&t%this._ppq!=0&&t%(2*this._swingTicks)!=0){var i=t%(2*this._swingTicks)/(2*this._swingTicks),u=Math.sin(i*Math.PI)*this._swingAmount;n+=r.default.Ticks(2*this._swingTicks/3).toSeconds()*u}this.loop&&t>=this._loopEnd&&(this.emit("loopEnd",n),this._clock.setTicksAtTime(this._loopStart,n),t=this._loopStart,this.emit("loopStart",n,this._clock.getSecondsAtTime(n)),this.emit("loop",n));this._timeline.forEachAtTime(t,function(t){t.invoke(n)})};r.default.Transport.prototype.schedule=function(n,t){var i=new r.default.TransportEvent(this,{time:r.default.TransportTime(t),callback:n});return this._addEvent(i,this._timeline)};r.default.Transport.prototype.scheduleRepeat=function(n,t,i,u){var f=new r.default.TransportRepeatEvent(this,{callback:n,interval:r.default.Time(t),time:r.default.TransportTime(i),duration:r.default.Time(r.default.defaultArg(u,1/0))});return this._addEvent(f,this._repeatedEvents)};r.default.Transport.prototype.scheduleOnce=function(n,t){var i=new r.default.TransportEvent(this,{time:r.default.TransportTime(t),callback:n,once:!0});return this._addEvent(i,this._timeline)};r.default.Transport.prototype.clear=function(n){if(this._scheduledEvents.hasOwnProperty(n)){var t=this._scheduledEvents[n.toString()];t.timeline.remove(t.event);t.event.dispose();delete this._scheduledEvents[n.toString()]}return this};r.default.Transport.prototype._addEvent=function(n,t){return this._scheduledEvents[n.id.toString()]={event:n,timeline:t},t.add(n),n.id};r.default.Transport.prototype.cancel=function(n){return n=r.default.defaultArg(n,0),n=this.toTicks(n),this._timeline.forEachFrom(n,function(n){this.clear(n.id)}.bind(this)),this._repeatedEvents.forEachFrom(n,function(n){this.clear(n.id)}.bind(this)),this};r.default.Transport.prototype._bindClockEvents=function(){this._clock.on("start",function(n,t){t=r.default.Ticks(t).toSeconds();this.emit("start",n,t)}.bind(this));this._clock.on("stop",function(n){this.emit("stop",n)}.bind(this));this._clock.on("pause",function(n){this.emit("pause",n)}.bind(this))};Object.defineProperty(r.default.Transport.prototype,"state",{get:function(){return this._clock.getStateAtTime(this.now())}});r.default.Transport.prototype.start=function(n,t){return r.default.isDefined(t)&&(t=this.toTicks(t)),this._clock.start(n,t),this};r.default.Transport.prototype.stop=function(n){return this._clock.stop(n),this};r.default.Transport.prototype.pause=function(n){return this._clock.pause(n),this};r.default.Transport.prototype.toggle=function(n){return n=this.toSeconds(n),this._clock.getStateAtTime(n)!==r.default.State.Started?this.start(n):this.stop(n),this};Object.defineProperty(r.default.Transport.prototype,"timeSignature",{get:function(){return this._timeSignature},set:function(n){r.default.isArray(n)&&(n=n[0]/n[1]*4);this._timeSignature=n}});Object.defineProperty(r.default.Transport.prototype,"loopStart",{get:function(){return r.default.Ticks(this._loopStart).toSeconds()},set:function(n){this._loopStart=this.toTicks(n)}});Object.defineProperty(r.default.Transport.prototype,"loopEnd",{get:function(){return r.default.Ticks(this._loopEnd).toSeconds()},set:function(n){this._loopEnd=this.toTicks(n)}});r.default.Transport.prototype.setLoopPoints=function(n,t){return this.loopStart=n,this.loopEnd=t,this};Object.defineProperty(r.default.Transport.prototype,"swing",{get:function(){return this._swingAmount},set:function(n){this._swingAmount=n}});Object.defineProperty(r.default.Transport.prototype,"swingSubdivision",{get:function(){return r.default.Ticks(this._swingTicks).toNotation()},set:function(n){this._swingTicks=this.toTicks(n)}});Object.defineProperty(r.default.Transport.prototype,"position",{get:function(){var n=this.now(),t=this._clock.getTicksAtTime(n);return r.default.Ticks(t).toBarsBeatsSixteenths()},set:function(n){var t=this.toTicks(n);this.ticks=t}});Object.defineProperty(r.default.Transport.prototype,"seconds",{get:function(){return this._clock.seconds},set:function(n){var t=this.now(),i=this.bpm.timeToTicks(n,t);this.ticks=i}});Object.defineProperty(r.default.Transport.prototype,"progress",{get:function(){if(this.loop){var n=this.now();return(this._clock.getTicksAtTime(n)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}});Object.defineProperty(r.default.Transport.prototype,"ticks",{get:function(){return this._clock.ticks},set:function(n){if(this._clock.ticks!==n){var t=this.now();this.state===r.default.State.Started?(this.emit("stop",t),this._clock.setTicksAtTime(n,t),this.emit("start",t,this.seconds)):this._clock.setTicksAtTime(n,t)}}});r.default.Transport.prototype.getTicksAtTime=function(n){return Math.round(this._clock.getTicksAtTime(n))};r.default.Transport.prototype.getSecondsAtTime=function(n){return this._clock.getSecondsAtTime(n)};Object.defineProperty(r.default.Transport.prototype,"PPQ",{get:function(){return this._ppq},set:function(n){var t=this.bpm.value;this._ppq=n;this.bpm.value=t}});r.default.Transport.prototype._fromUnits=function(n){return 1/(60/n/this.PPQ)};r.default.Transport.prototype._toUnits=function(n){return n/this.PPQ*60};r.default.Transport.prototype.nextSubdivision=function(n){if(n=this.toTicks(n),this.state!==r.default.State.Started)return 0;var t=this.now(),i=n-this.getTicksAtTime(t)%n;return this._clock.nextTickTime(i,t)};r.default.Transport.prototype.syncSignal=function(n,t){var i,u;return t||(i=this.now(),t=0!==n.getValueAtTime(i)?n.getValueAtTime(i)/this.bpm.getValueAtTime(i):0),u=new r.default.Gain(t),this.bpm.chain(u,n._param),this._syncedSignals.push({ratio:u,signal:n,initial:n.value}),n.value=0,this};r.default.Transport.prototype.unsyncSignal=function(n){for(var i,t=this._syncedSignals.length-1;t>=0;t--)i=this._syncedSignals[t],i.signal===n&&(i.ratio.dispose(),i.signal.value=i.initial,this._syncedSignals.splice(t,1));return this};r.default.Transport.prototype.dispose=function(){return r.default.Emitter.prototype.dispose.call(this),this._clock.dispose(),this._clock=null,this._writable("bpm"),this.bpm=null,this._timeline.dispose(),this._timeline=null,this._repeatedEvents.dispose(),this._repeatedEvents=null,this};u=r.default.Transport;r.default.Transport=new u;r.default.Context.on("init",function(n){r.default.Transport=n.transport&&n.transport.isTransport?n.transport:new u});r.default.Context.on("close",function(n){n.transport&&n.transport.isTransport&&n.transport.dispose()});t.default=r.default.Transport},function(n,t,i){"use strict";i.r(t);var r=i(0);i(2);i(6);i(16);i(64);r.default.Oscillator=function(){var n=r.default.defaults(arguments,["frequency","type"],r.default.Oscillator);r.default.Source.call(this,n);this._oscillator=null;this.frequency=new r.default.Signal(n.frequency,r.default.Type.Frequency);this.detune=new r.default.Signal(n.detune,r.default.Type.Cents);this._wave=null;this._partials=n.partials;this._partialCount=n.partialCount;this._phase=n.phase;this._type=n.type;n.partialCount&&n.type!==r.default.Oscillator.Type.Custom&&(this._type=this.baseType+n.partialCount.toString());this.phase=this._phase;this._readOnly(["frequency","detune"])};r.default.extend(r.default.Oscillator,r.default.Source);r.default.Oscillator.defaults={type:"sine",frequency:440,detune:0,phase:0,partials:[],partialCount:0};r.default.Oscillator.Type={Sine:"sine",Triangle:"triangle",Sawtooth:"sawtooth",Square:"square",Custom:"custom"};r.default.Oscillator.prototype._start=function(n){this.log("start",n);var t=new r.default.OscillatorNode;this._oscillator=t;this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type;this._oscillator.connect(this.output);this.frequency.connect(this._oscillator.frequency);this.detune.connect(this._oscillator.detune);n=this.toSeconds(n);this._oscillator.start(n)};r.default.Oscillator.prototype._stop=function(n){return this.log("stop",n),this._oscillator&&(n=this.toSeconds(n),this._oscillator.stop(n)),this};r.default.Oscillator.prototype.restart=function(n){return this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(this.toSeconds(n)),this};r.default.Oscillator.prototype.syncFrequency=function(){return r.default.Transport.syncSignal(this.frequency),this};r.default.Oscillator.prototype.unsyncFrequency=function(){return r.default.Transport.unsyncSignal(this.frequency),this};Object.defineProperty(r.default.Oscillator.prototype,"type",{get:function(){return this._type},set:function(n){var u=[r.default.Oscillator.Type.Sine,r.default.Oscillator.Type.Square,r.default.Oscillator.Type.Triangle,r.default.Oscillator.Type.Sawtooth].includes(n),t,i;0===this._phase&&u?(this._wave=null,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=n)):(t=this._getRealImaginary(n,this._phase),i=this.context.createPeriodicWave(t[0],t[1]),this._wave=i,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave));this._type=n}});Object.defineProperty(r.default.Oscillator.prototype,"baseType",{get:function(){return this._type.replace(this.partialCount,"")},set:function(n){this.type=this.partialCount&&this._type!==r.default.Oscillator.Type.Custom&&n!==r.default.Oscillator.Type.Custom?n+this.partialCount:n}});Object.defineProperty(r.default.Oscillator.prototype,"partialCount",{get:function(){return this._partialCount},set:function(n){var t=this._type,i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);i&&(t=i[1]);this._type!==r.default.Oscillator.Type.Custom&&(this.type=0===n?t:t+n.toString())}});r.default.Oscillator.prototype.get=function(){var n=r.default.prototype.get.apply(this,arguments);return n.type!==r.default.Oscillator.Type.Custom&&delete n.partials,n};r.default.Oscillator.prototype._getRealImaginary=function(n,t){var e=2048,h=new Float32Array(e),c=new Float32Array(e),f=1,o,i,u,s;for(n===r.default.Oscillator.Type.Custom?(f=this._partials.length+1,this._partialCount=this._partials.length,e=f):(o=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(n),o?(f=parseInt(o[2])+1,this._partialCount=parseInt(o[2]),n=o[1],e=f=Math.max(f,2)):this._partialCount=0,this._partials=[]),i=1;i<e;++i){s=2/(i*Math.PI);switch(n){case r.default.Oscillator.Type.Sine:u=i<=f?1:0;this._partials[i-1]=u;break;case r.default.Oscillator.Type.Square:u=1&i?2*s:0;this._partials[i-1]=u;break;case r.default.Oscillator.Type.Sawtooth:u=s*(1&i?1:-1);this._partials[i-1]=u;break;case r.default.Oscillator.Type.Triangle:u=1&i?s*s*2*(i-1>>1&1?-1:1):0;this._partials[i-1]=u;break;case r.default.Oscillator.Type.Custom:u=this._partials[i-1];break;default:throw new TypeError("Tone.Oscillator: invalid type: "+n);}0!==u?(h[i]=-u*Math.sin(t*i),c[i]=u*Math.cos(t*i)):(h[i]=0,c[i]=0)}return[h,c]};r.default.Oscillator.prototype._inverseFFT=function(n,t,i){for(var u=0,f=n.length,r=0;r<f;r++)u+=n[r]*Math.cos(r*i)+t[r]*Math.sin(r*i);return u};r.default.Oscillator.prototype._getInitialValue=function(){for(var i=this._getRealImaginary(this._type,0),r=i[0],u=i[1],n=0,f=2*Math.PI,t=0;t<8;t++)n=Math.max(this._inverseFFT(r,u,t/8*f),n);return-this._inverseFFT(r,u,this._phase)/n};Object.defineProperty(r.default.Oscillator.prototype,"partials",{get:function(){return this._partials},set:function(n){this._partials=n;this.type=r.default.Oscillator.Type.Custom}});Object.defineProperty(r.default.Oscillator.prototype,"phase",{get:function(){return this._phase*(180/Math.PI)},set:function(n){this._phase=n*Math.PI/180;this.type=this._type}});r.default.Oscillator.prototype.dispose=function(){return r.default.Source.prototype.dispose.call(this),null!==this._oscillator&&(this._oscillator.dispose(),this._oscillator=null),this._wave=null,this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._partials=null,this};t.default=r.default.Oscillator},function(n,t,i){"use strict";i.r(t);var r=i(0);i(14);i(1);r.default.Delay=function(){var n=r.default.defaults(arguments,["delayTime","maxDelay"],r.default.Delay);r.default.AudioNode.call(this,n);this._maxDelay=Math.max(this.toSeconds(n.maxDelay),this.toSeconds(n.delayTime));this._delayNode=this.input=this.output=this.context.createDelay(this._maxDelay);this.delayTime=new r.default.Param({param:this._delayNode.delayTime,units:r.default.Type.Time,value:n.delayTime});this._readOnly("delayTime")};r.default.extend(r.default.Delay,r.default.AudioNode);r.default.Delay.defaults={maxDelay:1,delayTime:0};Object.defineProperty(r.default.Delay.prototype,"maxDelay",{get:function(){return this._maxDelay}});r.default.Delay.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._delayNode.disconnect(),this._delayNode=null,this._writable("delayTime"),this.delayTime=null,this};t.default=r.default.Delay},function(n,t,i){"use strict";i.r(t);var r=i(0);i(3);i(1);r.default.Split=function(n){n=r.default.defaultArg(n,2);r.default.AudioNode.call(this);this.createInsOuts(0,n);this._splitter=this.input=this.context.createChannelSplitter(n);for(var t=0;t<n;t++)this.output[t]=new r.default.Gain,r.default.connect(this._splitter,this.output[t],t,0),this.output[t].channelCount=1,this.output[t].channelCountMode="explicit";this.left=this.output[0];this.right=this.output[1]};r.default.extend(r.default.Split,r.default.AudioNode);r.default.Split.prototype.dispose=function(){return this.output.forEach(function(n){n.dispose()}),r.default.AudioNode.prototype.dispose.call(this),this._splitter.disconnect(),this.left=null,this.right=null,this._splitter=null,this};t.default=r.default.Split},function(n,t,i){"use strict";var u,f,e;i.r(t);var r=i(0),o=(i(35),i(24),i(44),["baseLatency","destination","currentTime","sampleRate","listener","state"]),s=["suspend","close","resume","getOutputTimestamp","createMediaElementSource","createMediaStreamSource","createMediaStreamDestination","createBuffer","decodeAudioData","createBufferSource","createConstantSource","createGain","createDelay","createBiquadFilter","createIIRFilter","createWaveShaper","createPanner","createConvolver","createDynamicsCompressor","createAnalyser","createScriptProcessor","createStereoPanner","createOscillator","createPeriodicWave","createChannelSplitter","createChannelMerger","audioWorklet"];r.default.Context=function(){r.default.Emitter.call(this);var n=r.default.defaults(arguments,["context"],r.default.Context);if(!n.context&&(n.context=new r.default.global.AudioContext,!n.context))throw new Error("could not create AudioContext. Possibly too many AudioContexts running already.");for(this._context=n.context;this._context.rawContext;)this._context=this._context.rawContext;o.forEach(function(n){this._defineProperty(this._context,n)}.bind(this));s.forEach(function(n){this._defineMethod(this._context,n)}.bind(this));this._latencyHint=n.latencyHint;this._constants={};this.lookAhead=n.lookAhead;this._computedUpdateInterval=0;this._ticker=new u(this.emit.bind(this,"tick"),n.clockSource,n.updateInterval);this._timeouts=new r.default.Timeline;this._timeoutIds=0;this.on("tick",this._timeoutLoop.bind(this));this._context.onstatechange=function(n){this.emit("statechange",n)}.bind(this)};r.default.extend(r.default.Context,r.default.Emitter);r.default.Emitter.mixin(r.default.Context);r.default.Context.defaults={clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.03};r.default.Context.prototype.isContext=!0;r.default.Context.prototype._defineProperty=function(n,t){r.default.isUndef(this[t])&&Object.defineProperty(this,t,{get:function(){return n[t]},set:function(i){n[t]=i}})};r.default.Context.prototype._defineMethod=function(n,t){r.default.isUndef(this[t])&&Object.defineProperty(this,t,{get:function(){return n[t].bind(n)}})};r.default.Context.prototype.now=function(){return this._context.currentTime+this.lookAhead};Object.defineProperty(r.default.Context.prototype,"destination",{get:function(){return this.master?this.master:this._context.destination}});r.default.Context.prototype.resume=function(){return"suspended"===this._context.state&&this._context instanceof AudioContext?this._context.resume():Promise.resolve()};r.default.Context.prototype.close=function(){var n=Promise.resolve();return this!==r.default.global.TONE_AUDIO_CONTEXT&&(n=this.rawContext.close()),n.then(function(){r.default.Context.emit("close",this)}.bind(this))};r.default.Context.prototype.getConstant=function(n){var t;if(this._constants[n])return this._constants[n];for(var r=this._context.createBuffer(1,128,this._context.sampleRate),u=r.getChannelData(0),i=0;i<u.length;i++)u[i]=n;return t=this._context.createBufferSource(),t.channelCount=1,t.channelCountMode="explicit",t.buffer=r,t.loop=!0,t.start(0),this._constants[n]=t,t};r.default.Context.prototype._timeoutLoop=function(){for(var n=this.now();this._timeouts&&this._timeouts.length&&this._timeouts.peek().time<=n;)this._timeouts.shift().callback()};r.default.Context.prototype.setTimeout=function(n,t){this._timeoutIds++;var i=this.now();return this._timeouts.add({callback:n,time:i+t,id:this._timeoutIds}),this._timeoutIds};r.default.Context.prototype.clearTimeout=function(n){return this._timeouts.forEach(function(t){t.id===n&&this.remove(t)}),this};Object.defineProperty(r.default.Context.prototype,"updateInterval",{get:function(){return this._ticker.updateInterval},set:function(n){this._ticker.updateInterval=n}});Object.defineProperty(r.default.Context.prototype,"rawContext",{get:function(){return this._context}});Object.defineProperty(r.default.Context.prototype,"clockSource",{get:function(){return this._ticker.type},set:function(n){this._ticker.type=n}});Object.defineProperty(r.default.Context.prototype,"latencyHint",{get:function(){return this._latencyHint},set:function(n){var t=n;if(this._latencyHint=n,r.default.isString(n))switch(n){case"interactive":t=.1;this._context.latencyHint=n;break;case"playback":t=.8;this._context.latencyHint=n;break;case"balanced":t=.25;this._context.latencyHint=n;break;case"fastest":this._context.latencyHint="interactive";t=.01}this.lookAhead=t;this.updateInterval=t/3}});r.default.Context.prototype.dispose=function(){return this.close().then(function(){for(var n in r.default.Emitter.prototype.dispose.call(this),this._ticker.dispose(),this._ticker=null,this._timeouts.dispose(),this._timeouts=null,this._constants)this._constants[n].disconnect();this._constants=null}.bind(this))};u=function(n,t,i){this._type=t;this._updateInterval=i;this._callback=r.default.defaultArg(n,r.default.noOp);this._createClock()};(u.Type={Worker:"worker",Timeout:"timeout",Offline:"offline"},u.prototype._createWorker=function(){r.default.global.URL=r.default.global.URL||r.default.global.webkitURL;var t=new Blob(["var timeoutTime = "+(1e3*this._updateInterval).toFixed(1)+";self.onmessage = function(msg){\ttimeoutTime = parseInt(msg.data);};function tick(){\tsetTimeout(tick, timeoutTime);\tself.postMessage('tick');}tick();"]),i=URL.createObjectURL(t),n=new Worker(i);n.onmessage=this._callback.bind(this);this._worker=n},u.prototype._createTimeout=function(){this._timeout=setTimeout(function(){this._createTimeout();this._callback()}.bind(this),1e3*this._updateInterval)},u.prototype._createClock=function(){if(this._type===u.Type.Worker)try{this._createWorker()}catch(n){this._type=u.Type.Timeout;this._createClock()}else this._type===u.Type.Timeout&&this._createTimeout()},Object.defineProperty(u.prototype,"updateInterval",{get:function(){return this._updateInterval},set:function(n){this._updateInterval=Math.max(n,128/44100);this._type===u.Type.Worker&&this._worker.postMessage(Math.max(1e3*n,1))}}),Object.defineProperty(u.prototype,"type",{get:function(){return this._type},set:function(n){this._disposeClock();this._type=n;this._createClock()}}),u.prototype._disposeClock=function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null);this._worker&&(this._worker.terminate(),this._worker.onmessage=null,this._worker=null)},u.prototype.dispose=function(){this._disposeClock();this._callback=null},r.default.supported&&!r.default.initialized)?(r.default.global.TONE_AUDIO_CONTEXT||(r.default.global.TONE_AUDIO_CONTEXT=new r.default.Context),r.default.context=r.default.global.TONE_AUDIO_CONTEXT,r.default.global.TONE_SILENCE_LOGGING)||(f="v","dev"===r.default.version&&(f=""),e=" * Tone.js "+f+r.default.version+" * ",console.log("%c"+e,"background: #000; color: #fff")):r.default.supported||r.default.global.TONE_SILENCE_LOGGING||console.warn("This browser does not support Tone.js");t.default=r.default.Context},function(n,t,i){"use strict";i.r(t);var r=i(0);i(4);i(40);r.default.Instrument=function(n){n=r.default.defaultArg(n,r.default.Instrument.defaults);r.default.AudioNode.call(this);this._volume=this.output=new r.default.Volume(n.volume);this.volume=this._volume.volume;this._readOnly("volume");this._scheduledEvents=[]};r.default.extend(r.default.Instrument,r.default.AudioNode);r.default.Instrument.defaults={volume:0};r.default.Instrument.prototype.triggerAttack=r.default.noOp;r.default.Instrument.prototype.triggerRelease=r.default.noOp;r.default.Instrument.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this};r.default.Instrument.prototype._syncMethod=function(n,t){var i=this["_original_"+n]=this[n];this[n]=function(){var n=Array.prototype.slice.call(arguments),u=n[t],f=r.default.Transport.schedule(function(r){n[t]=r;i.apply(this,n)}.bind(this),u);this._scheduledEvents.push(f)}.bind(this)};r.default.Instrument.prototype.unsync=function(){return this._scheduledEvents.forEach(function(n){r.default.Transport.clear(n)}),this._scheduledEvents=[],this._original_triggerAttack&&(this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this};r.default.Instrument.prototype.triggerAttackRelease=function(n,t,i,r){return i=this.toSeconds(i),t=this.toSeconds(t),this.triggerAttack(n,i,r),this.triggerRelease(i+t),this};r.default.Instrument.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable(["volume"]),this.volume=null,this.unsync(),this._scheduledEvents=null,this};t.default=r.default.Instrument},function(n,t,i){"use strict";i.r(t);var r=i(0);i(7);i(2);r.default.AudioToGain=function(){r.default.SignalBase.call(this);this._norm=this.input=this.output=new r.default.WaveShaper(function(n){return(n+1)/2})};r.default.extend(r.default.AudioToGain,r.default.SignalBase);r.default.AudioToGain.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this};t.default=r.default.AudioToGain},function(n,t,i){"use strict";i.r(t);var r=i(0);i(2);i(13);i(89);i(3);i(1);r.default.CrossFade=function(n){r.default.AudioNode.call(this);this.createInsOuts(2,1);this.a=this.input[0]=new r.default.Gain;this.b=this.input[1]=new r.default.Gain;this.fade=new r.default.Signal(r.default.defaultArg(n,.5),r.default.Type.NormalRange);this._equalPowerA=new r.default.EqualPowerGain;this._equalPowerB=new r.default.EqualPowerGain;this._one=this.context.getConstant(1);this._invert=new r.default.Subtract;this.a.connect(this.output);this.b.connect(this.output);this.fade.chain(this._equalPowerB,this.b.gain);r.default.connect(this._one,this._invert,0,0);this.fade.connect(this._invert,0,1);this._invert.chain(this._equalPowerA,this.a.gain);this._readOnly("fade")};r.default.extend(r.default.CrossFade,r.default.AudioNode);r.default.CrossFade.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable("fade"),this._equalPowerA.dispose(),this._equalPowerA=null,this._equalPowerB.dispose(),this._equalPowerB=null,this.fade.dispose(),this.fade=null,this._invert.dispose(),this._invert=null,this._one=null,this.a.dispose(),this.a=null,this.b.dispose(),this.b=null,this};t.default=r.default.CrossFade},function(n,t,i){"use strict";i.r(t);var r=i(0);r.default.Timeline=function(){var n=r.default.defaults(arguments,["memory"],r.default.Timeline);r.default.call(this);this._timeline=[];this.memory=n.memory};r.default.extend(r.default.Timeline);r.default.Timeline.defaults={memory:1/0};Object.defineProperty(r.default.Timeline.prototype,"length",{get:function(){return this._timeline.length}});r.default.Timeline.prototype.add=function(n){var t,i;if(r.default.isUndef(n.time))throw new Error("Tone.Timeline: events must have a time attribute");return n.time=n.time.valueOf(),t=this._search(n.time),(this._timeline.splice(t+1,0,n),this.length>this.memory)&&(i=this.length-this.memory,this._timeline.splice(0,i)),this};r.default.Timeline.prototype.remove=function(n){var t=this._timeline.indexOf(n);return-1!==t&&this._timeline.splice(t,1),this};r.default.Timeline.prototype.get=function(n,t){t=r.default.defaultArg(t,"time");var i=this._search(n,t);return-1!==i?this._timeline[i]:null};r.default.Timeline.prototype.peek=function(){return this._timeline[0]};r.default.Timeline.prototype.shift=function(){return this._timeline.shift()};r.default.Timeline.prototype.getAfter=function(n,t){t=r.default.defaultArg(t,"time");var i=this._search(n,t);return i+1<this._timeline.length?this._timeline[i+1]:null};r.default.Timeline.prototype.getBefore=function(n,t){var i,u;return(t=r.default.defaultArg(t,"time"),i=this._timeline.length,i>0&&this._timeline[i-1][t]<n)?this._timeline[i-1]:(u=this._search(n,t),u-1>=0?this._timeline[u-1]:null)};r.default.Timeline.prototype.cancel=function(n){var t,i;if(this._timeline.length>1)if(t=this._search(n),t>=0)if(this._timeline[t].time===n){for(i=t;i>=0&&this._timeline[i].time===n;i--)t=i;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[];else 1===this._timeline.length&&this._timeline[0].time>=n&&(this._timeline=[]);return this};r.default.Timeline.prototype.cancelBefore=function(n){var t=this._search(n);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this};r.default.Timeline.prototype.previousEvent=function(n){var t=this._timeline.indexOf(n);return t>0?this._timeline[t-1]:null};r.default.Timeline.prototype._search=function(n,t){var u;if(0===this._timeline.length)return-1;t=r.default.defaultArg(t,"time");var f=0,e=this._timeline.length,o=e;if(e>0&&this._timeline[e-1][t]<=n)return e-1;for(;f<o;){var i=Math.floor(f+(o-f)/2),s=this._timeline[i],h=this._timeline[i+1];if(s[t]===n){for(u=i;u<this._timeline.length;u++)this._timeline[u][t]===n&&(i=u);return i}if(s[t]<n&&h[t]>n)return i;s[t]>n?o=i:f=i+1}return-1};r.default.Timeline.prototype._iterate=function(n,t,i){t=r.default.defaultArg(t,0);i=r.default.defaultArg(i,this._timeline.length-1);this._timeline.slice(t,i+1).forEach(function(t){n.call(this,t)}.bind(this))};r.default.Timeline.prototype.forEach=function(n){return this._iterate(n),this};r.default.Timeline.prototype.forEachBefore=function(n,t){var i=this._search(n);return-1!==i&&this._iterate(t,0,i),this};r.default.Timeline.prototype.forEachAfter=function(n,t){var i=this._search(n);return this._iterate(t,i+1),this};r.default.Timeline.prototype.forEachBetween=function(n,t,i){var r=this._search(n),u=this._search(t);return-1!==r&&-1!==u?(this._timeline[r].time!==n&&(r+=1),this._timeline[u].time===t&&(u-=1),this._iterate(i,r,u)):-1===r&&this._iterate(i,0,u),this};r.default.Timeline.prototype.forEachFrom=function(n,t){for(var i=this._search(n);i>=0&&this._timeline[i].time>=n;)i--;return this._iterate(t,i+1),this};r.default.Timeline.prototype.forEachAtTime=function(n,t){var i=this._search(n);return-1!==i&&this._iterate(function(i){i.time===n&&t.call(this,i)},0,i),this};r.default.Timeline.prototype.dispose=function(){return r.default.prototype.dispose.call(this),this._timeline=null,this};t.default=r.default.Timeline},function(n,t,i){"use strict";i.r(t);var r=i(0);i(21);i(2);r.default.Monophonic=function(n){n=r.default.defaultArg(n,r.default.Monophonic.defaults);r.default.Instrument.call(this,n);this.portamento=n.portamento};r.default.extend(r.default.Monophonic,r.default.Instrument);r.default.Monophonic.defaults={portamento:0};r.default.Monophonic.prototype.triggerAttack=function(n,t,i){return this.log("triggerAttack",n,t,i),t=this.toSeconds(t),this._triggerEnvelopeAttack(t,i),this.setNote(n,t),this};r.default.Monophonic.prototype.triggerRelease=function(n){return this.log("triggerRelease",n),n=this.toSeconds(n),this._triggerEnvelopeRelease(n),this};r.default.Monophonic.prototype._triggerEnvelopeAttack=function(){};r.default.Monophonic.prototype._triggerEnvelopeRelease=function(){};r.default.Monophonic.prototype.getLevelAtTime=function(n){return n=this.toSeconds(n),this.envelope.getValueAtTime(n)};r.default.Monophonic.prototype.setNote=function(n,t){if(t=this.toSeconds(t),this.portamento>0&&this.getLevelAtTime(t)>.05){var i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(n,i,t)}else this.frequency.setValueAtTime(n,t);return this};t.default=r.default.Monophonic},function(n,t,i){"use strict";i.r(t);var r=i(0);i(29);i(5);i(2);r.default.Scale=function(n,t){r.default.SignalBase.call(this);this._outputMin=r.default.defaultArg(n,0);this._outputMax=r.default.defaultArg(t,1);this._scale=this.input=new r.default.Multiply(1);this._add=this.output=new r.default.Add(0);this._scale.connect(this._add);this._setRange()};r.default.extend(r.default.Scale,r.default.SignalBase);Object.defineProperty(r.default.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(n){this._outputMin=n;this._setRange()}});Object.defineProperty(r.default.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(n){this._outputMax=n;this._setRange()}});r.default.Scale.prototype._setRange=function(){this._add.value=this._outputMin;this._scale.value=this._outputMax-this._outputMin};r.default.Scale.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this};t.default=r.default.Scale},function(n,t,i){"use strict";i.r(t);var r=i(0);i(2);i(3);i(1);r.default.Volume=function(){var n=r.default.defaults(arguments,["volume"],r.default.Volume);r.default.AudioNode.call(this,n);this.output=this.input=new r.default.Gain(n.volume,r.default.Type.Decibels);this._unmutedVolume=n.volume;this.volume=this.output.gain;this._readOnly("volume");this.mute=n.mute};r.default.extend(r.default.Volume,r.default.AudioNode);r.default.Volume.defaults={volume:0,mute:!1};Object.defineProperty(r.default.Volume.prototype,"mute",{get:function(){return this.volume.value===-1/0},set:function(n){!this.mute&&n?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!n&&(this.volume.value=this._unmutedVolume)}});r.default.Volume.prototype.dispose=function(){return this.input.dispose(),r.default.AudioNode.prototype.dispose.call(this),this._writable("volume"),this.volume.dispose(),this.volume=null,this};t.default=r.default.Volume},function(n,t,i){"use strict";i.r(t);var r=i(0);i(3);i(30);r.default.Zero=function(){r.default.SignalBase.call(this);this._gain=this.input=this.output=new r.default.Gain;r.default.connect(this.context.getConstant(0),this._gain)};r.default.extend(r.default.Zero,r.default.SignalBase);r.default.Zero.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._gain.dispose(),this._gain=null,this};t.default=r.default.Zero},function(n,t,i){"use strict";i.r(t);var r=i(0);i(2);i(3);r.default.Add=function(n){r.default.Signal.call(this);this.createInsOuts(2,0);this._sum=this.input[0]=this.input[1]=this.output=new r.default.Gain;this._param=this.input[1]=new r.default.Signal(n);this._param.connect(this._sum)};r.default.extend(r.default.Add,r.default.Signal);r.default.Add.prototype.dispose=function(){return r.default.Signal.prototype.dispose.call(this),this._sum.dispose(),this._sum=null,this};t.default=r.default.Add},function(n,t,i){"use strict";i.r(t);var r=i(0);i(1);r.default.SignalBase=function(){r.default.AudioNode.call(this)};r.default.extend(r.default.SignalBase,r.default.AudioNode);r.default.SignalBase.prototype.connect=function(n,t,i){return r.default.Signal&&r.default.Signal===n.constructor||r.default.Param&&r.default.Param===n.constructor?(n._param.cancelScheduledValues(0),n._param.setValueAtTime(0,0),n.overridden=!0):n instanceof AudioParam&&(n.cancelScheduledValues(0),n.setValueAtTime(0,0)),r.default.AudioNode.prototype.connect.call(this,n,t,i),this};t.default=r.default.SignalBase},function(n,t,i){"use strict";i.r(t);var r=i(0);i(47);i(3);r.default.AmplitudeEnvelope=function(){r.default.Envelope.apply(this,arguments);this.input=this.output=new r.default.Gain;this._sig.connect(this.output.gain)};r.default.extend(r.default.AmplitudeEnvelope,r.default.Envelope);r.default.AmplitudeEnvelope.prototype.dispose=function(){return r.default.Envelope.prototype.dispose.call(this),this};t.default=r.default.AmplitudeEnvelope},function(n,t,i){"use strict";i.r(t);var r=i(0);i(11);i(6);i(3);i(1);r.default.BufferSource=function(){var n=r.default.defaults(arguments,["buffer","onload"],r.default.BufferSource);r.default.AudioNode.call(this,n);this.onended=n.onended;this._startTime=-1;this._sourceStarted=!1;this._sourceStopped=!1;this._stopTime=-1;this._gainNode=this.output=new r.default.Gain(0);this._source=this.context.createBufferSource();r.default.connect(this._source,this._gainNode);this._source.onended=this._onended.bind(this);this._buffer=new r.default.Buffer(n.buffer,n.onload);this.playbackRate=new r.default.Param({param:this._source.playbackRate,units:r.default.Type.Positive,value:n.playbackRate});this.fadeIn=n.fadeIn;this.fadeOut=n.fadeOut;this.curve=n.curve;this._onendedTimeout=-1;this.loop=n.loop;this.loopStart=n.loopStart;this.loopEnd=n.loopEnd};r.default.extend(r.default.BufferSource,r.default.AudioNode);r.default.BufferSource.defaults={onended:r.default.noOp,onload:r.default.noOp,loop:!1,loopStart:0,loopEnd:0,fadeIn:0,fadeOut:0,curve:"linear",playbackRate:1};Object.defineProperty(r.default.BufferSource.prototype,"state",{get:function(){return this.getStateAtTime(this.now())}});r.default.BufferSource.prototype.getStateAtTime=function(n){return n=this.toSeconds(n),-1!==this._startTime&&this._startTime<=n&&(-1===this._stopTime||n<this._stopTime)&&!this._sourceStopped?r.default.State.Started:r.default.State.Stopped};r.default.BufferSource.prototype.start=function(n,t,i,u){var f,e,s,o;return this.log("start",n,t,i,u),this.assert(-1===this._startTime,"can only be started once"),this.assert(this.buffer.loaded,"buffer is either not set or not loaded"),this.assert(!this._sourceStopped,"source is already stopped"),n=this.toSeconds(n),t=this.loop?r.default.defaultArg(t,this.loopStart):r.default.defaultArg(t,0),t=this.toSeconds(t),t=Math.max(t,0),u=r.default.defaultArg(u,1),f=this.toSeconds(this.fadeIn),(f>0?(this._gainNode.gain.setValueAtTime(0,n),"linear"===this.curve?this._gainNode.gain.linearRampToValueAtTime(u,n+f):this._gainNode.gain.exponentialApproachValueAtTime(u,n,f)):this._gainNode.gain.setValueAtTime(u,n),this._startTime=n,r.default.isDefined(i))&&(e=this.toSeconds(i),e=Math.max(e,0),this.stop(n+e)),this.loop&&(s=this.loopEnd||this.buffer.duration,o=this.loopStart,t>=s&&(t=(t-o)%(s-o)+o)),this._source.buffer=this.buffer.get(),this._source.loopEnd=this.loopEnd||this.buffer.duration,t<this.buffer.duration&&(this._sourceStarted=!0,this._source.start(n,t)),this};r.default.BufferSource.prototype.stop=function(n){this.log("stop",n);this.assert(this.buffer.loaded,"buffer is either not set or not loaded");this.assert(!this._sourceStopped,"source is already stopped");n=this.toSeconds(n);-1!==this._stopTime&&this.cancelStop();var t=this.toSeconds(this.fadeOut);return this._stopTime=n+t,t>0?"linear"===this.curve?this._gainNode.gain.linearRampTo(0,t,n):this._gainNode.gain.targetRampTo(0,t,n):(this._gainNode.gain.cancelAndHoldAtTime(n),this._gainNode.gain.setValueAtTime(0,n)),r.default.context.clearTimeout(this._onendedTimeout),this._onendedTimeout=r.default.context.setTimeout(this._onended.bind(this),this._stopTime-this.now()),this};r.default.BufferSource.prototype.cancelStop=function(){if(-1!==this._startTime&&!this._sourceStopped){var n=this.toSeconds(this.fadeIn);this._gainNode.gain.cancelScheduledValues(this._startTime+n+this.sampleTime);this.context.clearTimeout(this._onendedTimeout);this._stopTime=-1}return this};r.default.BufferSource.prototype._onended=function(){if(!this._sourceStopped){this._sourceStopped=!0;var n="exponential"===this.curve?2*this.fadeOut:0;this._sourceStarted&&-1!==this._stopTime&&this._source.stop(this._stopTime+n);this.onended(this);setTimeout(function(){this._source&&(this._source.disconnect(),this._gainNode.disconnect())}.bind(this),1e3*n+100)}};Object.defineProperty(r.default.BufferSource.prototype,"loopStart",{get:function(){return this._source.loopStart},set:function(n){this._source.loopStart=this.toSeconds(n)}});Object.defineProperty(r.default.BufferSource.prototype,"loopEnd",{get:function(){return this._source.loopEnd},set:function(n){this._source.loopEnd=this.toSeconds(n)}});Object.defineProperty(r.default.BufferSource.prototype,"buffer",{get:function(){return this._buffer},set:function(n){this._buffer.set(n)}});Object.defineProperty(r.default.BufferSource.prototype,"loop",{get:function(){return this._source.loop},set:function(n){this._source.loop=n;this.cancelStop()}});r.default.BufferSource.prototype.dispose=function(){return this._wasDisposed||(this._wasDisposed=!0,r.default.AudioNode.prototype.dispose.call(this),this.onended=null,this._source.onended=null,this._source.disconnect(),this._source=null,this._gainNode.dispose(),this._gainNode=null,this._buffer.dispose(),this._buffer=null,this._startTime=-1,this.playbackRate=null,r.default.context.clearTimeout(this._onendedTimeout)),this};t.default=r.default.BufferSource},function(n,t,i){"use strict";i.r(t);var r=i(0);i(8);i(2);i(5);i(3);r.default.FeedbackEffect=function(){var n=r.default.defaults(arguments,["feedback"],r.default.FeedbackEffect);r.default.Effect.call(this,n);this._feedbackGain=new r.default.Gain(n.feedback,r.default.Type.NormalRange);this.feedback=this._feedbackGain.gain;this.effectReturn.chain(this._feedbackGain,this.effectSend);this._readOnly(["feedback"])};r.default.extend(r.default.FeedbackEffect,r.default.Effect);r.default.FeedbackEffect.defaults={feedback:.125};r.default.FeedbackEffect.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this._writable(["feedback"]),this._feedbackGain.dispose(),this._feedbackGain=null,this.feedback=null,this};t.default=r.default.FeedbackEffect},function(n,t,i){"use strict";i.r(t);var r=i(0);i(24);i(4);r.default.TimelineState=function(n){r.default.Timeline.call(this);this._initial=n};r.default.extend(r.default.TimelineState,r.default.Timeline);r.default.TimelineState.prototype.getValueAtTime=function(n){var t=this.get(n);return null!==t?t.state:this._initial};r.default.TimelineState.prototype.setStateAtTime=function(n,t){return this.add({state:n,time:t}),this};r.default.TimelineState.prototype.getLastState=function(n,t){var i,r;for(t=this.toSeconds(t),i=this._search(t);i>=0;i--)if(r=this._timeline[i],r.state===n)return r};r.default.TimelineState.prototype.getNextState=function(n,t){var r,i,u;if(t=this.toSeconds(t),r=this._search(t),-1!==r)for(i=r;i<this._timeline.length;i++)if(u=this._timeline[i],u.state===n)return u};t.default=r.default.TimelineState},function(n,t,i){"use strict";i.r(t);var r=i(0);r.default.Emitter=function(){r.default.call(this);this._events={}};r.default.extend(r.default.Emitter);r.default.Emitter.prototype.on=function(n,t){for(var r,u=n.split(/\W+/),i=0;i<u.length;i++)r=u[i],this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(t);return this};r.default.Emitter.prototype.once=function(n,t){var i=function(){t.apply(this,arguments);this.off(n,i)}.bind(this);return this.on(n,i),this};r.default.Emitter.prototype.off=function(n,t){for(var f,i,e=n.split(/\W+/),u=0;u<e.length;u++)if(n=e[u],this._events.hasOwnProperty(n))if(r.default.isUndef(t))this._events[n]=[];else for(f=this._events[n],i=0;i<f.length;i++)f[i]===t&&f.splice(i,1);return this};r.default.Emitter.prototype.emit=function(n){var i;if(this._events&&(i=Array.apply(null,arguments).slice(1),this._events.hasOwnProperty(n)))for(var r=this._events[n].slice(0),t=0,u=r.length;t<u;t++)r[t].apply(this,i);return this};r.default.Emitter.mixin=function(n){var u=["on","once","off","emit"],t,i,f;for(n._events={},t=0;t<u.length;t++)i=u[t],f=r.default.Emitter.prototype[i],n[i]=f;return r.default.Emitter};r.default.Emitter.prototype.dispose=function(){return r.default.prototype.dispose.call(this),this._events=null,this};t.default=r.default.Emitter},function(n,t,i){"use strict";i.r(t);var r=i(0);i(1);i(44);r.default.supported&&(AnalyserNode.prototype.getFloatTimeDomainData||(AnalyserNode.prototype.getFloatTimeDomainData=function(n){var i=new Uint8Array(n.length),t;for(this.getByteTimeDomainData(i),t=0;t<i.length;t++)n[t]=(i[t]-128)/128}));r.default.Analyser=function(){var n=r.default.defaults(arguments,["type","size"],r.default.Analyser);r.default.AudioNode.call(this);this._analyser=this.input=this.output=this.context.createAnalyser();this._type=n.type;this._buffer=null;this.size=n.size;this.type=n.type};r.default.extend(r.default.Analyser,r.default.AudioNode);r.default.Analyser.defaults={size:1024,type:"fft",smoothing:.8};r.default.Analyser.Type={Waveform:"waveform",FFT:"fft"};r.default.Analyser.prototype.getValue=function(){return this._type===r.default.Analyser.Type.FFT?this._analyser.getFloatFrequencyData(this._buffer):this._type===r.default.Analyser.Type.Waveform&&this._analyser.getFloatTimeDomainData(this._buffer),this._buffer};Object.defineProperty(r.default.Analyser.prototype,"size",{get:function(){return this._analyser.frequencyBinCount},set:function(n){this._analyser.fftSize=2*n;this._buffer=new Float32Array(n)}});Object.defineProperty(r.default.Analyser.prototype,"type",{get:function(){return this._type},set:function(n){if(n!==r.default.Analyser.Type.Waveform&&n!==r.default.Analyser.Type.FFT)throw new TypeError("Tone.Analyser: invalid type: "+n);this._type=n}});Object.defineProperty(r.default.Analyser.prototype,"smoothing",{get:function(){return this._analyser.smoothingTimeConstant},set:function(n){this._analyser.smoothingTimeConstant=n}});r.default.Analyser.prototype.dispose=function(){r.default.AudioNode.prototype.dispose.call(this);this._analyser.disconnect();this._analyser=null;this._buffer=null};t.default=r.default.Analyser},function(n,t,i){"use strict";var r,u;i.r(t);r=i(0);i(6);i(17);i(50);i(69);i(49);i(68);i(67);r.default.OmniOscillator=function(){var n=r.default.defaults(arguments,["frequency","type"],r.default.OmniOscillator);r.default.Source.call(this,n);this.frequency=new r.default.Signal(n.frequency,r.default.Type.Frequency);this.detune=new r.default.Signal(n.detune,r.default.Type.Cents);this._sourceType=void 0;this._oscillator=null;this.type=n.type;this._readOnly(["frequency","detune"]);this.set(n)};r.default.extend(r.default.OmniOscillator,r.default.Source);r.default.OmniOscillator.defaults={frequency:440,detune:0,type:"sine",phase:0};var s="PulseOscillator",h="PWMOscillator",c="Oscillator",f="FMOscillator",o="AMOscillator",e="FatOscillator";r.default.OmniOscillator.prototype._start=function(n){this._oscillator.start(n)};r.default.OmniOscillator.prototype._stop=function(n){this._oscillator.stop(n)};r.default.OmniOscillator.prototype.restart=function(n){this._oscillator.restart(n)};Object.defineProperty(r.default.OmniOscillator.prototype,"type",{get:function(){var n="";return this._sourceType===f?n="fm":this._sourceType===o?n="am":this._sourceType===e&&(n="fat"),n+this._oscillator.type},set:function(n){"fm"===n.substr(0,2)?(this._createNewOscillator(f),this._oscillator.type=n.substr(2)):"am"===n.substr(0,2)?(this._createNewOscillator(o),this._oscillator.type=n.substr(2)):"fat"===n.substr(0,3)?(this._createNewOscillator(e),this._oscillator.type=n.substr(3)):"pwm"===n?this._createNewOscillator(h):"pulse"===n?this._createNewOscillator(s):(this._createNewOscillator(c),this._oscillator.type=n)}});Object.defineProperty(r.default.OmniOscillator.prototype,"partials",{get:function(){return this._oscillator.partials},set:function(n){this._oscillator.partials=n}});Object.defineProperty(r.default.OmniOscillator.prototype,"partialCount",{get:function(){return this._oscillator.partialCount},set:function(n){this._oscillator.partialCount=n}});r.default.OmniOscillator.prototype.set=function(n,t){return"type"===n?this.type=t:r.default.isObject(n)&&n.hasOwnProperty("type")&&(this.type=n.type),r.default.prototype.set.apply(this,arguments),this};r.default.OmniOscillator.prototype.get=function(n){var t=this._oscillator.get(n);return t.type=this.type,t};r.default.OmniOscillator.prototype._createNewOscillator=function(n){var u,i,t;n!==this._sourceType&&(this._sourceType=n,u=r.default[n],i=this.now(),null!==this._oscillator&&(t=this._oscillator,t.stop(i),this.context.setTimeout(function(){t.dispose();t=null},this.blockTime)),this._oscillator=new u,this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this.state===r.default.State.Started&&this._oscillator.start(i))};Object.defineProperty(r.default.OmniOscillator.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(n){this._oscillator.phase=n}});u={PulseOscillator:"pulse",PWMOscillator:"pwm",Oscillator:"oscillator",FMOscillator:"fm",AMOscillator:"am",FatOscillator:"fat"};Object.defineProperty(r.default.OmniOscillator.prototype,"sourceType",{get:function(){return u[this._sourceType]},set:function(n){var t="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(t=this._oscillator.type);n===u.FMOscillator?this.type="fm"+t:n===u.AMOscillator?this.type="am"+t:n===u.FatOscillator?this.type="fat"+t:n===u.Oscillator?this.type=t:n===u.PulseOscillator?this.type="pulse":n===u.PWMOscillator&&(this.type="pwm")}});Object.defineProperty(r.default.OmniOscillator.prototype,"baseType",{get:function(){return this._oscillator.baseType},set:function(n){this.sourceType!==u.PulseOscillator&&this.sourceType!==u.PWMOscillator&&(this._oscillator.baseType=n)}});Object.defineProperty(r.default.OmniOscillator.prototype,"width",{get:function(){if(this._sourceType===s)return this._oscillator.width}});Object.defineProperty(r.default.OmniOscillator.prototype,"count",{get:function(){if(this._sourceType===e)return this._oscillator.count},set:function(n){this._sourceType===e&&(this._oscillator.count=n)}});Object.defineProperty(r.default.OmniOscillator.prototype,"spread",{get:function(){if(this._sourceType===e)return this._oscillator.spread},set:function(n){this._sourceType===e&&(this._oscillator.spread=n)}});Object.defineProperty(r.default.OmniOscillator.prototype,"modulationType",{get:function(){if(this._sourceType===f||this._sourceType===o)return this._oscillator.modulationType},set:function(n){this._sourceType!==f&&this._sourceType!==o||(this._oscillator.modulationType=n)}});Object.defineProperty(r.default.OmniOscillator.prototype,"modulationIndex",{get:function(){if(this._sourceType===f)return this._oscillator.modulationIndex}});Object.defineProperty(r.default.OmniOscillator.prototype,"harmonicity",{get:function(){if(this._sourceType===f||this._sourceType===o)return this._oscillator.harmonicity}});Object.defineProperty(r.default.OmniOscillator.prototype,"modulationFrequency",{get:function(){if(this._sourceType===h)return this._oscillator.modulationFrequency}});r.default.OmniOscillator.prototype.dispose=function(){return r.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.detune.dispose(),this.detune=null,this.frequency.dispose(),this.frequency=null,this._oscillator.dispose(),this._oscillator=null,this._sourceType=null,this};t.default=r.default.OmniOscillator},function(n,t,i){"use strict";i.r(t);var r=i(0);i(31);i(37);i(25);r.default.Synth=function(n){n=r.default.defaultArg(n,r.default.Synth.defaults);r.default.Monophonic.call(this,n);this.oscillator=new r.default.OmniOscillator(n.oscillator);this.frequency=this.oscillator.frequency;this.detune=this.oscillator.detune;this.envelope=new r.default.AmplitudeEnvelope(n.envelope);this.oscillator.chain(this.envelope,this.output);this._readOnly(["oscillator","frequency","detune","envelope"])};r.default.extend(r.default.Synth,r.default.Monophonic);r.default.Synth.defaults={oscillator:{type:"triangle"},envelope:{attack:.005,decay:.1,sustain:.3,release:1}};r.default.Synth.prototype._triggerEnvelopeAttack=function(n,t){return this.envelope.triggerAttack(n,t),this.oscillator.start(n),0===this.envelope.sustain&&this.oscillator.stop(n+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this};r.default.Synth.prototype._triggerEnvelopeRelease=function(n){return n=this.toSeconds(n),this.envelope.triggerRelease(n),this.oscillator.stop(n+this.toSeconds(this.envelope.release)),this};r.default.Synth.prototype.dispose=function(){return r.default.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.frequency=null,this.detune=null,this};t.default=r.default.Synth},function(n,t,i){"use strict";var r,f,u;i.r(t);r=i(0);i(6);i(11);i(32);r.default.Noise=function(){var n=r.default.defaults(arguments,["type"],r.default.Noise);r.default.Source.call(this,n);this._source=null;this._type=n.type;this._playbackRate=n.playbackRate};r.default.extend(r.default.Noise,r.default.Source);r.default.Noise.defaults={type:"white",playbackRate:1};Object.defineProperty(r.default.Noise.prototype,"type",{get:function(){return this._type},set:function(n){if(this._type!==n){if(!(n in f))throw new TypeError("Tone.Noise: invalid type: "+n);if(this._type=n,this.state===r.default.State.Started){var t=this.now();this._stop(t);this._start(t)}}}});Object.defineProperty(r.default.Noise.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(n){this._playbackRate=n;this._source&&(this._source.playbackRate.value=n)}});r.default.Noise.prototype._start=function(n){var t=f[this._type];this._source=new r.default.BufferSource(t).connect(this.output);this._source.loop=!0;this._source.playbackRate.value=this._playbackRate;this._source.start(this.toSeconds(n),Math.random()*(t.duration-.001))};r.default.Noise.prototype._stop=function(n){this._source&&(this._source.stop(this.toSeconds(n)),this._source=null)};r.default.Noise.prototype.restart=function(n){return this._stop(n),this._start(n),this};r.default.Noise.prototype.dispose=function(){return r.default.Source.prototype.dispose.call(this),null!==this._source&&(this._source.disconnect(),this._source=null),this._buffer=null,this};f={};u={};Object.defineProperty(f,"pink",{get:function(){var a,i,f,e,o,s,h,c,v,l,t,n;if(!u.pink){for(a=[],i=0;i<2;i++)for(l=new Float32Array(220500),a[i]=l,f=e=o=s=h=c=v=0,t=0;t<220500;t++)n=2*Math.random()-1,f=.99886*f+.0555179*n,e=.99332*e+.0750759*n,o=.969*o+.153852*n,s=.8665*s+.3104856*n,h=.55*h+.5329522*n,c=-.7616*c-.016898*n,l[t]=f+e+o+s+h+c+v+.5362*n,l[t]*=.11,v=.115926*n;u.pink=(new r.default.Buffer).fromArray(a)}return u.pink}});Object.defineProperty(f,"brown",{get:function(){var f,i,t,e,n,o;if(!u.brown){for(f=[],i=0;i<2;i++)for(t=new Float32Array(220500),f[i]=t,e=0,n=0;n<220500;n++)o=2*Math.random()-1,t[n]=(e+.02*o)/1.02,e=t[n],t[n]*=3.5;u.brown=(new r.default.Buffer).fromArray(f)}return u.brown}});Object.defineProperty(f,"white",{get:function(){var i,n,f,t;if(!u.white){for(i=[],n=0;n<2;n++)for(f=new Float32Array(220500),i[n]=f,t=0;t<220500;t++)f[t]=2*Math.random()-1;u.white=(new r.default.Buffer).fromArray(i)}return u.white}});t.default=r.default.Noise},function(n,t,i){"use strict";var r,u;i.r(t);r=i(0);i(27);i(20);i(1);r.default.Master=function(){r.default.AudioNode.call(this);r.default.getContext(function(){this.createInsOuts(1,0);this._volume=this.output=new r.default.Volume;this.volume=this._volume.volume;this._readOnly("volume");r.default.connectSeries(this.input,this.output,this.context.destination);this.context.master=this}.bind(this))};r.default.extend(r.default.Master,r.default.AudioNode);r.default.Master.defaults={volume:0,mute:!1};r.default.Master.prototype.isMaster=!0;Object.defineProperty(r.default.Master.prototype,"mute",{get:function(){return this._volume.mute},set:function(n){this._volume.mute=n}});r.default.Master.prototype.chain=function(){this.input.disconnect();var n=Array.from(arguments);n.unshift(this.input);n.push(this.output);r.default.connectSeries.apply(void 0,n)};r.default.Master.prototype.dispose=function(){r.default.AudioNode.prototype.dispose.call(this);this._writable("volume");this._volume.dispose();this._volume=null;this.volume=null};r.default.AudioNode.prototype.toMaster=function(){return this.connect(this.context.master),this};u=r.default.Master;r.default.Master=new u;r.default.Context.on("init",function(n){r.default.Master=n.master&&n.master.isMaster?n.master:new u});r.default.Context.on("close",function(n){n.master&&n.master.isMaster&&n.master.dispose()});t.default=r.default.Master},function(n,t,i){"use strict";i.r(t);var r=i(0);i(86);i(47);r.default.FrequencyEnvelope=function(){var n=r.default.defaults(arguments,["attack","decay","sustain","release"],r.default.Envelope);n=r.default.defaultArg(n,r.default.FrequencyEnvelope.defaults);r.default.ScaledEnvelope.call(this,n);this._octaves=n.octaves;this.baseFrequency=n.baseFrequency;this.octaves=n.octaves;this.exponent=n.exponent};r.default.extend(r.default.FrequencyEnvelope,r.default.Envelope);r.default.FrequencyEnvelope.defaults={baseFrequency:200,octaves:4,exponent:1};Object.defineProperty(r.default.FrequencyEnvelope.prototype,"baseFrequency",{get:function(){return this._scale.min},set:function(n){this._scale.min=this.toFrequency(n);this.octaves=this._octaves}});Object.defineProperty(r.default.FrequencyEnvelope.prototype,"octaves",{get:function(){return this._octaves},set:function(n){this._octaves=n;this._scale.max=this.baseFrequency*Math.pow(2,n)}});Object.defineProperty(r.default.FrequencyEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(n){this._exp.value=n}});r.default.FrequencyEnvelope.prototype.dispose=function(){return r.default.ScaledEnvelope.prototype.dispose.call(this),this};t.default=r.default.FrequencyEnvelope},function(n,t,i){"use strict";i.r(t);var r=i(0);i(26);i(61);r.default.ScaleExp=function(n,t,i){r.default.SignalBase.call(this);this._scale=this.output=new r.default.Scale(n,t);this._exp=this.input=new r.default.Pow(r.default.defaultArg(i,2));this._exp.connect(this._scale)};r.default.extend(r.default.ScaleExp,r.default.SignalBase);Object.defineProperty(r.default.ScaleExp.prototype,"exponent",{get:function(){return this._exp.value},set:function(n){this._exp.value=n}});Object.defineProperty(r.default.ScaleExp.prototype,"min",{get:function(){return this._scale.min},set:function(n){this._scale.min=n}});Object.defineProperty(r.default.ScaleExp.prototype,"max",{get:function(){return this._scale.max},set:function(n){this._scale.max=n}});r.default.ScaleExp.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this};t.default=r.default.ScaleExp},function(n,t,i){"use strict";i.r(t);var r=i(0);i(14);i(1);r.default.Compressor=function(){var n=r.default.defaults(arguments,["threshold","ratio"],r.default.Compressor);r.default.AudioNode.call(this);this._compressor=this.input=this.output=this.context.createDynamicsCompressor();this.threshold=new r.default.Param({param:this._compressor.threshold,units:r.default.Type.Decibels,convert:!1});this.attack=new r.default.Param(this._compressor.attack,r.default.Type.Time);this.release=new r.default.Param(this._compressor.release,r.default.Type.Time);this.knee=new r.default.Param({param:this._compressor.knee,units:r.default.Type.Decibels,convert:!1});this.ratio=new r.default.Param({param:this._compressor.ratio,convert:!1});this._readOnly(["knee","release","attack","ratio","threshold"]);this.set(n)};r.default.extend(r.default.Compressor,r.default.AudioNode);r.default.Compressor.defaults={ratio:12,threshold:-24,release:.25,attack:.003,knee:30};r.default.Compressor.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["knee","release","attack","ratio","threshold"]),this._compressor.disconnect(),this._compressor=null,this.attack.dispose(),this.attack=null,this.release.dispose(),this.release=null,this.threshold.dispose(),this.threshold=null,this.ratio.dispose(),this.ratio=null,this.knee.dispose(),this.knee=null,this};t.default=r.default.Compressor},function(n,t,i){"use strict";var r=i(0),f;if(i(92),r.default.supported){!r.default.global.hasOwnProperty("AudioContext")&&r.default.global.hasOwnProperty("webkitAudioContext")&&(r.default.global.AudioContext=r.default.global.webkitAudioContext);AudioContext.prototype.close||(AudioContext.prototype.close=function(){return r.default.isFunction(this.suspend)&&this.suspend(),Promise.resolve()});AudioContext.prototype.resume||(AudioContext.prototype.resume=function(){var t=this.createBuffer(1,1,this.sampleRate),n=this.createBufferSource();return n.buffer=t,n.connect(this.destination),n.start(0),Promise.resolve()});!AudioContext.prototype.createGain&&AudioContext.prototype.createGainNode&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode);!AudioContext.prototype.createDelay&&AudioContext.prototype.createDelayNode&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode);var u=!1,e=new OfflineAudioContext(1,1,44100),o=new Uint32Array([1179011410,48,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,8,0,0,0,0]).buffer;try{f=e.decodeAudioData(o);f&&r.default.isFunction(f.then)&&(u=!0)}catch(n){u=!1}u||(AudioContext.prototype._native_decodeAudioData=AudioContext.prototype.decodeAudioData,AudioContext.prototype.decodeAudioData=function(n){return new Promise(function(t,i){this._native_decodeAudioData(n,t,i)}.bind(this))})}},function(n,t,i){"use strict";i.r(t);var r=i(0);i(63);r.default.TransportTime=function(n,t){if(!(this instanceof r.default.TransportTime))return new r.default.TransportTime(n,t);r.default.Time.call(this,n,t)};r.default.extend(r.default.TransportTime,r.default.Time);r.default.TransportTime.prototype._now=function(){return r.default.Transport.seconds};t.default=r.default.TransportTime},function(n,t,i){"use strict";var r,u,f;i.r(t);r=i(0);i(62);r.default.Frequency=function(n,t){if(!(this instanceof r.default.Frequency))return new r.default.Frequency(n,t);r.default.TimeBase.call(this,n,t)};r.default.extend(r.default.Frequency,r.default.TimeBase);r.default.Frequency.prototype._expressions=Object.assign({},r.default.TimeBase.prototype._expressions,{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method:function(n){return"midi"===this._defaultUnits?n:r.default.Frequency.mtof(n)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method:function(n,t){var i=u[n.toLowerCase()]+12*(parseInt(t)+1);return"midi"===this._defaultUnits?i:r.default.Frequency.mtof(i)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(n,t,i){var r=1;return n&&"0"!==n&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),t&&"0"!==t&&(r*=this._beatsToUnits(parseFloat(t))),i&&"0"!==i&&(r*=this._beatsToUnits(parseFloat(i)/4)),r}}});r.default.Frequency.prototype.transpose=function(n){return new this.constructor(this.valueOf()*r.default.intervalToFrequencyRatio(n))};r.default.Frequency.prototype.harmonize=function(n){return n.map(function(n){return this.transpose(n)}.bind(this))};r.default.Frequency.prototype.toMidi=function(){return r.default.Frequency.ftom(this.valueOf())};r.default.Frequency.prototype.toNote=function(){var i=this.toFrequency(),u=Math.log2(i/r.default.Frequency.A4),n=Math.round(12*u)+57,t=Math.floor(n/12);return t<0&&(n+=-12*t),f[n%12]+t.toString()};r.default.Frequency.prototype.toSeconds=function(){return 1/r.default.TimeBase.prototype.toSeconds.call(this)};r.default.Frequency.prototype.toFrequency=function(){return r.default.TimeBase.prototype.toFrequency.call(this)};r.default.Frequency.prototype.toTicks=function(){var n=this._beatsToUnits(1),t=this.valueOf()/n;return Math.floor(t*r.default.Transport.PPQ)};r.default.Frequency.prototype._noArg=function(){return 0};r.default.Frequency.prototype._frequencyToUnits=function(n){return n};r.default.Frequency.prototype._ticksToUnits=function(n){return 1/(60*n/(r.default.Transport.bpm.value*r.default.Transport.PPQ))};r.default.Frequency.prototype._beatsToUnits=function(n){return 1/r.default.TimeBase.prototype._beatsToUnits.call(this,n)};r.default.Frequency.prototype._secondsToUnits=function(n){return 1/n};r.default.Frequency.prototype._defaultUnits="hz";u={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};f=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];r.default.Frequency.A4=440;r.default.Frequency.mtof=function(n){return r.default.Frequency.A4*Math.pow(2,(n-69)/12)};r.default.Frequency.ftom=function(n){return 69+Math.round(12*Math.log2(n/r.default.Frequency.A4))};t.default=r.default.Frequency},function(n,t,i){"use strict";i.r(t);var r=i(0);i(2);i(61);i(4);i(1);r.default.Envelope=function(){var n=r.default.defaults(arguments,["attack","decay","sustain","release"],r.default.Envelope);r.default.AudioNode.call(this);this.attack=n.attack;this.decay=n.decay;this.sustain=n.sustain;this.release=n.release;this._attackCurve="linear";this._releaseCurve="exponential";this._sig=this.output=new r.default.Signal(0);this.attackCurve=n.attackCurve;this.releaseCurve=n.releaseCurve;this.decayCurve=n.decayCurve};r.default.extend(r.default.Envelope,r.default.AudioNode);r.default.Envelope.defaults={attack:.01,decay:.1,sustain:.5,release:1,attackCurve:"linear",decayCurve:"exponential",releaseCurve:"exponential"};Object.defineProperty(r.default.Envelope.prototype,"value",{get:function(){return this.getValueAtTime(this.now())}});r.default.Envelope.prototype._getCurve=function(n,t){if(r.default.isString(n))return n;if(r.default.isArray(n))for(var i in r.default.Envelope.Type)if(r.default.Envelope.Type[i][t]===n)return i};r.default.Envelope.prototype._setCurve=function(n,t,i){if(r.default.Envelope.Type.hasOwnProperty(i)){var u=r.default.Envelope.Type[i];this[n]=r.default.isObject(u)?u[t]:u}else{if(!r.default.isArray(i))throw new Error("Tone.Envelope: invalid curve: "+i);this[n]=i}};Object.defineProperty(r.default.Envelope.prototype,"attackCurve",{get:function(){return this._getCurve(this._attackCurve,"In")},set:function(n){this._setCurve("_attackCurve","In",n)}});Object.defineProperty(r.default.Envelope.prototype,"releaseCurve",{get:function(){return this._getCurve(this._releaseCurve,"Out")},set:function(n){this._setCurve("_releaseCurve","Out",n)}});Object.defineProperty(r.default.Envelope.prototype,"decayCurve",{get:function(){return this._decayCurve},set:function(n){if(!["linear","exponential"].includes(n))throw new Error("Tone.Envelope: invalid curve: "+n);this._decayCurve=n}});r.default.Envelope.prototype.triggerAttack=function(n,t){var i,o,u,f,e,h,s;if(this.log("triggerAttack",n,t),n=this.toSeconds(n),i=this.toSeconds(this.attack),o=this.toSeconds(this.decay),t=r.default.defaultArg(t,1),u=this.getValueAtTime(n),u>0&&(i=(1-u)/(1/i)),0===i)this._sig.setValueAtTime(t,n);else if("linear"===this._attackCurve)this._sig.linearRampTo(t,i,n);else if("exponential"===this._attackCurve)this._sig.targetRampTo(t,i,n);else if(i>0){for(this._sig.cancelAndHoldAtTime(n),f=this._attackCurve,e=1;e<f.length;e++)if(f[e-1]<=u&&u<=f[e]){(f=this._attackCurve.slice(e))[0]=u;break}this._sig.setValueCurveAtTime(f,n,i,t)}return o&&(h=t*this.sustain,s=n+i,this.log("decay",s),"linear"===this._decayCurve?this._sig.linearRampTo(h,o,s+this.sampleTime):"exponential"===this._decayCurve&&this._sig.exponentialApproachValueAtTime(h,s,o)),this};r.default.Envelope.prototype.triggerRelease=function(n){var i,t,u;return this.log("triggerRelease",n),n=this.toSeconds(n),i=this.getValueAtTime(n),i>0&&(t=this.toSeconds(this.release),"linear"===this._releaseCurve?this._sig.linearRampTo(0,t,n):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,t,n):(u=this._releaseCurve,r.default.isArray(u)&&(this._sig.cancelAndHoldAtTime(n),this._sig.setValueCurveAtTime(u,n,t,i)))),this};r.default.Envelope.prototype.getValueAtTime=function(n){return this._sig.getValueAtTime(n)};r.default.Envelope.prototype.triggerAttackRelease=function(n,t,i){return t=this.toSeconds(t),this.triggerAttack(t,i),this.triggerRelease(t+this.toSeconds(n)),this};r.default.Envelope.prototype.cancel=function(n){return this._sig.cancelScheduledValues(n),this};r.default.Envelope.prototype.connect=r.default.SignalBase.prototype.connect,function(){function o(n){for(var i=new Array(n.length),t=0;t<n.length;t++)i[t]=1-n[t];return i}for(var t,s=[],i,h,u,f,c,e,l,a,n=0;n<128;n++)s[n]=Math.sin(n/127*(Math.PI/2));for(i=[],n=0;n<127;n++)t=n/127,h=Math.sin(t*2*Math.PI*6.4-Math.PI/2)+1,i[n]=h/10+.83*t;for(i[127]=1,u=[],n=0;n<128;n++)u[n]=Math.ceil(n/127*5)/5;for(f=[],n=0;n<128;n++)t=n/127,f[n]=.5*(1-Math.cos(Math.PI*t));for(e=[],n=0;n<128;n++)t=n/127,l=4*Math.pow(t,3)+.2,a=Math.cos(l*Math.PI*2*t),e[n]=Math.abs(a*(1-t));r.default.Envelope.Type={linear:"linear",exponential:"exponential",bounce:{In:o(e),Out:e},cosine:{In:s,Out:(c=s,c.slice(0).reverse())},step:{In:u,Out:o(u)},ripple:{In:i,Out:o(i)},sine:{In:f,Out:o(f)}}}();r.default.Envelope.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._sig.dispose(),this._sig=null,this._attackCurve=null,this._releaseCurve=null,this};t.default=r.default.Envelope},function(n,t,i){"use strict";var r,u;i.r(t);r=i(0);i(23);i(10);i(19);i(7);i(28);i(3);i(2);i(20);r.default.supported&&!r.default.global.AudioContext.prototype.createStereoPanner&&(u=function(n){var i;this.context=n;this.pan=new r.default.Signal(0,r.default.Type.AudioRange);var u=new r.default.WaveShaper(function(n){return r.default.equalPowerScale((n+1)/2)},4096),f=new r.default.WaveShaper(function(n){return r.default.equalPowerScale(1-(n+1)/2)},4096),e=new r.default.Gain,o=new r.default.Gain,t=this.input=new r.default.Split;t._splitter.channelCountMode="explicit";(new r.default.Zero).fan(u,f);i=this.output=new r.default.Merge;t.left.chain(e,i.left);t.right.chain(o,i.right);this.pan.chain(f,e.gain);this.pan.chain(u,o.gain)},u.prototype.disconnect=function(){this.output.disconnect.apply(this.output,arguments)},u.prototype.connect=function(){this.output.connect.apply(this.output,arguments)},AudioContext.prototype.createStereoPanner=function(){return new u(this)},r.default.Context.prototype.createStereoPanner=function(){return new u(this)});i(22);i(1);r.default.Panner=function(){var n=r.default.defaults(arguments,["pan"],r.default.Panner);r.default.AudioNode.call(this);this._panner=this.input=this.output=this.context.createStereoPanner();this.pan=this._panner.pan;this.pan.value=n.pan;this._readOnly("pan")};r.default.extend(r.default.Panner,r.default.AudioNode);r.default.Panner.defaults={pan:0};r.default.Panner.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable("pan"),this._panner.disconnect(),this._panner=null,this.pan=null,this};t.default=r.default.Panner},function(n,t,i){"use strict";i.r(t);var r=i(0);i(6);i(17);i(5);i(3);r.default.FMOscillator=function(){var n=r.default.defaults(arguments,["frequency","type","modulationType"],r.default.FMOscillator);r.default.Source.call(this,n);this._carrier=new r.default.Oscillator(n.frequency,n.type);this.frequency=new r.default.Signal(n.frequency,r.default.Type.Frequency);this.detune=this._carrier.detune;this.detune.value=n.detune;this.modulationIndex=new r.default.Multiply(n.modulationIndex);this.modulationIndex.units=r.default.Type.Positive;this._modulator=new r.default.Oscillator(n.frequency,n.modulationType);this.harmonicity=new r.default.Multiply(n.harmonicity);this.harmonicity.units=r.default.Type.Positive;this._modulationNode=new r.default.Gain(0);this.frequency.connect(this._carrier.frequency);this.frequency.chain(this.harmonicity,this._modulator.frequency);this.frequency.chain(this.modulationIndex,this._modulationNode);this._modulator.connect(this._modulationNode.gain);this._modulationNode.connect(this._carrier.frequency);this._carrier.connect(this.output);this.detune.connect(this._modulator.detune);this.phase=n.phase;this._readOnly(["modulationIndex","frequency","detune","harmonicity"])};r.default.extend(r.default.FMOscillator,r.default.Source);r.default.FMOscillator.defaults={frequency:440,detune:0,phase:0,type:"sine",modulationIndex:2,modulationType:"square",harmonicity:1};r.default.FMOscillator.prototype._start=function(n){this._modulator.start(n);this._carrier.start(n)};r.default.FMOscillator.prototype._stop=function(n){this._modulator.stop(n);this._carrier.stop(n)};r.default.FMOscillator.prototype.restart=function(n){this._modulator.restart(n);this._carrier.restart(n)};Object.defineProperty(r.default.FMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(n){this._carrier.type=n}});Object.defineProperty(r.default.FMOscillator.prototype,"baseType",{get:function(){return this._carrier.baseType},set:function(n){this._carrier.baseType=n}});Object.defineProperty(r.default.FMOscillator.prototype,"partialCount",{get:function(){return this._carrier.partialCount},set:function(n){this._carrier.partialCount=n}});Object.defineProperty(r.default.FMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(n){this._modulator.type=n}});Object.defineProperty(r.default.FMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(n){this._carrier.phase=n;this._modulator.phase=n}});Object.defineProperty(r.default.FMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(n){this._carrier.partials=n}});r.default.FMOscillator.prototype.dispose=function(){return r.default.Source.prototype.dispose.call(this),this._writable(["modulationIndex","frequency","detune","harmonicity"]),this.frequency.dispose(),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this.modulationIndex.dispose(),this.modulationIndex=null,this};t.default=r.default.FMOscillator},function(n,t,i){"use strict";i.r(t);var r=i(0);i(6);i(17);i(2);i(7);i(3);r.default.PulseOscillator=function(){var n=r.default.defaults(arguments,["frequency","width"],r.default.Oscillator);r.default.Source.call(this,n);this.width=new r.default.Signal(n.width,r.default.Type.NormalRange);this._widthGate=new r.default.Gain(0);this._sawtooth=new r.default.Oscillator({frequency:n.frequency,detune:n.detune,type:"sawtooth",phase:n.phase});this.frequency=this._sawtooth.frequency;this.detune=this._sawtooth.detune;this._thresh=new r.default.WaveShaper(function(n){return n<0?-1:1});this._sawtooth.chain(this._thresh,this.output);this.width.chain(this._widthGate,this._thresh);this._readOnly(["width","frequency","detune"])};r.default.extend(r.default.PulseOscillator,r.default.Source);r.default.PulseOscillator.defaults={frequency:440,detune:0,phase:0,width:.2};r.default.PulseOscillator.prototype._start=function(n){n=this.toSeconds(n);this._sawtooth.start(n);this._widthGate.gain.setValueAtTime(1,n)};r.default.PulseOscillator.prototype._stop=function(n){n=this.toSeconds(n);this._sawtooth.stop(n);this._widthGate.gain.setValueAtTime(0,n)};r.default.PulseOscillator.prototype.restart=function(n){this._sawtooth.restart(n);this._widthGate.gain.cancelScheduledValues(n);this._widthGate.gain.setValueAtTime(1,n)};Object.defineProperty(r.default.PulseOscillator.prototype,"phase",{get:function(){return this._sawtooth.phase},set:function(n){this._sawtooth.phase=n}});Object.defineProperty(r.default.PulseOscillator.prototype,"type",{get:function(){return"pulse"}});Object.defineProperty(r.default.PulseOscillator.prototype,"baseType",{get:function(){return"pulse"}});Object.defineProperty(r.default.PulseOscillator.prototype,"partials",{get:function(){return[]}});r.default.PulseOscillator.prototype.dispose=function(){return r.default.Source.prototype.dispose.call(this),this._sawtooth.dispose(),this._sawtooth=null,this._writable(["width","frequency","detune"]),this.width.dispose(),this.width=null,this._widthGate.dispose(),this._widthGate=null,this._thresh.dispose(),this._thresh=null,this.frequency=null,this.detune=null,this};t.default=r.default.PulseOscillator},function(n,t,i){"use strict";i.r(t);var r=i(0);i(16);i(4);i(34);r.default.Event=function(){var n=r.default.defaults(arguments,["callback","value"],r.default.Event);r.default.call(this);this._loop=n.loop;this.callback=n.callback;this.value=n.value;this._loopStart=this.toTicks(n.loopStart);this._loopEnd=this.toTicks(n.loopEnd);this._state=new r.default.TimelineState(r.default.State.Stopped);this._playbackRate=1;this._startOffset=0;this._probability=n.probability;this._humanize=n.humanize;this.mute=n.mute;this.playbackRate=n.playbackRate};r.default.extend(r.default.Event);r.default.Event.defaults={callback:r.default.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,value:null,probability:1,mute:!1,humanize:!1};r.default.Event.prototype._rescheduleEvents=function(n){return n=r.default.defaultArg(n,-1),this._state.forEachFrom(n,function(n){var t,i,u,f;n.state===r.default.State.Started&&(r.default.isDefined(n.id)&&r.default.Transport.clear(n.id),i=n.time+Math.round(this.startOffset/this._playbackRate),!0===this._loop||r.default.isNumber(this._loop)&&this._loop>1?(t=1/0,r.default.isNumber(this._loop)&&(t=this._loop*this._getLoopDuration()),u=this._state.getAfter(i),null!==u&&(t=Math.min(t,u.time-i)),t!==1/0&&(this._state.setStateAtTime(r.default.State.Stopped,i+t+1),t=r.default.Ticks(t)),f=r.default.Ticks(this._getLoopDuration()),n.id=r.default.Transport.scheduleRepeat(this._tick.bind(this),f,r.default.Ticks(i),t)):n.id=r.default.Transport.schedule(this._tick.bind(this),r.default.Ticks(i)))}.bind(this)),this};Object.defineProperty(r.default.Event.prototype,"state",{get:function(){return this._state.getValueAtTime(r.default.Transport.ticks)}});Object.defineProperty(r.default.Event.prototype,"startOffset",{get:function(){return this._startOffset},set:function(n){this._startOffset=n}});Object.defineProperty(r.default.Event.prototype,"probability",{get:function(){return this._probability},set:function(n){this._probability=n}});Object.defineProperty(r.default.Event.prototype,"humanize",{get:function(){return this._humanize},set:function(n){this._humanize=n}});r.default.Event.prototype.start=function(n){return n=this.toTicks(n),this._state.getValueAtTime(n)===r.default.State.Stopped&&(this._state.add({state:r.default.State.Started,time:n,id:void 0}),this._rescheduleEvents(n)),this};r.default.Event.prototype.stop=function(n){if(this.cancel(n),n=this.toTicks(n),this._state.getValueAtTime(n)===r.default.State.Started){this._state.setStateAtTime(r.default.State.Stopped,n);var t=this._state.getBefore(n),i=n;null!==t&&(i=t.time);this._rescheduleEvents(i)}return this};r.default.Event.prototype.cancel=function(n){return n=r.default.defaultArg(n,-1/0),n=this.toTicks(n),this._state.forEachFrom(n,function(n){r.default.Transport.clear(n.id)}),this._state.cancel(n),this};r.default.Event.prototype._tick=function(n){var i=r.default.Transport.getTicksAtTime(n),t;if(!this.mute&&this._state.getValueAtTime(i)===r.default.State.Started){if(this.probability<1&&Math.random()>this.probability)return;this.humanize&&(t=.02,r.default.isBoolean(this.humanize)||(t=this.toSeconds(this.humanize)),n+=(2*Math.random()-1)*t);this.callback(n,this.value)}};r.default.Event.prototype._getLoopDuration=function(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)};Object.defineProperty(r.default.Event.prototype,"loop",{get:function(){return this._loop},set:function(n){this._loop=n;this._rescheduleEvents()}});Object.defineProperty(r.default.Event.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(n){this._playbackRate=n;this._rescheduleEvents()}});Object.defineProperty(r.default.Event.prototype,"loopEnd",{get:function(){return r.default.Ticks(this._loopEnd).toSeconds()},set:function(n){this._loopEnd=this.toTicks(n);this._loop&&this._rescheduleEvents()}});Object.defineProperty(r.default.Event.prototype,"loopStart",{get:function(){return r.default.Ticks(this._loopStart).toSeconds()},set:function(n){this._loopStart=this.toTicks(n);this._loop&&this._rescheduleEvents()}});Object.defineProperty(r.default.Event.prototype,"progress",{get:function(){var t,n,i;return this._loop?(t=r.default.Transport.ticks,n=this._state.get(t),null!==n&&n.state===r.default.State.Started)?(i=this._getLoopDuration(),(t-n.time)%i/i):0:0}});r.default.Event.prototype.dispose=function(){this.cancel();this._state.dispose();this._state=null;this.callback=null;this.value=null};t.default=r.default.Event},function(n,t,i){"use strict";i.r(t);var r=i(0);i(2);i(13);i(29);i(10);i(3);i(1);r.default.MidSideMerge=function(){r.default.AudioNode.call(this);this.createInsOuts(2,0);this.mid=this.input[0]=new r.default.Gain;this._left=new r.default.Add;this._timesTwoLeft=new r.default.Multiply(Math.SQRT1_2);this.side=this.input[1]=new r.default.Gain;this._right=new r.default.Subtract;this._timesTwoRight=new r.default.Multiply(Math.SQRT1_2);this._merge=this.output=new r.default.Merge;this.mid.connect(this._left,0,0);this.side.connect(this._left,0,1);this.mid.connect(this._right,0,0);this.side.connect(this._right,0,1);this._left.connect(this._timesTwoLeft);this._right.connect(this._timesTwoRight);this._timesTwoLeft.connect(this._merge,0,0);this._timesTwoRight.connect(this._merge,0,1)};r.default.extend(r.default.MidSideMerge,r.default.AudioNode);r.default.MidSideMerge.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._left.dispose(),this._left=null,this._timesTwoLeft.dispose(),this._timesTwoLeft=null,this._right.dispose(),this._right=null,this._timesTwoRight.dispose(),this._timesTwoRight=null,this._merge.dispose(),this._merge=null,this};t.default=r.default.MidSideMerge},function(n,t,i){"use strict";i.r(t);var r=i(0);i(29);i(13);i(2);i(19);i(1);r.default.MidSideSplit=function(){r.default.AudioNode.call(this);this.createInsOuts(0,2);this._split=this.input=new r.default.Split;this._midAdd=new r.default.Add;this.mid=this.output[0]=new r.default.Multiply(Math.SQRT1_2);this._sideSubtract=new r.default.Subtract;this.side=this.output[1]=new r.default.Multiply(Math.SQRT1_2);this._split.connect(this._midAdd,0,0);this._split.connect(this._midAdd,1,1);this._split.connect(this._sideSubtract,0,0);this._split.connect(this._sideSubtract,1,1);this._midAdd.connect(this.mid);this._sideSubtract.connect(this.side)};r.default.extend(r.default.MidSideSplit,r.default.AudioNode);r.default.MidSideSplit.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midAdd.dispose(),this._midAdd=null,this._sideSubtract.dispose(),this._sideSubtract=null,this._split.dispose(),this._split=null,this};t.default=r.default.MidSideSplit},function(n,t,i){"use strict";i.r(t);var r=i(0);i(2);i(9);i(1);i(59);r.default.LowpassCombFilter=function(){var n=r.default.defaults(arguments,["delayTime","resonance","dampening"],r.default.LowpassCombFilter);r.default.AudioNode.call(this);this._combFilter=this.output=new r.default.FeedbackCombFilter(n.delayTime,n.resonance);this.delayTime=this._combFilter.delayTime;this._lowpass=this.input=new r.default.Filter({frequency:n.dampening,type:"lowpass",Q:0,rolloff:-12});this.dampening=this._lowpass.frequency;this.resonance=this._combFilter.resonance;this._lowpass.connect(this._combFilter);this._readOnly(["dampening","resonance","delayTime"])};r.default.extend(r.default.LowpassCombFilter,r.default.AudioNode);r.default.LowpassCombFilter.defaults={delayTime:.1,resonance:.5,dampening:3e3};r.default.LowpassCombFilter.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["dampening","resonance","delayTime"]),this._combFilter.dispose(),this._combFilter=null,this.resonance=null,this.delayTime=null,this._lowpass.dispose(),this._lowpass=null,this.dampening=null,this};t.default=r.default.LowpassCombFilter},function(n,t,i){"use strict";i.r(t);var r=i(0);i(45);r.default.Ticks=function(n,t){if(!(this instanceof r.default.Ticks))return new r.default.Ticks(n,t);r.default.TransportTime.call(this,n,t)};r.default.extend(r.default.Ticks,r.default.TransportTime);r.default.Ticks.prototype._defaultUnits="i";r.default.Ticks.prototype._now=function(){return r.default.Transport.ticks};r.default.Ticks.prototype._beatsToUnits=function(n){return this._getPPQ()*n};r.default.Ticks.prototype._secondsToUnits=function(n){return Math.floor(n/(60/this._getBpm())*this._getPPQ())};r.default.Ticks.prototype._ticksToUnits=function(n){return n};r.default.Ticks.prototype.toTicks=function(){return this.valueOf()};r.default.Ticks.prototype.toSeconds=function(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())};t.default=r.default.Ticks},function(n,t,i){"use strict";i.r(t);var r=i(0);i(55);r.default.TransportEvent=function(n,t){t=r.default.defaultArg(t,r.default.TransportEvent.defaults);r.default.call(this);this.Transport=n;this.id=r.default.TransportEvent._eventId++;this.time=r.default.Ticks(t.time);this.callback=t.callback;this._once=t.once};r.default.extend(r.default.TransportEvent);r.default.TransportEvent.defaults={once:!1,callback:r.default.noOp};r.default.TransportEvent._eventId=0;r.default.TransportEvent.prototype.invoke=function(n){this.callback&&(this.callback(n),this._once&&this.Transport&&this.Transport.clear(this.id))};r.default.TransportEvent.prototype.dispose=function(){return r.default.prototype.dispose.call(this),this.Transport=null,this.callback=null,this.time=null,this};t.default=r.default.TransportEvent},function(n,t,i){"use strict";i.r(t);var r=i(0);i(82);i(34);i(24);i(14);r.default.TickSource=function(){var n=r.default.defaults(arguments,["frequency"],r.default.TickSource);this.frequency=new r.default.TickSignal(n.frequency);this._readOnly("frequency");this._state=new r.default.TimelineState(r.default.State.Stopped);this._state.setStateAtTime(r.default.State.Stopped,0);this._tickOffset=new r.default.Timeline;this.setTicksAtTime(0,0)};r.default.extend(r.default.TickSource);r.default.TickSource.defaults={frequency:1};Object.defineProperty(r.default.TickSource.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}});r.default.TickSource.prototype.start=function(n,t){return n=this.toSeconds(n),this._state.getValueAtTime(n)!==r.default.State.Started&&(this._state.setStateAtTime(r.default.State.Started,n),r.default.isDefined(t)&&this.setTicksAtTime(t,n)),this};r.default.TickSource.prototype.stop=function(n){if(n=this.toSeconds(n),this._state.getValueAtTime(n)===r.default.State.Stopped){var t=this._state.get(n);t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(n),this._state.setStateAtTime(r.default.State.Stopped,n),this.setTicksAtTime(0,n),this};r.default.TickSource.prototype.pause=function(n){return n=this.toSeconds(n),this._state.getValueAtTime(n)===r.default.State.Started&&this._state.setStateAtTime(r.default.State.Paused,n),this};r.default.TickSource.prototype.cancel=function(n){return n=this.toSeconds(n),this._state.cancel(n),this._tickOffset.cancel(n),this};r.default.TickSource.prototype.getTicksAtTime=function(n){var u,f,t,i;return n=this.toSeconds(n),u=this._state.getLastState(r.default.State.Stopped,n),f={state:r.default.State.Paused,time:n},this._state.add(f),t=u,i=0,this._state.forEachBetween(u.time,n+this.sampleTime,function(n){var f=t.time,u=this._tickOffset.get(n.time);u.time>=t.time&&(i=u.ticks,f=u.time);t.state===r.default.State.Started&&n.state!==r.default.State.Started&&(i+=this.frequency.getTicksAtTime(n.time)-this.frequency.getTicksAtTime(f));t=n}.bind(this)),this._state.remove(f),i};Object.defineProperty(r.default.TickSource.prototype,"ticks",{get:function(){return this.getTicksAtTime(this.now())},set:function(n){this.setTicksAtTime(n,this.now())}});Object.defineProperty(r.default.TickSource.prototype,"seconds",{get:function(){return this.getSecondsAtTime(this.now())},set:function(n){var t=this.now(),i=this.frequency.timeToTicks(n,t);this.setTicksAtTime(i,t)}});r.default.TickSource.prototype.getSecondsAtTime=function(n){var u,f,t,i;return n=this.toSeconds(n),u=this._state.getLastState(r.default.State.Stopped,n),f={state:r.default.State.Paused,time:n},this._state.add(f),t=u,i=0,this._state.forEachBetween(u.time,n+this.sampleTime,function(n){var f=t.time,u=this._tickOffset.get(n.time);u.time>=t.time&&(i=u.seconds,f=u.time);t.state===r.default.State.Started&&n.state!==r.default.State.Started&&(i+=n.time-f);t=n}.bind(this)),this._state.remove(f),i};r.default.TickSource.prototype.setTicksAtTime=function(n,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({time:t,ticks:n,seconds:this.frequency.getDurationOfTicks(n,t)}),this};r.default.TickSource.prototype.getStateAtTime=function(n){return n=this.toSeconds(n),this._state.getValueAtTime(n)};r.default.TickSource.prototype.getTimeOfTick=function(n,t){t=r.default.defaultArg(t,this.now());var i=this._tickOffset.get(t),u=this._state.get(t),f=Math.max(i.time,u.time),e=this.frequency.getTicksAtTime(f)+n-i.ticks;return this.frequency.getTimeOfTick(e)};r.default.TickSource.prototype.forEachTickBetween=function(n,t,i){var u=this._state.get(n),s,e,f,o;if(this._state.forEachBetween(n,t,function(t){u.state===r.default.State.Started&&t.state!==r.default.State.Started&&this.forEachTickBetween(Math.max(u.time,n),t.time-this.sampleTime,i);u=t}.bind(this)),n=Math.max(u.time,n),u.state===r.default.State.Started&&this._state)for(s=this.frequency.getTicksAtTime(n),e=(s-this.frequency.getTicksAtTime(u.time))%1,0!==e&&(e=1-e),f=this.frequency.getTimeOfTick(s+e),o=null;f<t&&this._state;){try{i(f,Math.round(this.getTicksAtTime(f)))}catch(n){o=n;break}this._state&&(f+=this.frequency.getDurationOfTicks(1,f))}if(o)throw o;return this};r.default.TickSource.prototype.dispose=function(){return r.default.Param.prototype.dispose.call(this),this._state.dispose(),this._state=null,this._tickOffset.dispose(),this._tickOffset=null,this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this};t.default=r.default.TickSource},function(n,t,i){"use strict";i.r(t);var r=i(0);i(87);i(13);i(2);i(4);i(18);i(1);r.default.Follower=function(){var n=r.default.defaults(arguments,["smoothing"],r.default.Follower);r.default.AudioNode.call(this);this.createInsOuts(1,1);this._abs=new r.default.Abs;this._filter=this.context.createBiquadFilter();this._filter.type="lowpass";this._filter.frequency.value=0;this._filter.Q.value=0;this._sub=new r.default.Subtract;this._delay=new r.default.Delay(this.blockTime);this._smoothing=n.smoothing;r.default.connect(this.input,this._delay);r.default.connect(this.input,this._sub,0,1);this._sub.chain(this._abs,this._filter,this.output);this.smoothing=n.smoothing};r.default.extend(r.default.Follower,r.default.AudioNode);r.default.Follower.defaults={smoothing:.05};Object.defineProperty(r.default.Follower.prototype,"smoothing",{get:function(){return this._smoothing},set:function(n){this._smoothing=n;this._filter.frequency.value=.5*r.default.Time(n).toFrequency()}});r.default.Follower.prototype.connect=r.default.SignalBase.prototype.connect;r.default.Follower.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._filter.disconnect(),this._filter=null,this._delay.dispose(),this._delay=null,this._sub.disconnect(),this._sub=null,this._abs.dispose(),this._abs=null,this};t.default=r.default.Follower},function(n,t,i){"use strict";i.r(t);var r=i(0);i(42);i(2);i(14);i(18);i(3);i(1);r.default.FeedbackCombFilter=function(){var n=r.default.defaults(arguments,["delayTime","resonance"],r.default.FeedbackCombFilter);r.default.AudioNode.call(this);this._delay=this.input=this.output=new r.default.Delay(n.delayTime);this.delayTime=this._delay.delayTime;this._feedback=new r.default.Gain(n.resonance,r.default.Type.NormalRange);this.resonance=this._feedback.gain;this._delay.chain(this._feedback,this._delay);this._readOnly(["resonance","delayTime"])};r.default.extend(r.default.FeedbackCombFilter,r.default.AudioNode);r.default.FeedbackCombFilter.defaults={delayTime:.1,resonance:.5};r.default.FeedbackCombFilter.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["resonance","delayTime"]),this._delay.dispose(),this._delay=null,this.delayTime=null,this._feedback.dispose(),this._feedback=null,this.resonance=null,this};t.default=r.default.FeedbackCombFilter},function(n,t,i){"use strict";i.r(t);var r=i(0);i(9);i(2);i(3);i(1);r.default.MultibandSplit=function(){var n=r.default.defaults(arguments,["lowFrequency","highFrequency"],r.default.MultibandSplit);r.default.AudioNode.call(this);this.input=new r.default.Gain;this.output=new Array(3);this.low=this.output[0]=new r.default.Filter(0,"lowpass");this._lowMidFilter=new r.default.Filter(0,"highpass");this.mid=this.output[1]=new r.default.Filter(0,"lowpass");this.high=this.output[2]=new r.default.Filter(0,"highpass");this.lowFrequency=new r.default.Signal(n.lowFrequency,r.default.Type.Frequency);this.highFrequency=new r.default.Signal(n.highFrequency,r.default.Type.Frequency);this.Q=new r.default.Signal(n.Q);this.input.fan(this.low,this.high);this.input.chain(this._lowMidFilter,this.mid);this.lowFrequency.connect(this.low.frequency);this.lowFrequency.connect(this._lowMidFilter.frequency);this.highFrequency.connect(this.mid.frequency);this.highFrequency.connect(this.high.frequency);this.Q.connect(this.low.Q);this.Q.connect(this._lowMidFilter.Q);this.Q.connect(this.mid.Q);this.Q.connect(this.high.Q);this._readOnly(["high","mid","low","highFrequency","lowFrequency"])};r.default.extend(r.default.MultibandSplit,r.default.AudioNode);r.default.MultibandSplit.defaults={lowFrequency:400,highFrequency:2500,Q:1};r.default.MultibandSplit.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.low=null,this._lowMidFilter.dispose(),this._lowMidFilter=null,this.mid.dispose(),this.mid=null,this.high.dispose(),this.high=null,this.lowFrequency.dispose(),this.lowFrequency=null,this.highFrequency.dispose(),this.highFrequency=null,this.Q.dispose(),this.Q=null,this};t.default=r.default.MultibandSplit},function(n,t,i){"use strict";i.r(t);var r=i(0);i(7);r.default.Pow=function(n){r.default.SignalBase.call(this);this._exp=r.default.defaultArg(n,1);this._expScaler=this.input=this.output=new r.default.WaveShaper(this._expFunc(this._exp),8192)};r.default.extend(r.default.Pow,r.default.SignalBase);Object.defineProperty(r.default.Pow.prototype,"value",{get:function(){return this._exp},set:function(n){this._exp=n;this._expScaler.setMap(this._expFunc(this._exp))}});r.default.Pow.prototype._expFunc=function(n){return function(t){return Math.pow(Math.abs(t),n)}};r.default.Pow.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this};t.default=r.default.Pow},function(n,t,i){"use strict";i.r(t);var r=i(0);r.default.TimeBase=function(n,t){if(!(this instanceof r.default.TimeBase))return new r.default.TimeBase(n,t);if(this._val=n,this._units=t,r.default.isUndef(this._units)&&r.default.isString(this._val)&&parseFloat(this._val)==this._val&&"+"!==this._val.charAt(0))this._val=parseFloat(this._val),this._units=this._defaultUnits;else if(n&&n.constructor===this.constructor)this._val=n._val,this._units=n._units;else if(n instanceof r.default.TimeBase)switch(this._defaultUnits){case"s":this._val=n.toSeconds();break;case"i":this._val=n.toTicks();break;case"hz":this._val=n.toFrequency();break;case"midi":this._val=n.toMidi();break;default:throw new Error("Unrecognized default units "+this._defaultUnits);}};r.default.extend(r.default.TimeBase);r.default.TimeBase.prototype._expressions={n:{regexp:/^(\d+)n(\.?)$/i,method:function(n,t){n=parseInt(n);var i="."===t?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/n)*i}},t:{regexp:/^(\d+)t$/i,method:function(n){return n=parseInt(n),this._beatsToUnits(8/(3*parseInt(n)))}},m:{regexp:/^(\d+)m$/i,method:function(n){return this._beatsToUnits(parseInt(n)*this._getTimeSignature())}},i:{regexp:/^(\d+)i$/i,method:function(n){return this._ticksToUnits(parseInt(n))}},hz:{regexp:/^(\d+(?:\.\d+)?)hz$/i,method:function(n){return this._frequencyToUnits(parseFloat(n))}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/,method:function(n,t,i){var r=0;return n&&"0"!==n&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),t&&"0"!==t&&(r+=this._beatsToUnits(parseFloat(t))),i&&"0"!==i&&(r+=this._beatsToUnits(parseFloat(i)/4)),r}},s:{regexp:/^(\d+(?:\.\d+)?)s$/,method:function(n){return this._secondsToUnits(parseFloat(n))}},samples:{regexp:/^(\d+)samples$/,method:function(n){return parseInt(n)/this.context.sampleRate}},"default":{regexp:/^(\d+(?:\.\d+)?)$/,method:function(n){return this._expressions[this._defaultUnits].method.call(this,n)}}};r.default.TimeBase.prototype._defaultUnits="s";r.default.TimeBase.prototype._getBpm=function(){return r.default.Transport?r.default.Transport.bpm.value:120};r.default.TimeBase.prototype._getTimeSignature=function(){return r.default.Transport?r.default.Transport.timeSignature:4};r.default.TimeBase.prototype._getPPQ=function(){return r.default.Transport?r.default.Transport.PPQ:192};r.default.TimeBase.prototype._now=function(){return this.now()};r.default.TimeBase.prototype._frequencyToUnits=function(n){return 1/n};r.default.TimeBase.prototype._beatsToUnits=function(n){return 60/this._getBpm()*n};r.default.TimeBase.prototype._secondsToUnits=function(n){return n};r.default.TimeBase.prototype._ticksToUnits=function(n){return n*(this._beatsToUnits(1)/this._getPPQ())};r.default.TimeBase.prototype._noArg=function(){return this._now()};r.default.TimeBase.prototype.valueOf=function(){var t,i,u,e,n,f;if(r.default.isUndef(this._val))return this._noArg();if(r.default.isString(this._val)&&r.default.isUndef(this._units)){for(t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(r.default.isObject(this._val)){i=0;for(u in this._val)e=this._val[u],i+=new this.constructor(u).valueOf()*e;return i}return r.default.isDefined(this._units)?(n=this._expressions[this._units],f=this._val.toString().trim().match(n.regexp),f?n.method.apply(this,f.slice(1)):n.method.call(this,parseFloat(this._val))):this._val};r.default.TimeBase.prototype.toSeconds=function(){return this.valueOf()};r.default.TimeBase.prototype.toFrequency=function(){return 1/this.toSeconds()};r.default.TimeBase.prototype.toSamples=function(){return this.toSeconds()*this.context.sampleRate};r.default.TimeBase.prototype.toMilliseconds=function(){return 1e3*this.toSeconds()};r.default.TimeBase.prototype.dispose=function(){this._val=null;this._units=null};t.default=r.default.TimeBase},function(n,t,i){"use strict";i.r(t);var r=i(0);i(62);i(46);r.default.Time=function(n,t){if(!(this instanceof r.default.Time))return new r.default.Time(n,t);r.default.TimeBase.call(this,n,t)};r.default.extend(r.default.Time,r.default.TimeBase);r.default.Time.prototype._expressions=Object.assign({},r.default.TimeBase.prototype._expressions,{quantize:{regexp:/^@(.+)/,method:function(n){if(r.default.Transport){var t=new this.constructor(n);return this._secondsToUnits(r.default.Transport.nextSubdivision(t))}return 0}},now:{regexp:/^\+(.+)/,method:function(n){return this._now()+new this.constructor(n)}}});r.default.Time.prototype.quantize=function(n,t){t=r.default.defaultArg(t,1);var u=new this.constructor(n),i=this.valueOf();return i+(Math.round(i/u)*u-i)*t};r.default.Time.prototype.toNotation=function(){for(var t,u,f,e=this.toSeconds(),n=["1m"],i=1;i<8;i++)t=Math.pow(2,i),n.push(t+"n."),n.push(t+"n"),n.push(t+"t");return n.push("0"),u=n[0],f=r.default.Time(n[0]).toSeconds(),n.forEach(function(n){var t=r.default.Time(n).toSeconds();Math.abs(t-e)<Math.abs(f-e)&&(u=n,f=t)}),u};r.default.Time.prototype.toBarsBeatsSixteenths=function(){var r=this._beatsToUnits(1),n=this.valueOf()/r,i,t;return n=parseFloat(n.toFixed(4)),i=Math.floor(n/this._getTimeSignature()),t=n%1*4,n=Math.floor(n)%this._getTimeSignature(),(t=t.toString()).length>3&&(t=parseFloat(parseFloat(t).toFixed(3))),[i,n,t].join(":")};r.default.Time.prototype.toTicks=function(){var n=this._beatsToUnits(1),t=this.valueOf()/n;return Math.round(t*this._getPPQ())};r.default.Time.prototype.toSeconds=function(){return this.valueOf()};r.default.Time.prototype.toMidi=function(){return r.default.Frequency.ftom(this.toFrequency())};t.default=r.default.Time},function(n,t,i){"use strict";i.r(t);var r=i(0);i(11);i(6);i(3);i(1);r.default.supported&&(OscillatorNode.prototype.setPeriodicWave||(OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable),AudioContext.prototype.createPeriodicWave||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable));r.default.OscillatorNode=function(){var n=r.default.defaults(arguments,["frequency","type"],r.default.OscillatorNode);r.default.AudioNode.call(this,n);this.onended=n.onended;this._startTime=-1;this._stopTime=-1;this._gainNode=this.output=new r.default.Gain(0);this._oscillator=this.context.createOscillator();r.default.connect(this._oscillator,this._gainNode);this.type=n.type;this.frequency=new r.default.Param({param:this._oscillator.frequency,units:r.default.Type.Frequency,value:n.frequency});this.detune=new r.default.Param({param:this._oscillator.detune,units:r.default.Type.Cents,value:n.detune});this._gain=1};r.default.extend(r.default.OscillatorNode,r.default.AudioNode);r.default.OscillatorNode.defaults={frequency:440,detune:0,type:"sine",onended:r.default.noOp};Object.defineProperty(r.default.OscillatorNode.prototype,"state",{get:function(){return this.getStateAtTime(this.now())}});r.default.OscillatorNode.prototype.getStateAtTime=function(n){return n=this.toSeconds(n),-1!==this._startTime&&n>=this._startTime&&(-1===this._stopTime||n<=this._stopTime)?r.default.State.Started:r.default.State.Stopped};r.default.OscillatorNode.prototype.start=function(n){if(this.log("start",n),-1!==this._startTime)throw new Error("cannot call OscillatorNode.start more than once");return this._startTime=this.toSeconds(n),this._startTime=Math.max(this._startTime,this.context.currentTime),this._oscillator.start(this._startTime),this._gainNode.gain.setValueAtTime(1,this._startTime),this};r.default.OscillatorNode.prototype.setPeriodicWave=function(n){return this._oscillator.setPeriodicWave(n),this};r.default.OscillatorNode.prototype.stop=function(n){return this.log("stop",n),this.assert(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop(),this._stopTime=this.toSeconds(n),this._stopTime=Math.max(this._stopTime,this.context.currentTime),this._stopTime>this._startTime?(this._gainNode.gain.setValueAtTime(0,this._stopTime),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(function(){this._oscillator.stop(this.now());this.onended();setTimeout(function(){this._oscillator&&(this._oscillator.disconnect(),this._gainNode.disconnect())}.bind(this),100)}.bind(this),this._stopTime-this.context.currentTime)):this._gainNode.gain.cancelScheduledValues(this._startTime),this};r.default.OscillatorNode.prototype.cancelStop=function(){return-1!==this._startTime&&(this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1),this};Object.defineProperty(r.default.OscillatorNode.prototype,"type",{get:function(){return this._oscillator.type},set:function(n){this._oscillator.type=n}});r.default.OscillatorNode.prototype.dispose=function(){return this._wasDisposed||(this._wasDisposed=!0,this.context.clearTimeout(this._timeout),r.default.AudioNode.prototype.dispose.call(this),this.onended=null,this._oscillator.disconnect(),this._oscillator=null,this._gainNode.dispose(),this._gainNode=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null),this};t.default=r.default.OscillatorNode},function(n,t,i){"use strict";i.r(t);var r=i(0);i(11);i(6);i(57);i(32);r.default.Player=function(n){var t;n instanceof r.default.Buffer&&n.loaded?(n=n.get(),t=r.default.Player.defaults):t=r.default.defaults(arguments,["url","onload"],r.default.Player);r.default.Source.call(this,t);this.autostart=t.autostart;this._buffer=new r.default.Buffer({url:t.url,onload:this._onload.bind(this,t.onload),reverse:t.reverse});n instanceof AudioBuffer&&this._buffer.set(n);this._loop=t.loop;this._loopStart=t.loopStart;this._loopEnd=t.loopEnd;this._playbackRate=t.playbackRate;this._activeSources=[];this.fadeIn=t.fadeIn;this.fadeOut=t.fadeOut};r.default.extend(r.default.Player,r.default.Source);r.default.Player.defaults={onload:r.default.noOp,playbackRate:1,loop:!1,autostart:!1,loopStart:0,loopEnd:0,reverse:!1,fadeIn:0,fadeOut:0};r.default.Player.prototype.load=function(n,t){return this._buffer.load(n,this._onload.bind(this,t))};r.default.Player.prototype._onload=function(n){(n=r.default.defaultArg(n,r.default.noOp))(this);this.autostart&&this.start()};r.default.Player.prototype._onSourceEnd=function(n){var t=this._activeSources.indexOf(n);this._activeSources.splice(t,1);0!==this._activeSources.length||this._synced||this._state.setStateAtTime(r.default.State.Stopped,r.default.now())};r.default.Player.prototype._start=function(n,t,i){var u,f;return t=this._loop?r.default.defaultArg(t,this._loopStart):r.default.defaultArg(t,0),t=this.toSeconds(t),this._synced&&(t*=this._playbackRate),u=r.default.defaultArg(i,Math.max(this._buffer.duration-t,0)),u=this.toSeconds(u),u/=this._playbackRate,n=this.toSeconds(n),f=new r.default.BufferSource({buffer:this._buffer,loop:this._loop,loopStart:this._loopStart,loopEnd:this._loopEnd,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate,fadeIn:this.fadeIn,fadeOut:this.fadeOut}).connect(this.output),this._loop||this._synced||this._state.setStateAtTime(r.default.State.Stopped,n+u),this._activeSources.push(f),this._loop&&r.default.isUndef(i)?f.start(n,t):f.start(n,t,u-this.toSeconds(this.fadeOut)),this};r.default.Player.prototype._stop=function(n){return n=this.toSeconds(n),this._activeSources.forEach(function(t){t.stop(n)}),this};r.default.Player.prototype.restart=function(n,t,i){return this._stop(n),this._start(n,t,i),this};r.default.Player.prototype.seek=function(n,t){return t=this.toSeconds(t),this._state.getValueAtTime(t)===r.default.State.Started&&(n=this.toSeconds(n),this._stop(t),this._start(t,n)),this};r.default.Player.prototype.setLoopPoints=function(n,t){return this.loopStart=n,this.loopEnd=t,this};Object.defineProperty(r.default.Player.prototype,"loopStart",{get:function(){return this._loopStart},set:function(n){this._loopStart=n;this._activeSources.forEach(function(t){t.loopStart=n})}});Object.defineProperty(r.default.Player.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(n){this._loopEnd=n;this._activeSources.forEach(function(t){t.loopEnd=n})}});Object.defineProperty(r.default.Player.prototype,"buffer",{get:function(){return this._buffer},set:function(n){this._buffer.set(n)}});Object.defineProperty(r.default.Player.prototype,"loop",{get:function(){return this._loop},set:function(n){if(this._loop!==n&&(this._loop=n,this._activeSources.forEach(function(t){t.loop=n}),n)){var t=this._state.getNextState(r.default.State.Stopped,this.now());t&&this._state.cancel(t.time)}}});Object.defineProperty(r.default.Player.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(n){this._playbackRate=n;var t=this.now(),i=this._state.getNextState(r.default.State.Stopped,t);i&&this._state.cancel(i.time);this._activeSources.forEach(function(i){i.cancelStop();i.playbackRate.setValueAtTime(n,t)})}});Object.defineProperty(r.default.Player.prototype,"reverse",{get:function(){return this._buffer.reverse},set:function(n){this._buffer.reverse=n}});Object.defineProperty(r.default.Player.prototype,"loaded",{get:function(){return this._buffer.loaded}});r.default.Player.prototype.dispose=function(){return this._activeSources.forEach(function(n){n.dispose()}),this._activeSources=null,r.default.Source.prototype.dispose.call(this),this._buffer.dispose(),this._buffer=null,this};t.default=r.default.Player},function(n,t,i){"use strict";i.r(t);var r=i(0);i(31);i(41);i(37);i(2);i(9);i(25);r.default.MonoSynth=function(n){n=r.default.defaultArg(n,r.default.MonoSynth.defaults);r.default.Monophonic.call(this,n);this.oscillator=new r.default.OmniOscillator(n.oscillator);this.frequency=this.oscillator.frequency;this.detune=this.oscillator.detune;this.filter=new r.default.Filter(n.filter);this.filter.frequency.value=5e3;this.filterEnvelope=new r.default.FrequencyEnvelope(n.filterEnvelope);this.envelope=new r.default.AmplitudeEnvelope(n.envelope);this.oscillator.chain(this.filter,this.envelope,this.output);this.filterEnvelope.connect(this.filter.frequency);this._readOnly(["oscillator","frequency","detune","filter","filterEnvelope","envelope"])};r.default.extend(r.default.MonoSynth,r.default.Monophonic);r.default.MonoSynth.defaults={frequency:"C4",detune:0,oscillator:{type:"square"},filter:{Q:6,type:"lowpass",rolloff:-24},envelope:{attack:.005,decay:.1,sustain:.9,release:1},filterEnvelope:{attack:.06,decay:.2,sustain:.5,release:2,baseFrequency:200,octaves:7,exponent:2}};r.default.MonoSynth.prototype._triggerEnvelopeAttack=function(n,t){return n=this.toSeconds(n),this.envelope.triggerAttack(n,t),this.filterEnvelope.triggerAttack(n),this.oscillator.start(n),0===this.envelope.sustain&&this.oscillator.stop(n+this.envelope.attack+this.envelope.decay),this};r.default.MonoSynth.prototype._triggerEnvelopeRelease=function(n){return this.envelope.triggerRelease(n),this.filterEnvelope.triggerRelease(n),this.oscillator.stop(n+this.envelope.release),this};r.default.MonoSynth.prototype.dispose=function(){return r.default.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","filter","filterEnvelope","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.filterEnvelope.dispose(),this.filterEnvelope=null,this.filter.dispose(),this.filter=null,this.frequency=null,this.detune=null,this};t.default=r.default.MonoSynth},function(n,t,i){"use strict";i.r(t);var r=i(0);i(6);i(17);i(5);i(3);r.default.FatOscillator=function(){var n=r.default.defaults(arguments,["frequency","type","spread"],r.default.FatOscillator);r.default.Source.call(this,n);this.frequency=new r.default.Signal(n.frequency,r.default.Type.Frequency);this.detune=new r.default.Signal(n.detune,r.default.Type.Cents);this._oscillators=[];this._spread=n.spread;this._type=n.type;this._phase=n.phase;this._partials=n.partials;this._partialCount=n.partialCount;this.count=n.count;this._readOnly(["frequency","detune"])};r.default.extend(r.default.FatOscillator,r.default.Source);r.default.FatOscillator.defaults={frequency:440,detune:0,phase:0,spread:20,count:3,type:"sawtooth",partials:[],partialCount:0};r.default.FatOscillator.prototype._start=function(n){n=this.toSeconds(n);this._forEach(function(t){t.start(n)})};r.default.FatOscillator.prototype._stop=function(n){n=this.toSeconds(n);this._forEach(function(t){t.stop(n)})};r.default.FatOscillator.prototype.restart=function(n){n=this.toSeconds(n);this._forEach(function(t){t.restart(n)})};r.default.FatOscillator.prototype._forEach=function(n){for(var t=0;t<this._oscillators.length;t++)n.call(this,this._oscillators[t],t)};Object.defineProperty(r.default.FatOscillator.prototype,"type",{get:function(){return this._type},set:function(n){this._type=n;this._forEach(function(t){t.type=n})}});Object.defineProperty(r.default.FatOscillator.prototype,"spread",{get:function(){return this._spread},set:function(n){if(this._spread=n,this._oscillators.length>1){var t=-n/2,i=n/(this._oscillators.length-1);this._forEach(function(n,r){n.detune.value=t+i*r})}}});Object.defineProperty(r.default.FatOscillator.prototype,"count",{get:function(){return this._oscillators.length},set:function(n){var i,t;if(n=Math.max(n,1),this._oscillators.length!==n){for(this._forEach(function(n){n.dispose()}),this._oscillators=[],i=0;i<n;i++)t=new r.default.Oscillator,this.type===r.default.Oscillator.Type.Custom?t.partials=this._partials:t.type=this._type,t.partialCount=this._partialCount,t.phase=this._phase+i/n*360,t.volume.value=-6-1.1*n,this.frequency.connect(t.frequency),this.detune.connect(t.detune),t.connect(this.output),this._oscillators[i]=t;this.spread=this._spread;this.state===r.default.State.Started&&this._forEach(function(n){n.start()})}}});Object.defineProperty(r.default.FatOscillator.prototype,"phase",{get:function(){return this._phase},set:function(n){this._phase=n;this._forEach(function(t){t.phase=n})}});Object.defineProperty(r.default.FatOscillator.prototype,"baseType",{get:function(){return this._oscillators[0].baseType},set:function(n){this._forEach(function(t){t.baseType=n});this._type=this._oscillators[0].type}});Object.defineProperty(r.default.FatOscillator.prototype,"partials",{get:function(){return this._oscillators[0].partials},set:function(n){this._partials=n;this._type=r.default.Oscillator.Type.Custom;this._forEach(function(t){t.partials=n})}});Object.defineProperty(r.default.FatOscillator.prototype,"partialCount",{get:function(){return this._oscillators[0].partialCount},set:function(n){this._partialCount=n;this._forEach(function(t){t.partialCount=n});this._type=this._oscillators[0].type}});r.default.FatOscillator.prototype.dispose=function(){return r.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._forEach(function(n){n.dispose()}),this._oscillators=null,this._partials=null,this};t.default=r.default.FatOscillator},function(n,t,i){"use strict";i.r(t);var r=i(0);i(6);i(17);i(5);i(3);i(22);r.default.AMOscillator=function(){var n=r.default.defaults(arguments,["frequency","type","modulationType"],r.default.AMOscillator);r.default.Source.call(this,n);this._carrier=new r.default.Oscillator(n.frequency,n.type);this.frequency=this._carrier.frequency;this.detune=this._carrier.detune;this.detune.value=n.detune;this._modulator=new r.default.Oscillator(n.frequency,n.modulationType);this._modulationScale=new r.default.AudioToGain;this.harmonicity=new r.default.Multiply(n.harmonicity);this.harmonicity.units=r.default.Type.Positive;this._modulationNode=new r.default.Gain(0);this.frequency.chain(this.harmonicity,this._modulator.frequency);this.detune.connect(this._modulator.detune);this._modulator.chain(this._modulationScale,this._modulationNode.gain);this._carrier.chain(this._modulationNode,this.output);this.phase=n.phase;this._readOnly(["frequency","detune","harmonicity"])};r.default.extend(r.default.AMOscillator,r.default.Oscillator);r.default.AMOscillator.defaults={frequency:440,detune:0,phase:0,type:"sine",modulationType:"square",harmonicity:1};r.default.AMOscillator.prototype._start=function(n){this._modulator.start(n);this._carrier.start(n)};r.default.AMOscillator.prototype._stop=function(n){this._modulator.stop(n);this._carrier.stop(n)};r.default.AMOscillator.prototype.restart=function(n){this._modulator.restart(n);this._carrier.restart(n)};Object.defineProperty(r.default.AMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(n){this._carrier.type=n}});Object.defineProperty(r.default.AMOscillator.prototype,"baseType",{get:function(){return this._carrier.baseType},set:function(n){this._carrier.baseType=n}});Object.defineProperty(r.default.AMOscillator.prototype,"partialCount",{get:function(){return this._carrier.partialCount},set:function(n){this._carrier.partialCount=n}});Object.defineProperty(r.default.AMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(n){this._modulator.type=n}});Object.defineProperty(r.default.AMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(n){this._carrier.phase=n;this._modulator.phase=n}});Object.defineProperty(r.default.AMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(n){this._carrier.partials=n}});r.default.AMOscillator.prototype.dispose=function(){return r.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune","harmonicity"]),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this._modulationScale.dispose(),this._modulationScale=null,this};t.default=r.default.AMOscillator},function(n,t,i){"use strict";i.r(t);var r=i(0);i(6);i(50);i(17);i(5);r.default.PWMOscillator=function(){var n=r.default.defaults(arguments,["frequency","modulationFrequency"],r.default.PWMOscillator);r.default.Source.call(this,n);this._pulse=new r.default.PulseOscillator(n.modulationFrequency);this._pulse._sawtooth.type="sine";this._modulator=new r.default.Oscillator({frequency:n.frequency,detune:n.detune,phase:n.phase});this._scale=new r.default.Multiply(2);this.frequency=this._modulator.frequency;this.detune=this._modulator.detune;this.modulationFrequency=this._pulse.frequency;this._modulator.chain(this._scale,this._pulse.width);this._pulse.connect(this.output);this._readOnly(["modulationFrequency","frequency","detune"])};r.default.extend(r.default.PWMOscillator,r.default.Source);r.default.PWMOscillator.defaults={frequency:440,detune:0,phase:0,modulationFrequency:.4};r.default.PWMOscillator.prototype._start=function(n){n=this.toSeconds(n);this._modulator.start(n);this._pulse.start(n)};r.default.PWMOscillator.prototype._stop=function(n){n=this.toSeconds(n);this._modulator.stop(n);this._pulse.stop(n)};r.default.PWMOscillator.prototype.restart=function(n){this._modulator.restart(n);this._pulse.restart(n)};Object.defineProperty(r.default.PWMOscillator.prototype,"type",{get:function(){return"pwm"}});Object.defineProperty(r.default.PWMOscillator.prototype,"baseType",{get:function(){return"pwm"}});Object.defineProperty(r.default.PWMOscillator.prototype,"partials",{get:function(){return[]}});Object.defineProperty(r.default.PWMOscillator.prototype,"phase",{get:function(){return this._modulator.phase},set:function(n){this._modulator.phase=n}});r.default.PWMOscillator.prototype.dispose=function(){return r.default.Source.prototype.dispose.call(this),this._pulse.dispose(),this._pulse=null,this._scale.dispose(),this._scale=null,this._modulator.dispose(),this._modulator=null,this._writable(["modulationFrequency","frequency","detune"]),this.frequency=null,this.detune=null,this.modulationFrequency=null,this};t.default=r.default.PWMOscillator},function(n,t,i){"use strict";i.r(t);var r=i(0);i(51);i(4);i(16);r.default.Part=function(){var t=r.default.defaults(arguments,["callback","events"],r.default.Part),n;for(r.default.Event.call(this,t),this._events=[],n=0;n<t.events.length;n++)Array.isArray(t.events[n])?this.add(t.events[n][0],t.events[n][1]):this.add(t.events[n])};r.default.extend(r.default.Part,r.default.Event);r.default.Part.defaults={callback:r.default.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,probability:1,humanize:!1,mute:!1,events:[]};r.default.Part.prototype.start=function(n,t){var i=this.toTicks(n);return this._state.getValueAtTime(i)!==r.default.State.Started&&(t=this._loop?r.default.defaultArg(t,this._loopStart):r.default.defaultArg(t,0),t=this.toTicks(t),this._state.add({state:r.default.State.Started,time:i,offset:t}),this._forEach(function(n){this._startNote(n,i,t)})),this};r.default.Part.prototype._startNote=function(n,t,i){t-=i;this._loop?n.startOffset>=this._loopStart&&n.startOffset<this._loopEnd?(n.startOffset<i&&(t+=this._getLoopDuration()),n.start(r.default.Ticks(t))):n.startOffset<this._loopStart&&n.startOffset>=i&&(n.loop=!1,n.start(r.default.Ticks(t))):n.startOffset>=i&&n.start(r.default.Ticks(t))};Object.defineProperty(r.default.Part.prototype,"startOffset",{get:function(){return this._startOffset},set:function(n){this._startOffset=n;this._forEach(function(n){n.startOffset+=this._startOffset})}});r.default.Part.prototype.stop=function(n){var t=this.toTicks(n);return this._state.cancel(t),this._state.setStateAtTime(r.default.State.Stopped,t),this._forEach(function(t){t.stop(n)}),this};r.default.Part.prototype.at=function(n,t){var f,i,u;for(n=r.default.TransportTime(n),f=r.default.Ticks(1).toSeconds(),i=0;i<this._events.length;i++)if(u=this._events[i],Math.abs(n.toTicks()-u.startOffset)<f)return r.default.isDefined(t)&&(u.value=t),u;return r.default.isDefined(t)?(this.add(n,t),this._events[this._events.length-1]):null};r.default.Part.prototype.add=function(n,t){var i;return n.hasOwnProperty("time")&&(n=(t=n).time),n=this.toTicks(n),t instanceof r.default.Event?(i=t).callback=this._tick.bind(this):i=new r.default.Event({callback:this._tick.bind(this),value:t}),i.startOffset=n,i.set({loopEnd:this.loopEnd,loopStart:this.loopStart,loop:this.loop,humanize:this.humanize,playbackRate:this.playbackRate,probability:this.probability}),this._events.push(i),this._restartEvent(i),this};r.default.Part.prototype._restartEvent=function(n){this._state.forEach(function(t){t.state===r.default.State.Started?this._startNote(n,t.time,t.offset):n.stop(r.default.Ticks(t.time))}.bind(this))};r.default.Part.prototype.remove=function(n,t){var i,u;for(n.hasOwnProperty("time")&&(n=(t=n).time),n=this.toTicks(n),i=this._events.length-1;i>=0;i--)u=this._events[i],u.startOffset===n&&(r.default.isUndef(t)||r.default.isDefined(t)&&u.value===t)&&(this._events.splice(i,1),u.dispose());return this};r.default.Part.prototype.removeAll=function(){return this._forEach(function(n){n.dispose()}),this._events=[],this};r.default.Part.prototype.cancel=function(n){return this._forEach(function(t){t.cancel(n)}),this._state.cancel(this.toTicks(n)),this};r.default.Part.prototype._forEach=function(n,t){var i,u;if(this._events)for(t=r.default.defaultArg(t,this),i=this._events.length-1;i>=0;i--)u=this._events[i],u instanceof r.default.Part?u._forEach(n,t):n.call(t,u);return this};r.default.Part.prototype._setAll=function(n,t){this._forEach(function(i){i[n]=t})};r.default.Part.prototype._tick=function(n,t){this.mute||this.callback(n,t)};r.default.Part.prototype._testLoopBoundries=function(n){this._loop&&(n.startOffset<this._loopStart||n.startOffset>=this._loopEnd)?n.cancel(0):n.state===r.default.State.Stopped&&this._restartEvent(n)};Object.defineProperty(r.default.Part.prototype,"probability",{get:function(){return this._probability},set:function(n){this._probability=n;this._setAll("probability",n)}});Object.defineProperty(r.default.Part.prototype,"humanize",{get:function(){return this._humanize},set:function(n){this._humanize=n;this._setAll("humanize",n)}});Object.defineProperty(r.default.Part.prototype,"loop",{get:function(){return this._loop},set:function(n){this._loop=n;this._forEach(function(t){t._loopStart=this._loopStart;t._loopEnd=this._loopEnd;t.loop=n;this._testLoopBoundries(t)})}});Object.defineProperty(r.default.Part.prototype,"loopEnd",{get:function(){return r.default.Ticks(this._loopEnd).toSeconds()},set:function(n){this._loopEnd=this.toTicks(n);this._loop&&this._forEach(function(t){t.loopEnd=n;this._testLoopBoundries(t)})}});Object.defineProperty(r.default.Part.prototype,"loopStart",{get:function(){return r.default.Ticks(this._loopStart).toSeconds()},set:function(n){this._loopStart=this.toTicks(n);this._loop&&this._forEach(function(n){n.loopStart=this.loopStart;this._testLoopBoundries(n)})}});Object.defineProperty(r.default.Part.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(n){this._playbackRate=n;this._setAll("playbackRate",n)}});Object.defineProperty(r.default.Part.prototype,"length",{get:function(){return this._events.length}});r.default.Part.prototype.dispose=function(){return r.default.Event.prototype.dispose.call(this),this.removeAll(),this.callback=null,this._events=null,this};t.default=r.default.Part},function(n,t,i){"use strict";i.r(t);var r=i(0);i(51);r.default.Loop=function(){var n=r.default.defaults(arguments,["callback","interval"],r.default.Loop);r.default.call(this);this._event=new r.default.Event({callback:this._tick.bind(this),loop:!0,loopEnd:n.interval,playbackRate:n.playbackRate,probability:n.probability});this.callback=n.callback;this.iterations=n.iterations};r.default.extend(r.default.Loop);r.default.Loop.defaults={interval:"4n",callback:r.default.noOp,playbackRate:1,iterations:1/0,probability:!0,mute:!1};r.default.Loop.prototype.start=function(n){return this._event.start(n),this};r.default.Loop.prototype.stop=function(n){return this._event.stop(n),this};r.default.Loop.prototype.cancel=function(n){return this._event.cancel(n),this};r.default.Loop.prototype._tick=function(n){this.callback(n)};Object.defineProperty(r.default.Loop.prototype,"state",{get:function(){return this._event.state}});Object.defineProperty(r.default.Loop.prototype,"progress",{get:function(){return this._event.progress}});Object.defineProperty(r.default.Loop.prototype,"interval",{get:function(){return this._event.loopEnd},set:function(n){this._event.loopEnd=n}});Object.defineProperty(r.default.Loop.prototype,"playbackRate",{get:function(){return this._event.playbackRate},set:function(n){this._event.playbackRate=n}});Object.defineProperty(r.default.Loop.prototype,"humanize",{get:function(){return this._event.humanize},set:function(n){this._event.humanize=n}});Object.defineProperty(r.default.Loop.prototype,"probability",{get:function(){return this._event.probability},set:function(n){this._event.probability=n}});Object.defineProperty(r.default.Loop.prototype,"mute",{get:function(){return this._event.mute},set:function(n){this._event.mute=n}});Object.defineProperty(r.default.Loop.prototype,"iterations",{get:function(){return!0===this._event.loop?1/0:this._event.loop},set:function(n){this._event.loop=n===1/0||n}});r.default.Loop.prototype.dispose=function(){this._event.dispose();this._event=null;this.callback=null};t.default=r.default.Loop},function(n,t,i){"use strict";i.r(t);var r=i(0);i(15);i(33);r.default.StereoXFeedbackEffect=function(){var n=r.default.defaults(arguments,["feedback"],r.default.FeedbackEffect);r.default.StereoEffect.call(this,n);this.feedback=new r.default.Signal(n.feedback,r.default.Type.NormalRange);this._feedbackLR=new r.default.Gain;this._feedbackRL=new r.default.Gain;this.effectReturnL.chain(this._feedbackLR,this.effectSendR);this.effectReturnR.chain(this._feedbackRL,this.effectSendL);this.feedback.fan(this._feedbackLR.gain,this._feedbackRL.gain);this._readOnly(["feedback"])};r.default.extend(r.default.StereoXFeedbackEffect,r.default.StereoEffect);r.default.StereoXFeedbackEffect.prototype.dispose=function(){return r.default.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackLR.dispose(),this._feedbackLR=null,this._feedbackRL.dispose(),this._feedbackRL=null,this};t.default=r.default.StereoXFeedbackEffect},function(n,t,i){"use strict";i.r(t);var r=i(0);i(8);i(53);i(52);r.default.MidSideEffect=function(){r.default.Effect.apply(this,arguments);this._midSideSplit=new r.default.MidSideSplit;this._midSideMerge=new r.default.MidSideMerge;this.midSend=this._midSideSplit.mid;this.sideSend=this._midSideSplit.side;this.midReturn=this._midSideMerge.mid;this.sideReturn=this._midSideMerge.side;this.effectSend.connect(this._midSideSplit);this._midSideMerge.connect(this.effectReturn)};r.default.extend(r.default.MidSideEffect,r.default.Effect);r.default.MidSideEffect.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this.midSend=null,this.sideSend=null,this.midReturn=null,this.sideReturn=null,this};t.default=r.default.MidSideEffect},function(n,t,i){"use strict";i.r(t);var r=i(0);i(11);i(8);r.default.Convolver=function(){var n=r.default.defaults(arguments,["url","onload"],r.default.Convolver);r.default.Effect.call(this,n);this._convolver=this.context.createConvolver();this._buffer=new r.default.Buffer(n.url,function(t){this.buffer=t.get();n.onload()}.bind(this));this._buffer.loaded&&(this.buffer=this._buffer);this.normalize=n.normalize;this.connectEffect(this._convolver)};r.default.extend(r.default.Convolver,r.default.Effect);r.default.Convolver.defaults={onload:r.default.noOp,normalize:!0};Object.defineProperty(r.default.Convolver.prototype,"buffer",{get:function(){return this._buffer.length?this._buffer:null},set:function(n){this._buffer.set(n);this._convolver.buffer&&(this.effectSend.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.connectEffect(this._convolver));this._convolver.buffer=this._buffer.get()}});Object.defineProperty(r.default.Convolver.prototype,"normalize",{get:function(){return this._convolver.normalize},set:function(n){this._convolver.normalize=n}});r.default.Convolver.prototype.load=function(n,t){return this._buffer.load(n,function(n){this.buffer=n;t&&t()}.bind(this))};r.default.Convolver.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this._buffer.dispose(),this._buffer=null,this._convolver.disconnect(),this._convolver=null,this};t.default=r.default.Convolver},function(n,t,i){"use strict";i.r(t);var r=i(0);i(7);i(5);i(13);r.default.Modulo=function(n){r.default.SignalBase.call(this);this.createInsOuts(1,0);this._shaper=new r.default.WaveShaper(Math.pow(2,16));this._multiply=new r.default.Multiply;this._subtract=this.output=new r.default.Subtract;this._modSignal=new r.default.Signal(n);r.default.connect(this.input,this._shaper);r.default.connect(this.input,this._subtract);this._modSignal.connect(this._multiply,0,0);this._shaper.connect(this._multiply,0,1);this._multiply.connect(this._subtract,0,1);this._setWaveShaper(n)};r.default.extend(r.default.Modulo,r.default.SignalBase);r.default.Modulo.prototype._setWaveShaper=function(n){this._shaper.setMap(function(t){return Math.floor((t+.0001)/n)})};Object.defineProperty(r.default.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(n){this._modSignal.value=n;this._setWaveShaper(n)}});r.default.Modulo.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this._multiply.dispose(),this._multiply=null,this._subtract.dispose(),this._subtract=null,this._modSignal.dispose(),this._modSignal=null,this};t.default=r.default.Modulo},function(n,t,i){"use strict";i.r(t);var r=i(0);i(20);i(92);r.default.OfflineContext=function(n,t,i){var u=new OfflineAudioContext(n,t*i,i);r.default.Context.call(this,{context:u,clockSource:"offline",lookAhead:0,updateInterval:128/i});this._duration=t;this._currentTime=0};r.default.extend(r.default.OfflineContext,r.default.Context);r.default.OfflineContext.prototype.now=function(){return this._currentTime};r.default.OfflineContext.prototype.resume=function(){return Promise.resolve()};r.default.OfflineContext.prototype.render=function(){for(;this._duration-this._currentTime>=0;)this.emit("tick"),this._currentTime+=.005;return this._context.startRendering()};r.default.OfflineContext.prototype.close=function(){return this._context=null,Promise.resolve()};t.default=r.default.OfflineContext},function(n,t,i){"use strict";i.r(t);var r=i(0);i(16);i(11);i(76);i(40);r.default.Offline=function(n,t){var e=r.default.context.sampleRate,o=r.default.context,u=new r.default.OfflineContext(2,t,e),i,f;return r.default.context=u,i=n(r.default.Transport),f=null,f=i&&r.default.isFunction(i.then)?i.then(function(){return u.render()}):u.render(),r.default.context=o,f.then(function(n){return new r.default.Buffer(n)})};t.default=r.default.Offline},function(n,t,i){"use strict";i.r(t);var r=i(0);i(11);r.default.Buffers=function(n){var u=Array.prototype.slice.call(arguments),t,i;u.shift();t=r.default.defaults(u,["onload","baseUrl"],r.default.Buffers);for(i in r.default.call(this),this._buffers={},this.baseUrl=t.baseUrl,this._loadingCount=0,n)this._loadingCount++,this.add(i,n[i],this._bufferLoaded.bind(this,t.onload))};r.default.extend(r.default.Buffers);r.default.Buffers.defaults={onload:r.default.noOp,baseUrl:""};r.default.Buffers.prototype.has=function(n){return this._buffers.hasOwnProperty(n)};r.default.Buffers.prototype.get=function(n){if(this.has(n))return this._buffers[n];throw new Error("Tone.Buffers: no buffer named "+n);};r.default.Buffers.prototype._bufferLoaded=function(n){this._loadingCount--;0===this._loadingCount&&n&&n(this)};Object.defineProperty(r.default.Buffers.prototype,"loaded",{get:function(){var n=!0,t,i;for(t in this._buffers)i=this.get(t),n=n&&i.loaded;return n}});r.default.Buffers.prototype.add=function(n,t,i){return i=r.default.defaultArg(i,r.default.noOp),t instanceof r.default.Buffer?(this._buffers[n]=t,i(this)):t instanceof AudioBuffer?(this._buffers[n]=new r.default.Buffer(t),i(this)):r.default.isString(t)&&(this._buffers[n]=new r.default.Buffer(this.baseUrl+t,i)),this};r.default.Buffers.prototype.dispose=function(){for(var n in r.default.prototype.dispose.call(this),this._buffers)this._buffers[n].dispose();return this._buffers=null,this};t.default=r.default.Buffers},function(n,t,i){"use strict";i.r(t);var r=i(0);r.default.CtrlPattern=function(){var n=r.default.defaults(arguments,["values","type"],r.default.CtrlPattern);r.default.call(this);this.values=n.values;this.index=0;this._type=null;this._shuffled=null;this._direction=null;this.type=n.type};r.default.extend(r.default.CtrlPattern);r.default.CtrlPattern.Type={Up:"up",Down:"down",UpDown:"upDown",DownUp:"downUp",AlternateUp:"alternateUp",AlternateDown:"alternateDown",Random:"random",RandomWalk:"randomWalk",RandomOnce:"randomOnce"};r.default.CtrlPattern.defaults={type:r.default.CtrlPattern.Type.Up,values:[]};Object.defineProperty(r.default.CtrlPattern.prototype,"value",{get:function(){if(0!==this.values.length){if(1===this.values.length)return this.values[0];this.index=Math.min(this.index,this.values.length-1);var n=this.values[this.index];return this.type===r.default.CtrlPattern.Type.RandomOnce&&(this.values.length!==this._shuffled.length&&this._shuffleValues(),n=this.values[this._shuffled[this.index]]),n}}});Object.defineProperty(r.default.CtrlPattern.prototype,"type",{get:function(){return this._type},set:function(n){this._type=n;this._shuffled=null;this._type===r.default.CtrlPattern.Type.Up||this._type===r.default.CtrlPattern.Type.UpDown||this._type===r.default.CtrlPattern.Type.RandomOnce||this._type===r.default.CtrlPattern.Type.AlternateUp?this.index=0:this._type!==r.default.CtrlPattern.Type.Down&&this._type!==r.default.CtrlPattern.Type.DownUp&&this._type!==r.default.CtrlPattern.Type.AlternateDown||(this.index=this.values.length-1);this._type===r.default.CtrlPattern.Type.UpDown||this._type===r.default.CtrlPattern.Type.AlternateUp?this._direction=r.default.CtrlPattern.Type.Up:this._type!==r.default.CtrlPattern.Type.DownUp&&this._type!==r.default.CtrlPattern.Type.AlternateDown||(this._direction=r.default.CtrlPattern.Type.Down);this._type===r.default.CtrlPattern.Type.RandomOnce?this._shuffleValues():this._type===r.default.CtrlPattern.Type.Random&&(this.index=Math.floor(Math.random()*this.values.length))}});r.default.CtrlPattern.prototype.next=function(){var n=this.type;return n===r.default.CtrlPattern.Type.Up?(this.index++,this.index>=this.values.length&&(this.index=0)):n===r.default.CtrlPattern.Type.Down?(this.index--,this.index<0&&(this.index=this.values.length-1)):n===r.default.CtrlPattern.Type.UpDown||n===r.default.CtrlPattern.Type.DownUp?(this._direction===r.default.CtrlPattern.Type.Up?this.index++:this.index--,this.index<0?(this.index=1,this._direction=r.default.CtrlPattern.Type.Up):this.index>=this.values.length&&(this.index=this.values.length-2,this._direction=r.default.CtrlPattern.Type.Down)):n===r.default.CtrlPattern.Type.Random?this.index=Math.floor(Math.random()*this.values.length):n===r.default.CtrlPattern.Type.RandomWalk?Math.random()<.5?(this.index--,this.index=Math.max(this.index,0)):(this.index++,this.index=Math.min(this.index,this.values.length-1)):n===r.default.CtrlPattern.Type.RandomOnce?(this.index++,this.index>=this.values.length&&(this.index=0,this._shuffleValues())):n===r.default.CtrlPattern.Type.AlternateUp?(this._direction===r.default.CtrlPattern.Type.Up?(this.index+=2,this._direction=r.default.CtrlPattern.Type.Down):(this.index-=1,this._direction=r.default.CtrlPattern.Type.Up),this.index>=this.values.length&&(this.index=0,this._direction=r.default.CtrlPattern.Type.Up)):n===r.default.CtrlPattern.Type.AlternateDown&&(this._direction===r.default.CtrlPattern.Type.Up?(this.index+=1,this._direction=r.default.CtrlPattern.Type.Down):(this.index-=2,this._direction=r.default.CtrlPattern.Type.Up),this.index<0&&(this.index=this.values.length-1,this._direction=r.default.CtrlPattern.Type.Down)),this.value};r.default.CtrlPattern.prototype._shuffleValues=function(){var t=[],n,i;for(this._shuffled=[],n=0;n<this.values.length;n++)t[n]=n;for(;t.length>0;)i=t.splice(Math.floor(t.length*Math.random()),1),this._shuffled.push(i[0])};r.default.CtrlPattern.prototype.dispose=function(){this._shuffled=null;this.values=null};t.default=r.default.CtrlPattern},function(n,t,i){"use strict";i.r(t);var r=i(0);i(56);i(55);r.default.TransportRepeatEvent=function(n,t){r.default.TransportEvent.call(this,n,t);t=r.default.defaultArg(t,r.default.TransportRepeatEvent.defaults);this.duration=r.default.Ticks(t.duration);this._interval=r.default.Ticks(t.interval);this._currentId=-1;this._nextId=-1;this._nextTick=this.time;this._boundRestart=this._restart.bind(this);this.Transport.on("start loopStart",this._boundRestart);this._restart()};r.default.extend(r.default.TransportRepeatEvent,r.default.TransportEvent);r.default.TransportRepeatEvent.defaults={duration:1/0,interval:1};r.default.TransportRepeatEvent.prototype.invoke=function(n){this._createEvents(n);r.default.TransportEvent.prototype.invoke.call(this,n)};r.default.TransportRepeatEvent.prototype._createEvents=function(n){var t=this.Transport.getTicksAtTime(n);t>=this.time&&t>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),r.default.Ticks(this._nextTick)))};r.default.TransportRepeatEvent.prototype._restart=function(n){this.Transport.clear(this._currentId);this.Transport.clear(this._nextId);this._nextTick=this.time;var t=this.Transport.getTicksAtTime(n);t>this.time&&(this._nextTick=this.time+Math.ceil((t-this.time)/this._interval)*this._interval);this._currentId=this.Transport.scheduleOnce(this.invoke.bind(this),r.default.Ticks(this._nextTick));this._nextTick+=this._interval;this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),r.default.Ticks(this._nextTick))};r.default.TransportRepeatEvent.prototype.dispose=function(){return this.Transport.clear(this._currentId),this.Transport.clear(this._nextId),this.Transport.off("start loopStart",this._boundRestart),this._boundCreateEvents=null,r.default.TransportEvent.prototype.dispose.call(this),this.duration=null,this._interval=null,this};t.default=r.default.TransportRepeatEvent},function(n,t,i){"use strict";var r,u;i.r(t);r=i(0);i(4);r.default.IntervalTimeline=function(){r.default.call(this);this._root=null;this._length=0};r.default.extend(r.default.IntervalTimeline);r.default.IntervalTimeline.prototype.add=function(n){if(r.default.isUndef(n.time)||r.default.isUndef(n.duration))throw new Error("Tone.IntervalTimeline: events must have time and duration parameters");n.time=n.time.valueOf();var t=new u(n.time,n.time+n.duration,n);for(null===this._root?this._root=t:this._root.insert(t),this._length++;null!==t;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this};r.default.IntervalTimeline.prototype.remove=function(n){var t,i,r;if(null!==this._root)for(t=[],this._root.search(n.time,t),i=0;i<t.length;i++)if(r=t[i],r.event===n){this._removeNode(r);this._length--;break}return this};Object.defineProperty(r.default.IntervalTimeline.prototype,"length",{get:function(){return this._length}});r.default.IntervalTimeline.prototype.cancel=function(n){return this.forEachFrom(n,function(n){this.remove(n)}.bind(this)),this};r.default.IntervalTimeline.prototype._setRoot=function(n){this._root=n;null!==this._root&&(this._root.parent=null)};r.default.IntervalTimeline.prototype._replaceNodeInParent=function(n,t){null!==n.parent?(n.isLeftChild()?n.parent.left=t:n.parent.right=t,this._rebalance(n.parent)):this._setRoot(t)};r.default.IntervalTimeline.prototype._removeNode=function(n){if(null===n.left&&null===n.right)this._replaceNodeInParent(n,null);else if(null===n.right)this._replaceNodeInParent(n,n.left);else if(null===n.left)this._replaceNodeInParent(n,n.right);else{var t,i;if(n.getBalance()>0)if(null===n.left.right)(t=n.left).right=n.right,i=t;else{for(t=n.left.right;null!==t.right;)t=t.right;t.parent.right=t.left;i=t.parent;t.left=n.left;t.right=n.right}else if(null===n.right.left)(t=n.right).left=n.left,i=t;else{for(t=n.right.left;null!==t.left;)t=t.left;t.parent.left=t.right;i=t.parent;t.left=n.left;t.right=n.right}null!==n.parent?n.isLeftChild()?n.parent.left=t:n.parent.right=t:this._setRoot(t);this._rebalance(i)}n.dispose()};r.default.IntervalTimeline.prototype._rotateLeft=function(n){var i=n.parent,r=n.isLeftChild(),t=n.right;n.right=t.left;t.left=n;null!==i?r?i.left=t:i.right=t:this._setRoot(t)};r.default.IntervalTimeline.prototype._rotateRight=function(n){var i=n.parent,r=n.isLeftChild(),t=n.left;n.left=t.right;t.right=n;null!==i?r?i.left=t:i.right=t:this._setRoot(t)};r.default.IntervalTimeline.prototype._rebalance=function(n){var t=n.getBalance();t>1?n.left.getBalance()<0?this._rotateLeft(n.left):this._rotateRight(n):t<-1&&(n.right.getBalance()>0?this._rotateRight(n.right):this._rotateLeft(n))};r.default.IntervalTimeline.prototype.get=function(n){var t,r,i;if(null!==this._root&&(t=[],this._root.search(n,t),t.length>0)){for(r=t[0],i=1;i<t.length;i++)t[i].low>r.low&&(r=t[i]);return r.event}return null};r.default.IntervalTimeline.prototype.forEach=function(n){var t,i,r;if(null!==this._root)for(t=[],this._root.traverse(function(n){t.push(n)}),i=0;i<t.length;i++)r=t[i].event,r&&n(r);return this};r.default.IntervalTimeline.prototype.forEachAtTime=function(n,t){var i,r,u;if(null!==this._root)for(i=[],this._root.search(n,i),r=i.length-1;r>=0;r--)u=i[r].event,u&&t(u);return this};r.default.IntervalTimeline.prototype.forEachFrom=function(n,t){var i,r;if(null!==this._root)for(i=[],this._root.searchAfter(n,i),r=i.length-1;r>=0;r--)t(i[r].event);return this};r.default.IntervalTimeline.prototype.dispose=function(){var n=[],t;for(null!==this._root&&this._root.traverse(function(t){n.push(t)}),t=0;t<n.length;t++)n[t].dispose();return n=null,this._root=null,this};u=function(n,t,i){this.event=i;this.low=n;this.high=t;this.max=this.high;this._left=null;this._right=null;this.parent=null;this.height=0};u.prototype.insert=function(n){n.low<=this.low?null===this.left?this.left=n:this.left.insert(n):null===this.right?this.right=n:this.right.insert(n)};u.prototype.search=function(n,t){n>this.max||(null!==this.left&&this.left.search(n,t),this.low<=n&&this.high>n&&t.push(this),this.low>n||null!==this.right&&this.right.search(n,t))};u.prototype.searchAfter=function(n,t){this.low>=n&&(t.push(this),null!==this.left&&this.left.searchAfter(n,t));null!==this.right&&this.right.searchAfter(n,t)};u.prototype.traverse=function(n){n(this);null!==this.left&&this.left.traverse(n);null!==this.right&&this.right.traverse(n)};u.prototype.updateHeight=function(){this.height=null!==this.left&&null!==this.right?Math.max(this.left.height,this.right.height)+1:null!==this.right?this.right.height+1:null!==this.left?this.left.height+1:0};u.prototype.updateMax=function(){this.max=this.high;null!==this.left&&(this.max=Math.max(this.max,this.left.max));null!==this.right&&(this.max=Math.max(this.max,this.right.max))};u.prototype.getBalance=function(){var n=0;return null!==this.left&&null!==this.right?n=this.left.height-this.right.height:null!==this.left?n=this.left.height+1:null!==this.right&&(n=-(this.right.height+1)),n};u.prototype.isLeftChild=function(){return null!==this.parent&&this.parent.left===this};Object.defineProperty(u.prototype,"left",{get:function(){return this._left},set:function(n){this._left=n;null!==n&&(n.parent=this);this.updateHeight();this.updateMax()}});Object.defineProperty(u.prototype,"right",{get:function(){return this._right},set:function(n){this._right=n;null!==n&&(n.parent=this);this.updateHeight();this.updateMax()}});u.prototype.dispose=function(){this.parent=null;this._left=null;this._right=null;this.event=null};t.default=r.default.IntervalTimeline},function(n,t,i){"use strict";function u(n){return function(t,i){i=this.toSeconds(i);n.apply(this,arguments);var r=this._events.get(i),u=this._events.previousEvent(r),f=this._getTicksUntilEvent(u,i);return r.ticks=Math.max(f,0),this}}i.r(t);var r=i(0);i(2);r.default.TickSignal=function(n){n=r.default.defaultArg(n,1);r.default.Signal.call(this,{units:r.default.Type.Ticks,value:n});this._events.memory=1/0;this.cancelScheduledValues(0);this._events.add({type:r.default.Param.AutomationType.SetValue,time:0,value:n})};r.default.extend(r.default.TickSignal,r.default.Signal);r.default.TickSignal.prototype.setValueAtTime=u(r.default.Signal.prototype.setValueAtTime);r.default.TickSignal.prototype.linearRampToValueAtTime=u(r.default.Signal.prototype.linearRampToValueAtTime);r.default.TickSignal.prototype.setTargetAtTime=function(n,t,i){var u,e;t=this.toSeconds(t);this.setRampPoint(t);n=this._fromUnits(n);for(var f=this._events.get(t),o=Math.round(Math.max(1/i,1)),r=0;r<=o;r++)u=i*r+t,e=this._exponentialApproach(f.time,f.value,n,i,u),this.linearRampToValueAtTime(this._toUnits(e),u);return this};r.default.TickSignal.prototype.exponentialRampToValueAtTime=function(n,t){var u,e;t=this.toSeconds(t);n=this._fromUnits(n);for(var i=this._events.get(t),f=Math.round(Math.max(10*(t-i.time),1)),o=(t-i.time)/f,r=0;r<=f;r++)u=o*r+i.time,e=this._exponentialInterpolate(i.time,i.value,t,n,u),this.linearRampToValueAtTime(this._toUnits(e),u);return this};r.default.TickSignal.prototype._getTicksUntilEvent=function(n,t){var u,f,i;return null===n?n={ticks:0,time:0}:r.default.isUndef(n.ticks)&&(u=this._events.previousEvent(n),n.ticks=this._getTicksUntilEvent(u,n.time)),f=this.getValueAtTime(n.time),i=this.getValueAtTime(t),this._events.get(t).time===t&&this._events.get(t).type===r.default.Param.AutomationType.SetValue&&(i=this.getValueAtTime(t-this.sampleTime)),.5*(t-n.time)*(f+i)+n.ticks};r.default.TickSignal.prototype.getTicksAtTime=function(n){n=this.toSeconds(n);var t=this._events.get(n);return Math.max(this._getTicksUntilEvent(t,n),0)};r.default.TickSignal.prototype.getDurationOfTicks=function(n,t){t=this.toSeconds(t);var i=this.getTicksAtTime(t);return this.getTimeOfTick(i+n)-t};r.default.TickSignal.prototype.getTimeOfTick=function(n){var t=this._events.get(n,"ticks"),i=this._events.getAfter(n,"ticks");if(t&&t.ticks===n)return t.time;if(t&&i&&i.type===r.default.Param.AutomationType.Linear&&t.value!==i.value){var u=this.getValueAtTime(t.time),f=(this.getValueAtTime(i.time)-u)/(i.time-t.time),e=Math.sqrt(Math.pow(u,2)-2*f*(t.ticks-n)),o=(-u+e)/f;return(o>0?o:(-u-e)/f)+t.time}return t?0===t.value?1/0:t.time+(n-t.ticks)/t.value:n/this._initialValue};r.default.TickSignal.prototype.ticksToTime=function(n,t){return t=this.toSeconds(t),new r.default.Time(this.getDurationOfTicks(n,t))};r.default.TickSignal.prototype.timeToTicks=function(n,t){t=this.toSeconds(t);n=this.toSeconds(n);var i=this.getTicksAtTime(t),u=this.getTicksAtTime(t+n);return new r.default.Ticks(u-i)};t.default=r.default.TickSignal},function(n,t,i){"use strict";i.r(t);var r=i(0);i(57);i(34);i(35);i(20);r.default.Clock=function(){var n=r.default.defaults(arguments,["callback","frequency"],r.default.Clock);r.default.Emitter.call(this);this.callback=n.callback;this._nextTick=0;this._tickSource=new r.default.TickSource(n.frequency);this._lastUpdate=0;this.frequency=this._tickSource.frequency;this._readOnly("frequency");this._state=new r.default.TimelineState(r.default.State.Stopped);this._state.setStateAtTime(r.default.State.Stopped,0);this._boundLoop=this._loop.bind(this);this.context.on("tick",this._boundLoop)};r.default.extend(r.default.Clock,r.default.Emitter);r.default.Clock.defaults={callback:r.default.noOp,frequency:1};Object.defineProperty(r.default.Clock.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}});r.default.Clock.prototype.start=function(n,t){return this.context.resume(),n=this.toSeconds(n),this._state.getValueAtTime(n)!==r.default.State.Started&&(this._state.setStateAtTime(r.default.State.Started,n),this._tickSource.start(n,t),n<this._lastUpdate&&this.emit("start",n,t)),this};r.default.Clock.prototype.stop=function(n){return n=this.toSeconds(n),this._state.cancel(n),this._state.setStateAtTime(r.default.State.Stopped,n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this};r.default.Clock.prototype.pause=function(n){return n=this.toSeconds(n),this._state.getValueAtTime(n)===r.default.State.Started&&(this._state.setStateAtTime(r.default.State.Paused,n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this};Object.defineProperty(r.default.Clock.prototype,"ticks",{get:function(){return Math.ceil(this.getTicksAtTime(this.now()))},set:function(n){this._tickSource.ticks=n}});Object.defineProperty(r.default.Clock.prototype,"seconds",{get:function(){return this._tickSource.seconds},set:function(n){this._tickSource.seconds=n}});r.default.Clock.prototype.getSecondsAtTime=function(n){return this._tickSource.getSecondsAtTime(n)};r.default.Clock.prototype.setTicksAtTime=function(n,t){return this._tickSource.setTicksAtTime(n,t),this};r.default.Clock.prototype.getTicksAtTime=function(n){return this._tickSource.getTicksAtTime(n)};r.default.Clock.prototype.nextTickTime=function(n,t){t=this.toSeconds(t);var i=this.getTicksAtTime(t);return this._tickSource.getTimeOfTick(i+n,t)};r.default.Clock.prototype._loop=function(){var t=this._lastUpdate,n=this.now();this._lastUpdate=n;t!==n&&(this._state.forEachBetween(t,n,function(n){switch(n.state){case r.default.State.Started:var t=this._tickSource.getTicksAtTime(n.time);this.emit("start",n.time,t);break;case r.default.State.Stopped:0!==n.time&&this.emit("stop",n.time);break;case r.default.State.Paused:this.emit("pause",n.time)}}.bind(this)),this._tickSource.forEachTickBetween(t,n,function(n,t){this.callback(n,t)}.bind(this)))};r.default.Clock.prototype.getStateAtTime=function(n){return n=this.toSeconds(n),this._state.getValueAtTime(n)};r.default.Clock.prototype.dispose=function(){r.default.Emitter.prototype.dispose.call(this);this.context.off("tick",this._boundLoop);this._writable("frequency");this._tickSource.dispose();this._tickSource=null;this.frequency=null;this._boundLoop=null;this._nextTick=1/0;this.callback=null;this._state.dispose();this._state=null};t.default=r.default.Clock},function(n,t,i){"use strict";i.r(t);var r=i(0);i(2);i(5);i(7);r.default.GreaterThanZero=function(){r.default.SignalBase.call(this);this._thresh=this.output=new r.default.WaveShaper(function(n){return n<=0?0:1},127);this._scale=this.input=new r.default.Multiply(1e4);this._scale.connect(this._thresh)};r.default.extend(r.default.GreaterThanZero,r.default.SignalBase);r.default.GreaterThanZero.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this};t.default=r.default.GreaterThanZero},function(n,t,i){"use strict";i.r(t);var r=i(0);i(84);i(13);i(2);r.default.GreaterThan=function(n){r.default.Signal.call(this);this.createInsOuts(2,0);this._param=this.input[0]=new r.default.Subtract(n);this.input[1]=this._param.input[1];this._gtz=this.output=new r.default.GreaterThanZero;this._param.connect(this._gtz)};r.default.extend(r.default.GreaterThan,r.default.Signal);r.default.GreaterThan.prototype.dispose=function(){return r.default.Signal.prototype.dispose.call(this),this._gtz.dispose(),this._gtz=null,this};t.default=r.default.GreaterThan},function(n,t,i){"use strict";i.r(t);var r=i(0);i(47);i(26);r.default.ScaledEnvelope=function(){var n=r.default.defaults(arguments,["attack","decay","sustain","release"],r.default.Envelope);r.default.Envelope.call(this,n);n=r.default.defaultArg(n,r.default.ScaledEnvelope.defaults);this._exp=this.output=new r.default.Pow(n.exponent);this._scale=this.output=new r.default.Scale(n.min,n.max);this._sig.chain(this._exp,this._scale)};r.default.extend(r.default.ScaledEnvelope,r.default.Envelope);r.default.ScaledEnvelope.defaults={min:0,max:1,exponent:1};Object.defineProperty(r.default.ScaledEnvelope.prototype,"min",{get:function(){return this._scale.min},set:function(n){this._scale.min=n}});Object.defineProperty(r.default.ScaledEnvelope.prototype,"max",{get:function(){return this._scale.max},set:function(n){this._scale.max=n}});Object.defineProperty(r.default.ScaledEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(n){this._exp.value=n}});r.default.ScaledEnvelope.prototype.dispose=function(){return r.default.Envelope.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this};t.default=r.default.ScaledEnvelope},function(n,t,i){"use strict";i.r(t);var r=i(0);i(7);i(30);r.default.Abs=function(){r.default.SignalBase.call(this);this._abs=this.input=this.output=new r.default.WaveShaper(function(n){return Math.abs(n)<.001?0:Math.abs(n)},1024)};r.default.extend(r.default.Abs,r.default.SignalBase);r.default.Abs.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._abs.dispose(),this._abs=null,this};t.default=r.default.Abs},function(n,t,i){"use strict";i.r(t);var r=i(0);i(3);i(1);r.default.Solo=function(){var n=r.default.defaults(arguments,["solo"],r.default.Solo);r.default.AudioNode.call(this);this.input=this.output=new r.default.Gain;this._soloBind=this._soloed.bind(this);this.context.on("solo",this._soloBind);this.solo=n.solo};r.default.extend(r.default.Solo,r.default.AudioNode);r.default.Solo.defaults={solo:!1};Object.defineProperty(r.default.Solo.prototype,"solo",{get:function(){return this._isSoloed()},set:function(n){n?this._addSolo():this._removeSolo();this.context.emit("solo",this)}});Object.defineProperty(r.default.Solo.prototype,"muted",{get:function(){return 0===this.input.gain.value}});r.default.Solo.prototype._addSolo=function(){r.default.isArray(this.context._currentSolo)||(this.context._currentSolo=[]);this._isSoloed()||this.context._currentSolo.push(this)};r.default.Solo.prototype._removeSolo=function(){if(this._isSoloed()){var n=this.context._currentSolo.indexOf(this);this.context._currentSolo.splice(n,1)}};r.default.Solo.prototype._isSoloed=function(){return!!r.default.isArray(this.context._currentSolo)&&0!==this.context._currentSolo.length&&-1!==this.context._currentSolo.indexOf(this)};r.default.Solo.prototype._noSolos=function(){return!r.default.isArray(this.context._currentSolo)||0===this.context._currentSolo.length};r.default.Solo.prototype._soloed=function(){this.input.gain.value=this._isSoloed()?1:this._noSolos()?1:0};r.default.Solo.prototype.dispose=function(){return this.context.off("solo",this._soloBind),this._removeSolo(),this._soloBind=null,r.default.AudioNode.prototype.dispose.call(this),this};t.default=r.default.Solo},function(n,t,i){"use strict";i.r(t);var r=i(0);i(7);r.default.EqualPowerGain=function(){r.default.SignalBase.call(this);this._eqPower=this.input=this.output=new r.default.WaveShaper(function(n){return Math.abs(n)<.001?0:r.default.equalPowerScale(n)}.bind(this),4096)};r.default.extend(r.default.EqualPowerGain,r.default.SignalBase);r.default.EqualPowerGain.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._eqPower.dispose(),this._eqPower=null,this};t.default=r.default.EqualPowerGain},function(n,t,i){"use strict";i.r(t);var r=i(0);i(5);i(2);r.default.Negate=function(){r.default.SignalBase.call(this);this._multiply=this.input=this.output=new r.default.Multiply(-1)};r.default.extend(r.default.Negate,r.default.SignalBase);r.default.Negate.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._multiply.dispose(),this._multiply=null,this};t.default=r.default.Negate},function(n,t,i){"use strict";i.r(t);var r=i(0);i(48);i(27);i(1);r.default.PanVol=function(){var n=r.default.defaults(arguments,["pan","volume"],r.default.PanVol);r.default.AudioNode.call(this);this._panner=this.input=new r.default.Panner(n.pan);this.pan=this._panner.pan;this._volume=this.output=new r.default.Volume(n.volume);this.volume=this._volume.volume;this._panner.connect(this._volume);this.mute=n.mute;this._readOnly(["pan","volume"])};r.default.extend(r.default.PanVol,r.default.AudioNode);r.default.PanVol.defaults={pan:0,volume:0,mute:!1};Object.defineProperty(r.default.PanVol.prototype,"mute",{get:function(){return this._volume.mute},set:function(n){this._volume.mute=n}});r.default.PanVol.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panner.dispose(),this._panner=null,this.pan=null,this._volume.dispose(),this._volume=null,this.volume=null,this};t.default=r.default.PanVol},function(n,t,i){"use strict";var r=i(0),u;r.default.supported&&(!r.default.global.hasOwnProperty("OfflineAudioContext")&&r.default.global.hasOwnProperty("webkitOfflineAudioContext")&&(r.default.global.OfflineAudioContext=r.default.global.webkitOfflineAudioContext),u=new OfflineAudioContext(1,1,44100).startRendering(),u&&r.default.isFunction(u.then)||(OfflineAudioContext.prototype._native_startRendering=OfflineAudioContext.prototype.startRendering,OfflineAudioContext.prototype.startRendering=function(){return new Promise(function(n){this.oncomplete=function(t){n(t.renderedBuffer)};this._native_startRendering()}.bind(this))}))},function(n,t){"use strict";t.a="13.8.27"},function(n,t,i){"use strict";i.r(t);var r=i(0);i(46);r.default.Midi=function(n,t){if(!(this instanceof r.default.Midi))return new r.default.Midi(n,t);r.default.Frequency.call(this,n,t)};r.default.extend(r.default.Midi,r.default.Frequency);r.default.Midi.prototype._defaultUnits="midi";r.default.Midi.prototype._frequencyToUnits=function(n){return r.default.Frequency.ftom(r.default.Frequency.prototype._frequencyToUnits.call(this,n))};r.default.Midi.prototype._ticksToUnits=function(n){return r.default.Frequency.ftom(r.default.Frequency.prototype._ticksToUnits.call(this,n))};r.default.Midi.prototype._beatsToUnits=function(n){return r.default.Frequency.ftom(r.default.Frequency.prototype._beatsToUnits.call(this,n))};r.default.Midi.prototype._secondsToUnits=function(n){return r.default.Frequency.ftom(r.default.Frequency.prototype._secondsToUnits.call(this,n))};r.default.Midi.prototype.toMidi=function(){return this.valueOf()};r.default.Midi.prototype.toFrequency=function(){return r.default.Frequency.mtof(this.toMidi())};r.default.Midi.prototype.transpose=function(n){return new this.constructor(this.toMidi()+n)};t.default=r.default.Midi},function(n,t,i){"use strict";i.r(t);var r=i(0);i(27);i(1);r.default.UserMedia=function(){var n=r.default.defaults(arguments,["volume"],r.default.UserMedia);r.default.AudioNode.call(this);this._mediaStream=null;this._stream=null;this._device=null;this._volume=this.output=new r.default.Volume(n.volume);this.volume=this._volume.volume;this._readOnly("volume");this.mute=n.mute};r.default.extend(r.default.UserMedia,r.default.AudioNode);r.default.UserMedia.defaults={volume:0,mute:!1};r.default.UserMedia.prototype.open=function(n){return this.state===r.default.State.Started&&this.close(),r.default.UserMedia.enumerateDevices().then(function(t){var i,u;if(r.default.isNumber(n))i=t[n];else if(!(i=t.find(function(t){return t.label===n||t.deviceId===n}))&&t.length>0)i=t[0];else if(!i&&r.default.isDefined(n))throw new Error("Tone.UserMedia: no matching device: "+n);return this._device=i,u={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}},i&&(u.audio.deviceId=i.deviceId),navigator.mediaDevices.getUserMedia(u).then(function(n){return this._stream||(this._stream=n,this._mediaStream=this.context.createMediaStreamSource(n),r.default.connect(this._mediaStream,this.output)),this}.bind(this))}.bind(this))};r.default.UserMedia.prototype.close=function(){return this._stream&&(this._stream.getAudioTracks().forEach(function(n){n.stop()}),this._stream=null,this._mediaStream.disconnect(),this._mediaStream=null),this._device=null,this};r.default.UserMedia.enumerateDevices=function(){return navigator.mediaDevices.enumerateDevices().then(function(n){return n.filter(function(n){return"audioinput"===n.kind})})};Object.defineProperty(r.default.UserMedia.prototype,"state",{get:function(){return this._stream&&this._stream.active?r.default.State.Started:r.default.State.Stopped}});Object.defineProperty(r.default.UserMedia.prototype,"deviceId",{get:function(){return this._device?this._device.deviceId:null}});Object.defineProperty(r.default.UserMedia.prototype,"groupId",{get:function(){return this._device?this._device.groupId:null}});Object.defineProperty(r.default.UserMedia.prototype,"label",{get:function(){return this._device?this._device.label:null}});Object.defineProperty(r.default.UserMedia.prototype,"mute",{get:function(){return this._volume.mute},set:function(n){this._volume.mute=n}});r.default.UserMedia.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this.close(),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this};Object.defineProperty(r.default.UserMedia,"supported",{get:function(){return r.default.isDefined(navigator.mediaDevices)&&r.default.isFunction(navigator.mediaDevices.getUserMedia)}});t.default=r.default.UserMedia},function(n,t,i){"use strict";i.r(t);var r=i(0);i(65);i(27);i(1);r.default.Players=function(n){var u=Array.prototype.slice.call(arguments),t,i;u.shift();t=r.default.defaults(u,["onload"],r.default.Players);for(i in r.default.AudioNode.call(this,t),this._volume=this.output=new r.default.Volume(t.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit",this.mute=t.mute,this._players={},this._loadingCount=0,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,n)this._loadingCount++,this.add(i,n[i],this._bufferLoaded.bind(this,t.onload))};r.default.extend(r.default.Players,r.default.AudioNode);r.default.Players.defaults={volume:0,mute:!1,onload:r.default.noOp,fadeIn:0,fadeOut:0};r.default.Players.prototype._bufferLoaded=function(n){this._loadingCount--;0===this._loadingCount&&n&&n(this)};Object.defineProperty(r.default.Players.prototype,"mute",{get:function(){return this._volume.mute},set:function(n){this._volume.mute=n}});Object.defineProperty(r.default.Players.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(n){this._fadeIn=n;this._forEach(function(t){t.fadeIn=n})}});Object.defineProperty(r.default.Players.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(n){this._fadeOut=n;this._forEach(function(t){t.fadeOut=n})}});Object.defineProperty(r.default.Players.prototype,"state",{get:function(){var n=!1;return this._forEach(function(t){n=n||t.state===r.default.State.Started}),n?r.default.State.Started:r.default.State.Stopped}});r.default.Players.prototype.has=function(n){return this._players.hasOwnProperty(n)};r.default.Players.prototype.get=function(n){if(this.has(n))return this._players[n];throw new Error("Tone.Players: no player named "+n);};r.default.Players.prototype._forEach=function(n){for(var t in this._players)n(this._players[t],t);return this};Object.defineProperty(r.default.Players.prototype,"loaded",{get:function(){var n=!0;return this._forEach(function(t){n=n&&t.loaded}),n}});r.default.Players.prototype.add=function(n,t,i){return this._players[n]=new r.default.Player(t,i).connect(this.output),this._players[n].fadeIn=this._fadeIn,this._players[n].fadeOut=this._fadeOut,this};r.default.Players.prototype.stopAll=function(n){this._forEach(function(t){t.stop(n)})};r.default.Players.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable("volume"),this.volume=null,this.output=null,this._forEach(function(n){n.dispose()}),this._players=null,this};t.default=r.default.Players},function(n,t,i){"use strict";i.r(t);var r=i(0);i(6);i(11);i(32);r.default.GrainPlayer=function(){var n=r.default.defaults(arguments,["url","onload"],r.default.GrainPlayer);r.default.Source.call(this,n);this.buffer=new r.default.Buffer(n.url,n.onload.bind(void 0,this));this._clock=new r.default.Clock(this._tick.bind(this),n.grainSize);this._loopStart=0;this._loopEnd=0;this._activeSources=[];this._playbackRate=n.playbackRate;this._grainSize=n.grainSize;this._overlap=n.overlap;this.detune=n.detune;this.overlap=n.overlap;this.loop=n.loop;this.playbackRate=n.playbackRate;this.grainSize=n.grainSize;this.loopStart=n.loopStart;this.loopEnd=n.loopEnd;this.reverse=n.reverse;this._clock.on("stop",this._onstop.bind(this))};r.default.extend(r.default.GrainPlayer,r.default.Source);r.default.GrainPlayer.defaults={onload:r.default.noOp,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1};r.default.GrainPlayer.prototype._start=function(n,t,i){t=r.default.defaultArg(t,0);t=this.toSeconds(t);n=this.toSeconds(n);this._offset=t;this._clock.start(n);i&&this.stop(n+this.toSeconds(i))};r.default.GrainPlayer.prototype._stop=function(n){this._clock.stop(n)};r.default.GrainPlayer.prototype._onstop=function(n){this._activeSources.forEach(function(t){t.fadeOut=0;t.stop(n)})};r.default.GrainPlayer.prototype._tick=function(n){if(!this.loop&&this._offset>this.buffer.duration)this.stop(n);else{var i=this._offset<this._overlap?0:this._overlap,t=new r.default.BufferSource({buffer:this.buffer,fadeIn:i,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:r.default.intervalToFrequencyRatio(this.detune/100)}).connect(this.output);t.start(n,this._offset);this._offset+=this.grainSize;t.stop(n+this.grainSize/this.playbackRate);this._activeSources.push(t);t.onended=function(){var n=this._activeSources.indexOf(t);-1!==n&&this._activeSources.splice(n,1)}.bind(this)}};Object.defineProperty(r.default.GrainPlayer.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(n){this._playbackRate=n;this.grainSize=this._grainSize}});Object.defineProperty(r.default.GrainPlayer.prototype,"loopStart",{get:function(){return this._loopStart},set:function(n){this._loopStart=this.toSeconds(n)}});Object.defineProperty(r.default.GrainPlayer.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(n){this._loopEnd=this.toSeconds(n)}});Object.defineProperty(r.default.GrainPlayer.prototype,"reverse",{get:function(){return this.buffer.reverse},set:function(n){this.buffer.reverse=n}});Object.defineProperty(r.default.GrainPlayer.prototype,"grainSize",{get:function(){return this._grainSize},set:function(n){this._grainSize=this.toSeconds(n);this._clock.frequency.value=this._playbackRate/this._grainSize}});Object.defineProperty(r.default.GrainPlayer.prototype,"overlap",{get:function(){return this._overlap},set:function(n){this._overlap=this.toSeconds(n)}});Object.defineProperty(r.default.GrainPlayer.prototype,"loaded",{get:function(){return this.buffer.loaded}});r.default.GrainPlayer.prototype.dispose=function(){return r.default.Source.prototype.dispose.call(this),this.buffer.dispose(),this.buffer=null,this._clock.dispose(),this._clock=null,this._activeSources.forEach(function(n){n.dispose()}),this._activeSources=null,this};t.default=r.default.GrainPlayer},function(n,t,i){"use strict";i.r(t);var r=i(0);i(16);i(2);i(45);r.default.TransportTimelineSignal=function(){r.default.Signal.apply(this,arguments);this.output=this._outputSig=new r.default.Signal(this._initialValue);this._lastVal=this.value;this._synced=r.default.Transport.scheduleRepeat(this._onTick.bind(this),"1i");this._bindAnchorValue=this._anchorValue.bind(this);r.default.Transport.on("start stop pause",this._bindAnchorValue);this._events.memory=1/0};r.default.extend(r.default.TransportTimelineSignal,r.default.Signal);r.default.TransportTimelineSignal.prototype._onTick=function(n){var t=this.getValueAtTime(r.default.Transport.seconds);this._lastVal!==t&&(this._lastVal=t,this._outputSig.linearRampToValueAtTime(t,n))};r.default.TransportTimelineSignal.prototype._anchorValue=function(n){var t=this.getValueAtTime(r.default.Transport.seconds);return this._lastVal=t,this._outputSig.cancelScheduledValues(n),this._outputSig.setValueAtTime(t,n),this};r.default.TransportTimelineSignal.prototype.getValueAtTime=function(n){return n=r.default.TransportTime(n),r.default.Signal.prototype.getValueAtTime.call(this,n)};r.default.TransportTimelineSignal.prototype.setValueAtTime=function(n,t){return t=r.default.TransportTime(t),r.default.Signal.prototype.setValueAtTime.call(this,n,t),this};r.default.TransportTimelineSignal.prototype.linearRampToValueAtTime=function(n,t){return t=r.default.TransportTime(t),r.default.Signal.prototype.linearRampToValueAtTime.call(this,n,t),this};r.default.TransportTimelineSignal.prototype.exponentialRampToValueAtTime=function(n,t){return t=r.default.TransportTime(t),r.default.Signal.prototype.exponentialRampToValueAtTime.call(this,n,t),this};r.default.TransportTimelineSignal.prototype.setTargetAtTime=function(n,t,i){return t=r.default.TransportTime(t),r.default.Signal.prototype.setTargetAtTime.call(this,n,t,i),this};r.default.TransportTimelineSignal.prototype.cancelScheduledValues=function(n){return n=r.default.TransportTime(n),r.default.Signal.prototype.cancelScheduledValues.call(this,n),this};r.default.TransportTimelineSignal.prototype.setValueCurveAtTime=function(n,t,i,u){return t=r.default.TransportTime(t),i=r.default.TransportTime(i),r.default.Signal.prototype.setValueCurveAtTime.call(this,n,t,i,u),this};r.default.TransportTimelineSignal.prototype.cancelAndHoldAtTime=function(n){return r.default.Signal.prototype.cancelAndHoldAtTime.call(this,r.default.TransportTime(n))};r.default.TransportTimelineSignal.prototype.dispose=function(){r.default.Transport.clear(this._synced);r.default.Transport.off("start stop pause",this._syncedCallback);this._events.cancel(0);r.default.Signal.prototype.dispose.call(this);this._outputSig.dispose();this._outputSig=null};t.default=r.default.TransportTimelineSignal},function(n,t,i){"use strict";i.r(t);var r=i(0);i(29);i(5);r.default.Normalize=function(n,t){r.default.SignalBase.call(this);this._inputMin=r.default.defaultArg(n,0);this._inputMax=r.default.defaultArg(t,1);this._sub=this.input=new r.default.Add(0);this._div=this.output=new r.default.Multiply(1);this._sub.connect(this._div);this._setRange()};r.default.extend(r.default.Normalize,r.default.SignalBase);Object.defineProperty(r.default.Normalize.prototype,"min",{get:function(){return this._inputMin},set:function(n){this._inputMin=n;this._setRange()}});Object.defineProperty(r.default.Normalize.prototype,"max",{get:function(){return this._inputMax},set:function(n){this._inputMax=n;this._setRange()}});r.default.Normalize.prototype._setRange=function(){this._sub.value=-this._inputMin;this._div.value=1/(this._inputMax-this._inputMin)};r.default.Normalize.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._sub.dispose(),this._sub=null,this._div.dispose(),this._div=null,this};t.default=r.default.Normalize},function(n,t,i){"use strict";i.r(t);var r=i(0);i(7);i(2);r.default.GainToAudio=function(){r.default.SignalBase.call(this);this._norm=this.input=this.output=new r.default.WaveShaper(function(n){return 2*Math.abs(n)-1})};r.default.extend(r.default.GainToAudio,r.default.SignalBase);r.default.GainToAudio.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this};t.default=r.default.GainToAudio},function(n,t,i){"use strict";i.r(t);var r=i(0);i(21);i(78);i(32);r.default.Sampler=function(n){var f=Array.prototype.slice.call(arguments),t,u,i;f.shift();t=r.default.defaults(f,["onload","baseUrl"],r.default.Sampler);r.default.Instrument.call(this,t);u={};for(i in n)if(r.default.isNote(i))u[r.default.Frequency(i).toMidi()]=n[i];else{if(isNaN(parseFloat(i)))throw new Error("Tone.Sampler: url keys must be the note's pitch");u[i]=n[i]}this._buffers=new r.default.Buffers(u,t.onload,t.baseUrl);this._activeSources={};this.attack=t.attack;this.release=t.release;this.curve=t.curve};r.default.extend(r.default.Sampler,r.default.Instrument);r.default.Sampler.defaults={attack:0,release:.1,onload:r.default.noOp,baseUrl:"",curve:"exponential"};r.default.Sampler.prototype._findClosest=function(n){for(var t=0;t<96;){if(this._buffers.has(n+t))return-t;if(this._buffers.has(n-t))return t;t++}throw new Error("No available buffers for note: "+n);};r.default.Sampler.prototype.triggerAttack=function(n,t,i){var f;for(this.log("triggerAttack",n,t,i),Array.isArray(n)||(n=[n]),f=0;f<n.length;f++){var u=r.default.Frequency(n[f]).toMidi(),o=this._findClosest(u),c=u-o,s=this._buffers.get(c),h=r.default.intervalToFrequencyRatio(o),e=new r.default.BufferSource({buffer:s,playbackRate:h,fadeIn:this.attack,fadeOut:this.release,curve:this.curve}).connect(this.output);e.start(t,0,s.duration/h,i);r.default.isArray(this._activeSources[u])||(this._activeSources[u]=[]);this._activeSources[u].push(e);e.onended=function(){if(this._activeSources&&this._activeSources[u]){var n=this._activeSources[u].indexOf(e);-1!==n&&this._activeSources[u].splice(n,1)}}.bind(this)}return this};r.default.Sampler.prototype.triggerRelease=function(n,t){var u,i;for(this.log("triggerRelease",n,t),Array.isArray(n)||(n=[n]),u=0;u<n.length;u++)i=r.default.Frequency(n[u]).toMidi(),this._activeSources[i]&&this._activeSources[i].length&&(t=this.toSeconds(t),this._activeSources[i].forEach(function(n){n.stop(t)}),this._activeSources[i]=[]);return this};r.default.Sampler.prototype.releaseAll=function(n){var i,t;for(i in n=this.toSeconds(n),this._activeSources)for(t=this._activeSources[i];t.length;)t.shift().stop(n);return this};r.default.Sampler.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this};r.default.Sampler.prototype.triggerAttackRelease=function(n,t,i,u){var f,e;if(i=this.toSeconds(i),this.triggerAttack(n,i,u),r.default.isArray(t)&&r.default.isArray(n))for(f=0;f<n.length;f++)e=t[Math.min(f,t.length-1)],this.triggerRelease(n[f],i+this.toSeconds(e));else this.triggerRelease(n,i+this.toSeconds(t));return this};r.default.Sampler.prototype.add=function(n,t,i){if(r.default.isNote(n)){var u=r.default.Frequency(n).toMidi();this._buffers.add(u,t,i)}else{if(isNaN(parseFloat(n)))throw new Error("Tone.Sampler: note must be the note's pitch. Instead got "+n);this._buffers.add(n,t,i)}};Object.defineProperty(r.default.Sampler.prototype,"loaded",{get:function(){return this._buffers.loaded}});r.default.Sampler.prototype.dispose=function(){for(var n in r.default.Instrument.prototype.dispose.call(this),this._buffers.dispose(),this._buffers=null,this._activeSources)this._activeSources[n].forEach(function(n){n.dispose()});return this._activeSources=null,this};t.default=r.default.Sampler},function(n,t,i){"use strict";i.r(t);var r=i(0);i(38);i(6);r.default.PolySynth=function(){var n=r.default.defaults(arguments,["polyphony","voice"],r.default.PolySynth),i,t;for(r.default.Instrument.call(this,n),(n=r.default.defaultArg(n,r.default.Instrument.defaults)).polyphony=Math.min(r.default.PolySynth.MAX_POLYPHONY,n.polyphony),this.voices=new Array(n.polyphony),this.assert(n.polyphony>0,"polyphony must be greater than 0"),this.detune=new r.default.Signal(n.detune,r.default.Type.Cents),this._readOnly("detune"),i=0;i<n.polyphony;i++){if(t=new n.voice(arguments[2],arguments[3]),!(t instanceof r.default.Monophonic))throw new Error("Synth constructor must be instance of Tone.Monophonic");this.voices[i]=t;t.index=i;t.connect(this.output);t.hasOwnProperty("detune")&&this.detune.connect(t.detune)}};r.default.extend(r.default.PolySynth,r.default.Instrument);r.default.PolySynth.defaults={polyphony:4,volume:0,detune:0,voice:r.default.Synth};r.default.PolySynth.prototype._getClosestVoice=function(n,t){var i=this.voices.find(function(i){if(Math.abs(i.frequency.getValueAtTime(n)-r.default.Frequency(t))<.0001&&i.getLevelAtTime(n)>1e-5)return i});return i||this.voices.slice().sort(function(t,i){var r=t.getLevelAtTime(n+this.blockTime),u=i.getLevelAtTime(n+this.blockTime);return r<1e-5&&(r=0),u<1e-5&&(u=0),r-u}.bind(this))[0]};r.default.PolySynth.prototype.triggerAttack=function(n,t,i){return Array.isArray(n)||(n=[n]),t=this.toSeconds(t),n.forEach(function(n){var r=this._getClosestVoice(t,n);r.triggerAttack(n,t,i);this.log("triggerAttack",r.index,n)}.bind(this)),this};r.default.PolySynth.prototype.triggerRelease=function(n,t){return Array.isArray(n)||(n=[n]),t=this.toSeconds(t),n.forEach(function(n){var i=this._getClosestVoice(t,n);this.log("triggerRelease",i.index,n);i.triggerRelease(t)}.bind(this)),this};r.default.PolySynth.prototype.triggerAttackRelease=function(n,t,i,u){var f,e;if(i=this.toSeconds(i),this.triggerAttack(n,i,u),r.default.isArray(t)&&r.default.isArray(n))for(f=0;f<n.length;f++)e=t[Math.min(f,t.length-1)],this.triggerRelease(n[f],i+this.toSeconds(e));else this.triggerRelease(n,i+this.toSeconds(t));return this};r.default.PolySynth.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this};r.default.PolySynth.prototype.set=function(n,t,i){for(var r=0;r<this.voices.length;r++)this.voices[r].set(n,t,i);return this};r.default.PolySynth.prototype.get=function(n){return this.voices[0].get(n)};r.default.PolySynth.prototype.releaseAll=function(n){return n=this.toSeconds(n),this.voices.forEach(function(t){t.triggerRelease(n)}),this};r.default.PolySynth.prototype.dispose=function(){return r.default.Instrument.prototype.dispose.call(this),this.voices.forEach(function(n){n.dispose()}),this._writable("detune"),this.detune.dispose(),this.detune=null,this.voices=null,this};r.default.PolySynth.MAX_POLYPHONY=20;t.default=r.default.PolySynth},function(n,t,i){"use strict";i.r(t);var r=i(0);i(21);i(39);i(54);r.default.PluckSynth=function(n){n=r.default.defaultArg(n,r.default.PluckSynth.defaults);r.default.Instrument.call(this,n);this._noise=new r.default.Noise("pink");this.attackNoise=n.attackNoise;this._lfcf=new r.default.LowpassCombFilter({resonance:n.resonance,dampening:n.dampening});this.resonance=this._lfcf.resonance;this.dampening=this._lfcf.dampening;this._noise.connect(this._lfcf);this._lfcf.connect(this.output);this._readOnly(["resonance","dampening"])};r.default.extend(r.default.PluckSynth,r.default.Instrument);r.default.PluckSynth.defaults={attackNoise:1,dampening:4e3,resonance:.7};r.default.PluckSynth.prototype.triggerAttack=function(n,t){n=this.toFrequency(n);t=this.toSeconds(t);var i=1/n;return this._lfcf.delayTime.setValueAtTime(i,t),this._noise.start(t),this._noise.stop(t+i*this.attackNoise),this};r.default.PluckSynth.prototype.dispose=function(){return r.default.Instrument.prototype.dispose.call(this),this._noise.dispose(),this._lfcf.dispose(),this._noise=null,this._lfcf=null,this._writable(["resonance","dampening"]),this.dampening=null,this.resonance=null,this};t.default=r.default.PluckSynth},function(n,t,i){"use strict";i.r(t);var r=i(0);i(31);i(41);i(39);i(2);i(9);i(21);r.default.NoiseSynth=function(n){n=r.default.defaultArg(n,r.default.NoiseSynth.defaults);r.default.Instrument.call(this,n);this.noise=new r.default.Noise(n.noise);this.envelope=new r.default.AmplitudeEnvelope(n.envelope);this.noise.chain(this.envelope,this.output);this._readOnly(["noise","envelope"])};r.default.extend(r.default.NoiseSynth,r.default.Instrument);r.default.NoiseSynth.defaults={noise:{type:"white"},envelope:{attack:.005,decay:.1,sustain:0}};r.default.NoiseSynth.prototype.triggerAttack=function(n,t){return n=this.toSeconds(n),this.envelope.triggerAttack(n,t),this.noise.start(n),0===this.envelope.sustain&&this.noise.stop(n+this.envelope.attack+this.envelope.decay),this};r.default.NoiseSynth.prototype.triggerRelease=function(n){return n=this.toSeconds(n),this.envelope.triggerRelease(n),this.noise.stop(n+this.envelope.release),this};r.default.NoiseSynth.prototype.sync=function(){return this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0),this};r.default.NoiseSynth.prototype.triggerAttackRelease=function(n,t,i){return t=this.toSeconds(t),n=this.toSeconds(n),this.triggerAttack(t,i),this.triggerRelease(t+n),this};r.default.NoiseSynth.prototype.dispose=function(){return r.default.Instrument.prototype.dispose.call(this),this._writable(["noise","envelope"]),this.noise.dispose(),this.noise=null,this.envelope.dispose(),this.envelope=null,this};t.default=r.default.NoiseSynth},function(n,t,i){"use strict";i.r(t);var r=i(0),u=(i(21),i(49),i(9),i(41),i(31),i(3),i(26),i(5),[1,1.483,1.932,2.546,2.63,3.897]);r.default.MetalSynth=function(n){var t,i,f;for(n=r.default.defaultArg(n,r.default.MetalSynth.defaults),r.default.Instrument.call(this,n),this.frequency=new r.default.Signal(n.frequency,r.default.Type.Frequency),this._oscillators=[],this._freqMultipliers=[],this._amplitue=new r.default.Gain(0).connect(this.output),this._highpass=new r.default.Filter({type:"highpass",Q:-3.0102999566398125}).connect(this._amplitue),this._octaves=n.octaves,this._filterFreqScaler=new r.default.Scale(n.resonance,7e3),this.envelope=new r.default.Envelope({attack:n.envelope.attack,attackCurve:"linear",decay:n.envelope.decay,sustain:0,release:n.envelope.release}).chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitue.gain),t=0;t<u.length;t++)i=new r.default.FMOscillator({type:"square",modulationType:"square",harmonicity:n.harmonicity,modulationIndex:n.modulationIndex}),i.connect(this._highpass),this._oscillators[t]=i,f=new r.default.Multiply(u[t]),this._freqMultipliers[t]=f,this.frequency.chain(f,i.frequency);this.octaves=n.octaves};r.default.extend(r.default.MetalSynth,r.default.Instrument);r.default.MetalSynth.defaults={frequency:200,envelope:{attack:.001,decay:1.4,release:.2},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5};r.default.MetalSynth.prototype.triggerAttack=function(n,t){return n=this.toSeconds(n),t=r.default.defaultArg(t,1),this.envelope.triggerAttack(n,t),this._oscillators.forEach(function(t){t.start(n)}),0===this.envelope.sustain&&this._oscillators.forEach(function(t){t.stop(n+this.envelope.attack+this.envelope.decay)}.bind(this)),this};r.default.MetalSynth.prototype.triggerRelease=function(n){return n=this.toSeconds(n),this.envelope.triggerRelease(n),this._oscillators.forEach(function(t){t.stop(n+this.envelope.release)}.bind(this)),this};r.default.MetalSynth.prototype.sync=function(){return this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0),this};r.default.MetalSynth.prototype.triggerAttackRelease=function(n,t,i){return t=this.toSeconds(t),n=this.toSeconds(n),this.triggerAttack(t,i),this.triggerRelease(t+n),this};Object.defineProperty(r.default.MetalSynth.prototype,"modulationIndex",{get:function(){return this._oscillators[0].modulationIndex.value},set:function(n){for(var t=0;t<this._oscillators.length;t++)this._oscillators[t].modulationIndex.value=n}});Object.defineProperty(r.default.MetalSynth.prototype,"harmonicity",{get:function(){return this._oscillators[0].harmonicity.value},set:function(n){for(var t=0;t<this._oscillators.length;t++)this._oscillators[t].harmonicity.value=n}});Object.defineProperty(r.default.MetalSynth.prototype,"resonance",{get:function(){return this._filterFreqScaler.min},set:function(n){this._filterFreqScaler.min=n;this.octaves=this._octaves}});Object.defineProperty(r.default.MetalSynth.prototype,"octaves",{get:function(){return this._octaves},set:function(n){this._octaves=n;this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,n)}});r.default.MetalSynth.prototype.dispose=function(){r.default.Instrument.prototype.dispose.call(this);for(var n=0;n<this._oscillators.length;n++)this._oscillators[n].dispose(),this._freqMultipliers[n].dispose();this._oscillators=null;this._freqMultipliers=null;this.frequency.dispose();this.frequency=null;this._filterFreqScaler.dispose();this._filterFreqScaler=null;this._amplitue.dispose();this._amplitue=null;this.envelope.dispose();this.envelope=null;this._highpass.dispose();this._highpass=null};t.default=r.default.MetalSynth},function(n,t,i){"use strict";i.r(t);var r=i(0);i(37);i(21);i(31);r.default.MembraneSynth=function(n){n=r.default.defaultArg(n,r.default.MembraneSynth.defaults);r.default.Instrument.call(this,n);this.oscillator=new r.default.OmniOscillator(n.oscillator);this.envelope=new r.default.AmplitudeEnvelope(n.envelope);this.octaves=n.octaves;this.pitchDecay=n.pitchDecay;this.oscillator.chain(this.envelope,this.output);this._readOnly(["oscillator","envelope"])};r.default.extend(r.default.MembraneSynth,r.default.Instrument);r.default.MembraneSynth.defaults={pitchDecay:.05,octaves:10,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4,attackCurve:"exponential"}};r.default.MembraneSynth.prototype.triggerAttack=function(n,t,i){t=this.toSeconds(t);var r=(n=this.toFrequency(n))*this.octaves;return this.oscillator.frequency.setValueAtTime(r,t),this.oscillator.frequency.exponentialRampToValueAtTime(n,t+this.toSeconds(this.pitchDecay)),this.envelope.triggerAttack(t,i),this.oscillator.start(t),0===this.envelope.sustain&&this.oscillator.stop(t+this.envelope.attack+this.envelope.decay),this};r.default.MembraneSynth.prototype.triggerRelease=function(n){return n=this.toSeconds(n),this.envelope.triggerRelease(n),this.oscillator.stop(n+this.envelope.release),this};r.default.MembraneSynth.prototype.dispose=function(){return r.default.Instrument.prototype.dispose.call(this),this._writable(["oscillator","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this};t.default=r.default.MembraneSynth},function(n,t,i){"use strict";i.r(t);var r=i(0);i(38);i(2);i(5);i(25);r.default.FMSynth=function(n){n=r.default.defaultArg(n,r.default.FMSynth.defaults);r.default.Monophonic.call(this,n);this._carrier=new r.default.Synth(n.carrier);this._carrier.volume.value=-10;this.oscillator=this._carrier.oscillator;this.envelope=this._carrier.envelope.set(n.envelope);this._modulator=new r.default.Synth(n.modulator);this._modulator.volume.value=-10;this.modulation=this._modulator.oscillator.set(n.modulation);this.modulationEnvelope=this._modulator.envelope.set(n.modulationEnvelope);this.frequency=new r.default.Signal(440,r.default.Type.Frequency);this.detune=new r.default.Signal(n.detune,r.default.Type.Cents);this.harmonicity=new r.default.Multiply(n.harmonicity);this.harmonicity.units=r.default.Type.Positive;this.modulationIndex=new r.default.Multiply(n.modulationIndex);this.modulationIndex.units=r.default.Type.Positive;this._modulationNode=new r.default.Gain(0);this.frequency.connect(this._carrier.frequency);this.frequency.chain(this.harmonicity,this._modulator.frequency);this.frequency.chain(this.modulationIndex,this._modulationNode);this.detune.fan(this._carrier.detune,this._modulator.detune);this._modulator.connect(this._modulationNode.gain);this._modulationNode.connect(this._carrier.frequency);this._carrier.connect(this.output);this._readOnly(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"])};r.default.extend(r.default.FMSynth,r.default.Monophonic);r.default.FMSynth.defaults={harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}};r.default.FMSynth.prototype._triggerEnvelopeAttack=function(n,t){return n=this.toSeconds(n),this._carrier._triggerEnvelopeAttack(n,t),this._modulator._triggerEnvelopeAttack(n),this};r.default.FMSynth.prototype._triggerEnvelopeRelease=function(n){return n=this.toSeconds(n),this._carrier._triggerEnvelopeRelease(n),this._modulator._triggerEnvelopeRelease(n),this};r.default.FMSynth.prototype.dispose=function(){return r.default.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.modulationIndex.dispose(),this.modulationIndex=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this};t.default=r.default.FMSynth},function(n,t,i){"use strict";i.r(t);var r=i(0);i(66);i(12);i(2);i(5);i(25);i(14);r.default.DuoSynth=function(n){n=r.default.defaultArg(n,r.default.DuoSynth.defaults);r.default.Monophonic.call(this,n);this.voice0=new r.default.MonoSynth(n.voice0);this.voice0.volume.value=-10;this.voice1=new r.default.MonoSynth(n.voice1);this.voice1.volume.value=-10;this._vibrato=new r.default.LFO(n.vibratoRate,-50,50);this._vibrato.start();this.vibratoRate=this._vibrato.frequency;this._vibratoGain=new r.default.Gain(n.vibratoAmount,r.default.Type.Positive);this.vibratoAmount=this._vibratoGain.gain;this.frequency=new r.default.Signal(440,r.default.Type.Frequency);this.harmonicity=new r.default.Multiply(n.harmonicity);this.harmonicity.units=r.default.Type.Positive;this.frequency.connect(this.voice0.frequency);this.frequency.chain(this.harmonicity,this.voice1.frequency);this._vibrato.connect(this._vibratoGain);this._vibratoGain.fan(this.voice0.detune,this.voice1.detune);this.voice0.connect(this.output);this.voice1.connect(this.output);this._readOnly(["voice0","voice1","frequency","vibratoAmount","vibratoRate"])};r.default.extend(r.default.DuoSynth,r.default.Monophonic);r.default.DuoSynth.defaults={vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}},voice1:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}};r.default.DuoSynth.prototype._triggerEnvelopeAttack=function(n,t){return n=this.toSeconds(n),this.voice0._triggerEnvelopeAttack(n,t),this.voice1._triggerEnvelopeAttack(n,t),this};r.default.DuoSynth.prototype._triggerEnvelopeRelease=function(n){return this.voice0._triggerEnvelopeRelease(n),this.voice1._triggerEnvelopeRelease(n),this};r.default.DuoSynth.prototype.getLevelAtTime=function(n){return(this.voice0.getLevelAtTime(n)+this.voice1.getLevelAtTime(n))/2};r.default.DuoSynth.prototype.dispose=function(){return r.default.Monophonic.prototype.dispose.call(this),this._writable(["voice0","voice1","frequency","vibratoAmount","vibratoRate"]),this.voice0.dispose(),this.voice0=null,this.voice1.dispose(),this.voice1=null,this.frequency.dispose(),this.frequency=null,this._vibratoGain.dispose(),this._vibratoGain=null,this._vibrato=null,this.harmonicity.dispose(),this.harmonicity=null,this.vibratoAmount.dispose(),this.vibratoAmount=null,this.vibratoRate=null,this};t.default=r.default.DuoSynth},function(n,t,i){"use strict";i.r(t);var r=i(0);i(38);i(2);i(5);i(25);i(22);i(3);r.default.AMSynth=function(n){n=r.default.defaultArg(n,r.default.AMSynth.defaults);r.default.Monophonic.call(this,n);this._carrier=new r.default.Synth;this._carrier.volume.value=-10;this.oscillator=this._carrier.oscillator.set(n.oscillator);this.envelope=this._carrier.envelope.set(n.envelope);this._modulator=new r.default.Synth;this._modulator.volume.value=-10;this.modulation=this._modulator.oscillator.set(n.modulation);this.modulationEnvelope=this._modulator.envelope.set(n.modulationEnvelope);this.frequency=new r.default.Signal(440,r.default.Type.Frequency);this.detune=new r.default.Signal(n.detune,r.default.Type.Cents);this.harmonicity=new r.default.Multiply(n.harmonicity);this.harmonicity.units=r.default.Type.Positive;this._modulationScale=new r.default.AudioToGain;this._modulationNode=new r.default.Gain;this.frequency.connect(this._carrier.frequency);this.frequency.chain(this.harmonicity,this._modulator.frequency);this.detune.fan(this._carrier.detune,this._modulator.detune);this._modulator.chain(this._modulationScale,this._modulationNode.gain);this._carrier.chain(this._modulationNode,this.output);this._readOnly(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])};r.default.extend(r.default.AMSynth,r.default.Monophonic);r.default.AMSynth.defaults={harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}};r.default.AMSynth.prototype._triggerEnvelopeAttack=function(n,t){return n=this.toSeconds(n),this._carrier._triggerEnvelopeAttack(n,t),this._modulator._triggerEnvelopeAttack(n),this};r.default.AMSynth.prototype._triggerEnvelopeRelease=function(n){return this._carrier._triggerEnvelopeRelease(n),this._modulator._triggerEnvelopeRelease(n),this};r.default.AMSynth.prototype.dispose=function(){return r.default.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationScale.dispose(),this._modulationScale=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this};t.default=r.default.AMSynth},function(n,t,i){"use strict";i.r(t);var r=i(0);i(70);i(16);r.default.Sequence=function(){var n=r.default.defaults(arguments,["callback","events","subdivision"],r.default.Sequence),t=n.events,i;if(delete n.events,r.default.Part.call(this,n),this._subdivision=this.toTicks(n.subdivision),r.default.isUndef(n.loopEnd)&&r.default.isDefined(t)&&(this._loopEnd=t.length*this._subdivision),this._loop=!0,r.default.isDefined(t))for(i=0;i<t.length;i++)this.add(i,t[i])};r.default.extend(r.default.Sequence,r.default.Part);r.default.Sequence.defaults={subdivision:"4n"};Object.defineProperty(r.default.Sequence.prototype,"subdivision",{get:function(){return r.default.Ticks(this._subdivision).toSeconds()}});r.default.Sequence.prototype.at=function(n,t){return r.default.isArray(t)&&this.remove(n),r.default.Part.prototype.at.call(this,this._indexTime(n),t)};r.default.Sequence.prototype.add=function(n,t){if(null===t)return this;if(r.default.isArray(t)){var i=Math.round(this._subdivision/t.length);t=new r.default.Sequence(this._tick.bind(this),t,r.default.Ticks(i))}return r.default.Part.prototype.add.call(this,this._indexTime(n),t),this};r.default.Sequence.prototype.remove=function(n,t){return r.default.Part.prototype.remove.call(this,this._indexTime(n),t),this};r.default.Sequence.prototype._indexTime=function(n){return n instanceof r.default.TransportTime?n:r.default.Ticks(n*this._subdivision+this.startOffset).toSeconds()};r.default.Sequence.prototype.dispose=function(){return r.default.Part.prototype.dispose.call(this),this};t.default=r.default.Sequence},function(n,t,i){"use strict";i.r(t);var r=i(0);i(71);i(79);r.default.Pattern=function(){var n=r.default.defaults(arguments,["callback","values","pattern"],r.default.Pattern);r.default.Loop.call(this,n);this._pattern=new r.default.CtrlPattern({values:n.values,type:n.pattern,index:n.index})};r.default.extend(r.default.Pattern,r.default.Loop);r.default.Pattern.defaults={pattern:r.default.CtrlPattern.Type.Up,callback:r.default.noOp,values:[]};r.default.Pattern.prototype._tick=function(n){this.callback(n,this._pattern.value);this._pattern.next()};Object.defineProperty(r.default.Pattern.prototype,"index",{get:function(){return this._pattern.index},set:function(n){this._pattern.index=n}});Object.defineProperty(r.default.Pattern.prototype,"values",{get:function(){return this._pattern.values},set:function(n){this._pattern.values=n}});Object.defineProperty(r.default.Pattern.prototype,"value",{get:function(){return this._pattern.value}});Object.defineProperty(r.default.Pattern.prototype,"pattern",{get:function(){return this._pattern.type},set:function(n){this._pattern.type=n}});r.default.Pattern.prototype.dispose=function(){r.default.Loop.prototype.dispose.call(this);this._pattern.dispose();this._pattern=null};t.default=r.default.Pattern},function(n,t,i){"use strict";i.r(t);var r=i(0);i(8);i(18);i(12);r.default.Vibrato=function(){var n=r.default.defaults(arguments,["frequency","depth"],r.default.Vibrato);r.default.Effect.call(this,n);this._delayNode=new r.default.Delay(0,n.maxDelay);this._lfo=new r.default.LFO({type:n.type,min:0,max:n.maxDelay,frequency:n.frequency,phase:-90}).start().connect(this._delayNode.delayTime);this.frequency=this._lfo.frequency;this.depth=this._lfo.amplitude;this.depth.value=n.depth;this._readOnly(["frequency","depth"]);this.effectSend.chain(this._delayNode,this.effectReturn)};r.default.extend(r.default.Vibrato,r.default.Effect);r.default.Vibrato.defaults={maxDelay:.005,frequency:5,depth:.1,type:"sine"};Object.defineProperty(r.default.Vibrato.prototype,"type",{get:function(){return this._lfo.type},set:function(n){this._lfo.type=n}});r.default.Vibrato.prototype.dispose=function(){r.default.Effect.prototype.dispose.call(this);this._delayNode.dispose();this._delayNode=null;this._lfo.dispose();this._lfo=null;this._writable(["frequency","depth"]);this.frequency=null;this.depth=null};t.default=r.default.Vibrato},function(n,t,i){"use strict";i.r(t);var r=i(0);i(12);i(15);r.default.Tremolo=function(){var n=r.default.defaults(arguments,["frequency","depth"],r.default.Tremolo);r.default.StereoEffect.call(this,n);this._lfoL=new r.default.LFO({phase:n.spread,min:1,max:0});this._lfoR=new r.default.LFO({phase:n.spread,min:1,max:0});this._amplitudeL=new r.default.Gain;this._amplitudeR=new r.default.Gain;this.frequency=new r.default.Signal(n.frequency,r.default.Type.Frequency);this.depth=new r.default.Signal(n.depth,r.default.Type.NormalRange);this._readOnly(["frequency","depth"]);this.effectSendL.chain(this._amplitudeL,this.effectReturnL);this.effectSendR.chain(this._amplitudeR,this.effectReturnR);this._lfoL.connect(this._amplitudeL.gain);this._lfoR.connect(this._amplitudeR.gain);this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency);this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude);this.type=n.type;this.spread=n.spread};r.default.extend(r.default.Tremolo,r.default.StereoEffect);r.default.Tremolo.defaults={frequency:10,type:"sine",depth:.5,spread:180};r.default.Tremolo.prototype.start=function(n){return this._lfoL.start(n),this._lfoR.start(n),this};r.default.Tremolo.prototype.stop=function(n){return this._lfoL.stop(n),this._lfoR.stop(n),this};r.default.Tremolo.prototype.sync=function(n){return this._lfoL.sync(n),this._lfoR.sync(n),r.default.Transport.syncSignal(this.frequency),this};r.default.Tremolo.prototype.unsync=function(){return this._lfoL.unsync(),this._lfoR.unsync(),r.default.Transport.unsyncSignal(this.frequency),this};Object.defineProperty(r.default.Tremolo.prototype,"type",{get:function(){return this._lfoL.type},set:function(n){this._lfoL.type=n;this._lfoR.type=n}});Object.defineProperty(r.default.Tremolo.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(n){this._lfoL.phase=90-n/2;this._lfoR.phase=n/2+90}});r.default.Tremolo.prototype.dispose=function(){return r.default.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","depth"]),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._amplitudeL.dispose(),this._amplitudeL=null,this._amplitudeR.dispose(),this._amplitudeR=null,this.frequency=null,this.depth=null,this};t.default=r.default.Tremolo},function(n,t,i){"use strict";i.r(t);var r=i(0);i(73);i(2);i(5);i(13);r.default.StereoWidener=function(){var n=r.default.defaults(arguments,["width"],r.default.StereoWidener);r.default.MidSideEffect.call(this,n);this.width=new r.default.Signal(n.width,r.default.Type.NormalRange);this._readOnly(["width"]);this._twoTimesWidthMid=new r.default.Multiply(2);this._twoTimesWidthSide=new r.default.Multiply(2);this._midMult=new r.default.Multiply;this._twoTimesWidthMid.connect(this._midMult,0,1);this.midSend.chain(this._midMult,this.midReturn);this._oneMinusWidth=new r.default.Subtract;this._oneMinusWidth.connect(this._twoTimesWidthMid);r.default.connect(this.context.getConstant(1),this._oneMinusWidth,0,0);this.width.connect(this._oneMinusWidth,0,1);this._sideMult=new r.default.Multiply;this.width.connect(this._twoTimesWidthSide);this._twoTimesWidthSide.connect(this._sideMult,0,1);this.sideSend.chain(this._sideMult,this.sideReturn)};r.default.extend(r.default.StereoWidener,r.default.MidSideEffect);r.default.StereoWidener.defaults={width:.5};r.default.StereoWidener.prototype.dispose=function(){return r.default.MidSideEffect.prototype.dispose.call(this),this._writable(["width"]),this.width.dispose(),this.width=null,this._midMult.dispose(),this._midMult=null,this._sideMult.dispose(),this._sideMult=null,this._twoTimesWidthMid.dispose(),this._twoTimesWidthMid=null,this._twoTimesWidthSide.dispose(),this._twoTimesWidthSide=null,this._oneMinusWidth.dispose(),this._oneMinusWidth=null,this};t.default=r.default.StereoWidener},function(n,t,i){"use strict";i.r(t);var r=i(0);i(15);i(33);i(3);r.default.StereoFeedbackEffect=function(){var n=r.default.defaults(arguments,["feedback"],r.default.FeedbackEffect);r.default.StereoEffect.call(this,n);this.feedback=new r.default.Signal(n.feedback,r.default.Type.NormalRange);this._feedbackL=new r.default.Gain;this._feedbackR=new r.default.Gain;this.effectReturnL.chain(this._feedbackL,this.effectSendL);this.effectReturnR.chain(this._feedbackR,this.effectSendR);this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain);this._readOnly(["feedback"])};r.default.extend(r.default.StereoFeedbackEffect,r.default.StereoEffect);r.default.StereoFeedbackEffect.prototype.dispose=function(){return r.default.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackL.dispose(),this._feedbackL=null,this._feedbackR.dispose(),this._feedbackR=null,this};t.default=r.default.StereoFeedbackEffect},function(n,t,i){"use strict";i.r(t);var r=i(0);i(77);i(9);i(10);i(39);i(3);i(74);r.default.Reverb=function(){var n=r.default.defaults(arguments,["decay"],r.default.Reverb);r.default.Effect.call(this,n);this._convolver=this.context.createConvolver();this.decay=n.decay;this.preDelay=n.preDelay;this.connectEffect(this._convolver)};r.default.extend(r.default.Reverb,r.default.Effect);r.default.Reverb.defaults={decay:1.5,preDelay:.01};r.default.Reverb.prototype.generate=function(){return r.default.Offline(function(){var i=new r.default.Noise,u=new r.default.Noise,t=new r.default.Merge,n;i.connect(t.left);u.connect(t.right);n=(new r.default.Gain).toMaster();t.connect(n);i.start(0);u.start(0);n.gain.setValueAtTime(0,0);n.gain.setValueAtTime(1,this.preDelay);n.gain.exponentialApproachValueAtTime(0,this.preDelay,this.decay+this.preDelay)}.bind(this),this.decay+this.preDelay).then(function(n){return this._convolver.buffer=n.get(),this}.bind(this))};r.default.Reverb.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this._convolver.disconnect(),this._convolver=null,this};t.default=r.default.Reverb},function(n,t,i){"use strict";i.r(t);var r=i(0);i(12);i(23);i(2);i(33);i(18);r.default.PitchShift=function(){var n=r.default.defaults(arguments,["pitch"],r.default.PitchShift),t;r.default.FeedbackEffect.call(this,n);this._frequency=new r.default.Signal(0);this._delayA=new r.default.Delay(0,1);this._lfoA=new r.default.LFO({min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime);this._delayB=new r.default.Delay(0,1);this._lfoB=new r.default.LFO({min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime);this._crossFade=new r.default.CrossFade;this._crossFadeLFO=new r.default.LFO({min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade);this._feedbackDelay=new r.default.Delay(n.delayTime);this.delayTime=this._feedbackDelay.delayTime;this._readOnly("delayTime");this._pitch=n.pitch;this._windowSize=n.windowSize;this._delayA.connect(this._crossFade.a);this._delayB.connect(this._crossFade.b);this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency);this.effectSend.fan(this._delayA,this._delayB);this._crossFade.chain(this._feedbackDelay,this.effectReturn);t=this.now();this._lfoA.start(t);this._lfoB.start(t);this._crossFadeLFO.start(t);this.windowSize=this._windowSize};r.default.extend(r.default.PitchShift,r.default.FeedbackEffect);r.default.PitchShift.defaults={pitch:0,windowSize:.1,delayTime:0,feedback:0};Object.defineProperty(r.default.PitchShift.prototype,"pitch",{get:function(){return this._pitch},set:function(n){this._pitch=n;var t=0;n<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,t=r.default.intervalToFrequencyRatio(n-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,t=r.default.intervalToFrequencyRatio(n)-1);this._frequency.value=t*(1.2/this._windowSize)}});Object.defineProperty(r.default.PitchShift.prototype,"windowSize",{get:function(){return this._windowSize},set:function(n){this._windowSize=this.toSeconds(n);this.pitch=this._pitch}});r.default.PitchShift.prototype.dispose=function(){return r.default.FeedbackEffect.prototype.dispose.call(this),this._frequency.dispose(),this._frequency=null,this._delayA.disconnect(),this._delayA=null,this._delayB.disconnect(),this._delayB=null,this._lfoA.dispose(),this._lfoA=null,this._lfoB.dispose(),this._lfoB=null,this._crossFade.dispose(),this._crossFade=null,this._crossFadeLFO.dispose(),this._crossFadeLFO=null,this._writable("delayTime"),this._feedbackDelay.dispose(),this._feedbackDelay=null,this.delayTime=null,this};t.default=r.default.PitchShift},function(n,t,i){"use strict";i.r(t);var r=i(0);i(72);i(2);i(18);r.default.PingPongDelay=function(){var n=r.default.defaults(arguments,["delayTime","feedback"],r.default.PingPongDelay);r.default.StereoXFeedbackEffect.call(this,n);this._leftDelay=new r.default.Delay(0,n.maxDelayTime);this._rightDelay=new r.default.Delay(0,n.maxDelayTime);this._rightPreDelay=new r.default.Delay(0,n.maxDelayTime);this.delayTime=new r.default.Signal(n.delayTime,r.default.Type.Time);this.effectSendL.chain(this._leftDelay,this.effectReturnL);this.effectSendR.chain(this._rightPreDelay,this._rightDelay,this.effectReturnR);this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime);this._feedbackLR.disconnect();this._feedbackLR.connect(this._rightDelay);this._readOnly(["delayTime"])};r.default.extend(r.default.PingPongDelay,r.default.StereoXFeedbackEffect);r.default.PingPongDelay.defaults={delayTime:.25,maxDelayTime:1};r.default.PingPongDelay.prototype.dispose=function(){return r.default.StereoXFeedbackEffect.prototype.dispose.call(this),this._leftDelay.dispose(),this._leftDelay=null,this._rightDelay.dispose(),this._rightDelay=null,this._rightPreDelay.dispose(),this._rightPreDelay=null,this._writable(["delayTime"]),this.delayTime.dispose(),this.delayTime=null,this};t.default=r.default.PingPongDelay},function(n,t,i){"use strict";i.r(t);var r=i(0);i(12);i(9);i(15);r.default.Phaser=function(){var n=r.default.defaults(arguments,["frequency","octaves","baseFrequency"],r.default.Phaser);r.default.StereoEffect.call(this,n);this._lfoL=new r.default.LFO(n.frequency,0,1);this._lfoR=new r.default.LFO(n.frequency,0,1);this._lfoR.phase=180;this._baseFrequency=n.baseFrequency;this._octaves=n.octaves;this.Q=new r.default.Signal(n.Q,r.default.Type.Positive);this._filtersL=this._makeFilters(n.stages,this._lfoL,this.Q);this._filtersR=this._makeFilters(n.stages,this._lfoR,this.Q);this.frequency=this._lfoL.frequency;this.frequency.value=n.frequency;this.effectSendL.connect(this._filtersL[0]);this.effectSendR.connect(this._filtersR[0]);r.default.connect(this._filtersL[n.stages-1],this.effectReturnL);r.default.connect(this._filtersR[n.stages-1],this.effectReturnR);this._lfoL.frequency.connect(this._lfoR.frequency);this.baseFrequency=n.baseFrequency;this.octaves=n.octaves;this._lfoL.start();this._lfoR.start();this._readOnly(["frequency","Q"])};r.default.extend(r.default.Phaser,r.default.StereoEffect);r.default.Phaser.defaults={frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350};r.default.Phaser.prototype._makeFilters=function(n,t,i){for(var u,f=new Array(n),e=0;e<n;e++)u=this.context.createBiquadFilter(),u.type="allpass",i.connect(u.Q),t.connect(u.frequency),f[e]=u;return r.default.connectSeries.apply(r.default,f),f};Object.defineProperty(r.default.Phaser.prototype,"octaves",{get:function(){return this._octaves},set:function(n){this._octaves=n;var t=this._baseFrequency*Math.pow(2,n);this._lfoL.max=t;this._lfoR.max=t}});Object.defineProperty(r.default.Phaser.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(n){this._baseFrequency=n;this._lfoL.min=n;this._lfoR.min=n;this.octaves=this._octaves}});r.default.Phaser.prototype.dispose=function(){var n,t;for(r.default.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","Q"]),this.Q.dispose(),this.Q=null,this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,n=0;n<this._filtersL.length;n++)this._filtersL[n].disconnect(),this._filtersL[n]=null;for(this._filtersL=null,t=0;t<this._filtersR.length;t++)this._filtersR[t].disconnect(),this._filtersR[t]=null;return this._filtersR=null,this.frequency=null,this};t.default=r.default.Phaser},function(n,t,i){"use strict";i.r(t);var r=i(0),u=(i(59),i(15),i(26),[.06748,.06404,.08212,.09004]),e=[.773,.802,.753,.733],f=[347,113,37];r.default.JCReverb=function(){var s=r.default.defaults(arguments,["roomSize"],r.default.JCReverb),i,o,t,n;for(r.default.StereoEffect.call(this,s),this.roomSize=new r.default.Signal(s.roomSize,r.default.Type.NormalRange),this._scaleRoomSize=new r.default.Scale(-.733,.197),this._allpassFilters=[],this._feedbackCombFilters=[],i=0;i<f.length;i++)o=this.context.createBiquadFilter(),o.type="allpass",o.frequency.value=f[i],this._allpassFilters.push(o);for(t=0;t<u.length;t++)n=new r.default.FeedbackCombFilter(u[t],.1),this._scaleRoomSize.connect(n.resonance),n.resonance.value=e[t],r.default.connect(this._allpassFilters[this._allpassFilters.length-1],n),t<u.length/2?n.connect(this.effectReturnL):n.connect(this.effectReturnR),this._feedbackCombFilters.push(n);this.roomSize.connect(this._scaleRoomSize);r.default.connectSeries.apply(r.default,this._allpassFilters);this.effectSendL.connect(this._allpassFilters[0]);this.effectSendR.connect(this._allpassFilters[0]);this._readOnly(["roomSize"])};r.default.extend(r.default.JCReverb,r.default.StereoEffect);r.default.JCReverb.defaults={roomSize:.5};r.default.JCReverb.prototype.dispose=function(){var n,t;for(r.default.StereoEffect.prototype.dispose.call(this),n=0;n<this._allpassFilters.length;n++)this._allpassFilters[n].disconnect(),this._allpassFilters[n]=null;for(this._allpassFilters=null,t=0;t<this._feedbackCombFilters.length;t++)this._feedbackCombFilters[t].dispose(),this._feedbackCombFilters[t]=null;return this._feedbackCombFilters=null,this._writable(["roomSize"]),this.roomSize.dispose(),this.roomSize=null,this._scaleRoomSize.dispose(),this._scaleRoomSize=null,this};t.default=r.default.JCReverb},function(n,t,i){"use strict";i.r(t);var r=i(0),f=(i(54),i(15),i(2),i(19),i(10),i(42),[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100]),u=[225,556,441,341];r.default.Freeverb=function(){var h=r.default.defaults(arguments,["roomSize","dampening"],r.default.Freeverb),i,e,o,s,t,n;for(r.default.StereoEffect.call(this,h),this.roomSize=new r.default.Signal(h.roomSize,r.default.Type.NormalRange),this.dampening=new r.default.Signal(h.dampening,r.default.Type.Frequency),this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[],i=0;i<u.length;i++)e=this.context.createBiquadFilter(),e.type="allpass",e.frequency.value=u[i],this._allpassFiltersL.push(e);for(o=0;o<u.length;o++)s=this.context.createBiquadFilter(),s.type="allpass",s.frequency.value=u[o],this._allpassFiltersR.push(s);for(t=0;t<f.length;t++)n=new r.default.LowpassCombFilter(f[t]),t<f.length/2?this.effectSendL.chain(n,this._allpassFiltersL[0]):this.effectSendR.chain(n,this._allpassFiltersR[0]),this.roomSize.connect(n.resonance),this.dampening.connect(n.dampening),this._combFilters.push(n);r.default.connectSeries.apply(r.default,this._allpassFiltersL);r.default.connectSeries.apply(r.default,this._allpassFiltersR);r.default.connect(this._allpassFiltersL[this._allpassFiltersL.length-1],this.effectReturnL);r.default.connect(this._allpassFiltersR[this._allpassFiltersR.length-1],this.effectReturnR);this._readOnly(["roomSize","dampening"])};r.default.extend(r.default.Freeverb,r.default.StereoEffect);r.default.Freeverb.defaults={roomSize:.7,dampening:3e3};r.default.Freeverb.prototype.dispose=function(){var n,t,i;for(r.default.StereoEffect.prototype.dispose.call(this),n=0;n<this._allpassFiltersL.length;n++)this._allpassFiltersL[n].disconnect(),this._allpassFiltersL[n]=null;for(this._allpassFiltersL=null,t=0;t<this._allpassFiltersR.length;t++)this._allpassFiltersR[t].disconnect(),this._allpassFiltersR[t]=null;for(this._allpassFiltersR=null,i=0;i<this._combFilters.length;i++)this._combFilters[i].dispose(),this._combFilters[i]=null;return this._combFilters=null,this._writable(["roomSize","dampening"]),this.roomSize.dispose(),this.roomSize=null,this.dampening.dispose(),this.dampening=null,this};t.default=r.default.Freeverb},function(n,t,i){"use strict";i.r(t);var r=i(0);i(33);i(2);i(18);r.default.FeedbackDelay=function(){var n=r.default.defaults(arguments,["delayTime","feedback"],r.default.FeedbackDelay);r.default.FeedbackEffect.call(this,n);this._delayNode=new r.default.Delay(n.delayTime,n.maxDelay);this.delayTime=this._delayNode.delayTime;this.connectEffect(this._delayNode);this._readOnly(["delayTime"])};r.default.extend(r.default.FeedbackDelay,r.default.FeedbackEffect);r.default.FeedbackDelay.defaults={delayTime:.25,maxDelay:1};r.default.FeedbackDelay.prototype.dispose=function(){return r.default.FeedbackEffect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._writable(["delayTime"]),this.delayTime=null,this};t.default=r.default.FeedbackDelay},function(n,t,i){"use strict";i.r(t);var r=i(0);i(8);i(7);r.default.Distortion=function(){var n=r.default.defaults(arguments,["distortion"],r.default.Distortion);r.default.Effect.call(this,n);this._shaper=new r.default.WaveShaper(4096);this._distortion=n.distortion;this.connectEffect(this._shaper);this.distortion=n.distortion;this.oversample=n.oversample};r.default.extend(r.default.Distortion,r.default.Effect);r.default.Distortion.defaults={distortion:.4,oversample:"none"};Object.defineProperty(r.default.Distortion.prototype,"distortion",{get:function(){return this._distortion},set:function(n){this._distortion=n;var t=100*n,i=Math.PI/180;this._shaper.setMap(function(n){return Math.abs(n)<.001?0:(3+t)*n*20*i/(Math.PI+t*Math.abs(n))})}});Object.defineProperty(r.default.Distortion.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(n){this._shaper.oversample=n}});r.default.Distortion.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this};t.default=r.default.Distortion},function(n,t,i){"use strict";i.r(t);var r=i(0);i(12);i(15);i(18);r.default.Chorus=function(){var n=r.default.defaults(arguments,["frequency","delayTime","depth"],r.default.Chorus);r.default.StereoEffect.call(this,n);this._depth=n.depth;this._delayTime=n.delayTime/1e3;this._lfoL=new r.default.LFO({frequency:n.frequency,min:0,max:1});this._lfoR=new r.default.LFO({frequency:n.frequency,min:0,max:1,phase:180});this._delayNodeL=new r.default.Delay;this._delayNodeR=new r.default.Delay;this.frequency=this._lfoL.frequency;this.effectSendL.chain(this._delayNodeL,this.effectReturnL);this.effectSendR.chain(this._delayNodeR,this.effectReturnR);this.effectSendL.connect(this.effectReturnL);this.effectSendR.connect(this.effectReturnR);this._lfoL.connect(this._delayNodeL.delayTime);this._lfoR.connect(this._delayNodeR.delayTime);this._lfoL.start();this._lfoR.start();this._lfoL.frequency.connect(this._lfoR.frequency);this.depth=this._depth;this.frequency.value=n.frequency;this.type=n.type;this._readOnly(["frequency"]);this.spread=n.spread};r.default.extend(r.default.Chorus,r.default.StereoEffect);r.default.Chorus.defaults={frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180};Object.defineProperty(r.default.Chorus.prototype,"depth",{get:function(){return this._depth},set:function(n){this._depth=n;var t=this._delayTime*n;this._lfoL.min=Math.max(this._delayTime-t,0);this._lfoL.max=this._delayTime+t;this._lfoR.min=Math.max(this._delayTime-t,0);this._lfoR.max=this._delayTime+t}});Object.defineProperty(r.default.Chorus.prototype,"delayTime",{get:function(){return 1e3*this._delayTime},set:function(n){this._delayTime=n/1e3;this.depth=this._depth}});Object.defineProperty(r.default.Chorus.prototype,"type",{get:function(){return this._lfoL.type},set:function(n){this._lfoL.type=n;this._lfoR.type=n}});Object.defineProperty(r.default.Chorus.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(n){this._lfoL.phase=90-n/2;this._lfoR.phase=n/2+90}});r.default.Chorus.prototype.dispose=function(){return r.default.StereoEffect.prototype.dispose.call(this),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._delayNodeL.dispose(),this._delayNodeL=null,this._delayNodeR.dispose(),this._delayNodeR=null,this._writable("frequency"),this.frequency=null,this};t.default=r.default.Chorus},function(n,t,i){"use strict";i.r(t);var r=i(0);i(8);i(7);r.default.Chebyshev=function(){var n=r.default.defaults(arguments,["order"],r.default.Chebyshev);r.default.Effect.call(this,n);this._shaper=new r.default.WaveShaper(4096);this._order=n.order;this.connectEffect(this._shaper);this.order=n.order;this.oversample=n.oversample};r.default.extend(r.default.Chebyshev,r.default.Effect);r.default.Chebyshev.defaults={order:1,oversample:"none"};r.default.Chebyshev.prototype._getCoefficient=function(n,t,i){return i.hasOwnProperty(t)?i[t]:(i[t]=0===t?0:1===t?n:2*n*this._getCoefficient(n,t-1,i)-this._getCoefficient(n,t-2,i),i[t])};Object.defineProperty(r.default.Chebyshev.prototype,"order",{get:function(){return this._order},set:function(n){var r;this._order=n;for(var i=new Array(4096),u=i.length,t=0;t<u;++t)r=2*t/u-1,i[t]=0===r?0:this._getCoefficient(r,n,{});this._shaper.curve=i}});Object.defineProperty(r.default.Chebyshev.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(n){this._shaper.oversample=n}});r.default.Chebyshev.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this};t.default=r.default.Chebyshev},function(n,t,i){"use strict";i.r(t);var r=i(0);i(8);i(13);i(75);r.default.BitCrusher=function(){var n=r.default.defaults(arguments,["bits"],r.default.BitCrusher),t;r.default.Effect.call(this,n);t=1/Math.pow(2,n.bits-1);this._subtract=new r.default.Subtract;this._modulo=new r.default.Modulo(t);this._bits=n.bits;this.effectSend.fan(this._subtract,this._modulo);this._modulo.connect(this._subtract,0,1);this._subtract.connect(this.effectReturn)};r.default.extend(r.default.BitCrusher,r.default.Effect);r.default.BitCrusher.defaults={bits:4};Object.defineProperty(r.default.BitCrusher.prototype,"bits",{get:function(){return this._bits},set:function(n){this._bits=n;var t=1/Math.pow(2,n-1);this._modulo.value=t}});r.default.BitCrusher.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this._subtract.dispose(),this._subtract=null,this._modulo.dispose(),this._modulo=null,this};t.default=r.default.BitCrusher},function(n,t,i){"use strict";i.r(t);var r=i(0);i(58);i(42);i(8);i(9);r.default.AutoWah=function(){var n=r.default.defaults(arguments,["baseFrequency","octaves","sensitivity"],r.default.AutoWah);r.default.Effect.call(this,n);this.follower=new r.default.Follower(n.follower);this._sweepRange=new r.default.ScaleExp(0,1,.5);this._baseFrequency=n.baseFrequency;this._octaves=n.octaves;this._inputBoost=new r.default.Gain;this._bandpass=new r.default.Filter({rolloff:-48,frequency:0,Q:n.Q});this._peaking=new r.default.Filter(0,"peaking");this._peaking.gain.value=n.gain;this.gain=this._peaking.gain;this.Q=this._bandpass.Q;this.effectSend.chain(this._inputBoost,this.follower,this._sweepRange);this._sweepRange.connect(this._bandpass.frequency);this._sweepRange.connect(this._peaking.frequency);this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn);this._setSweepRange();this.sensitivity=n.sensitivity;this._readOnly(["gain","Q"])};r.default.extend(r.default.AutoWah,r.default.Effect);r.default.AutoWah.defaults={baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:{attack:.3,release:.5}};Object.defineProperty(r.default.AutoWah.prototype,"octaves",{get:function(){return this._octaves},set:function(n){this._octaves=n;this._setSweepRange()}});Object.defineProperty(r.default.AutoWah.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(n){this._baseFrequency=n;this._setSweepRange()}});Object.defineProperty(r.default.AutoWah.prototype,"sensitivity",{get:function(){return r.default.gainToDb(1/this._inputBoost.gain.value)},set:function(n){this._inputBoost.gain.value=1/r.default.dbToGain(n)}});r.default.AutoWah.prototype._setSweepRange=function(){this._sweepRange.min=this._baseFrequency;this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)};r.default.AutoWah.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this.follower.dispose(),this.follower=null,this._sweepRange.dispose(),this._sweepRange=null,this._bandpass.dispose(),this._bandpass=null,this._peaking.dispose(),this._peaking=null,this._inputBoost.dispose(),this._inputBoost=null,this._writable(["gain","Q"]),this.gain=null,this.Q=null,this};t.default=r.default.AutoWah},function(n,t,i){"use strict";i.r(t);var r=i(0);i(8);i(12);i(48);r.default.AutoPanner=function(){var n=r.default.defaults(arguments,["frequency"],r.default.AutoPanner);r.default.Effect.call(this,n);this._lfo=new r.default.LFO({frequency:n.frequency,amplitude:n.depth,min:-1,max:1});this.depth=this._lfo.amplitude;this._panner=new r.default.Panner;this.frequency=this._lfo.frequency;this.connectEffect(this._panner);this._lfo.connect(this._panner.pan);this.type=n.type;this._readOnly(["depth","frequency"])};r.default.extend(r.default.AutoPanner,r.default.Effect);r.default.AutoPanner.defaults={frequency:1,type:"sine",depth:1};r.default.AutoPanner.prototype.start=function(n){return this._lfo.start(n),this};r.default.AutoPanner.prototype.stop=function(n){return this._lfo.stop(n),this};r.default.AutoPanner.prototype.sync=function(n){return this._lfo.sync(n),this};r.default.AutoPanner.prototype.unsync=function(){return this._lfo.unsync(),this};Object.defineProperty(r.default.AutoPanner.prototype,"type",{get:function(){return this._lfo.type},set:function(n){this._lfo.type=n}});r.default.AutoPanner.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this._panner.dispose(),this._panner=null,this._writable(["depth","frequency"]),this.frequency=null,this.depth=null,this};t.default=r.default.AutoPanner},function(n,t,i){"use strict";i.r(t);var r=i(0);i(8);i(12);i(9);r.default.AutoFilter=function(){var n=r.default.defaults(arguments,["frequency","baseFrequency","octaves"],r.default.AutoFilter);r.default.Effect.call(this,n);this._lfo=new r.default.LFO({frequency:n.frequency,amplitude:n.depth});this.depth=this._lfo.amplitude;this.frequency=this._lfo.frequency;this.filter=new r.default.Filter(n.filter);this._octaves=0;this.connectEffect(this.filter);this._lfo.connect(this.filter.frequency);this.type=n.type;this._readOnly(["frequency","depth"]);this.octaves=n.octaves;this.baseFrequency=n.baseFrequency};r.default.extend(r.default.AutoFilter,r.default.Effect);r.default.AutoFilter.defaults={frequency:1,type:"sine",depth:1,baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}};r.default.AutoFilter.prototype.start=function(n){return this._lfo.start(n),this};r.default.AutoFilter.prototype.stop=function(n){return this._lfo.stop(n),this};r.default.AutoFilter.prototype.sync=function(n){return this._lfo.sync(n),this};r.default.AutoFilter.prototype.unsync=function(){return this._lfo.unsync(),this};Object.defineProperty(r.default.AutoFilter.prototype,"type",{get:function(){return this._lfo.type},set:function(n){this._lfo.type=n}});Object.defineProperty(r.default.AutoFilter.prototype,"baseFrequency",{get:function(){return this._lfo.min},set:function(n){this._lfo.min=this.toFrequency(n);this.octaves=this._octaves}});Object.defineProperty(r.default.AutoFilter.prototype,"octaves",{get:function(){return this._octaves},set:function(n){this._octaves=n;this._lfo.max=this.baseFrequency*Math.pow(2,n)}});r.default.AutoFilter.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this.filter.dispose(),this.filter=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null,this};t.default=r.default.AutoFilter},function(n,t,i){"use strict";var r,u;i.r(t);r=i(0);i(23);i(10);i(19);i(2);i(22);i(28);r.default.Listener=function(){r.default.call(this);this._orientation=[0,0,0,0,0,0];this._position=[0,0,0];r.default.getContext(function(){this.set(u.defaults)}.bind(this))};r.default.extend(r.default.Listener);r.default.Listener.defaults={positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:1,upX:0,upY:1,upZ:0};r.default.Listener.prototype.isListener=!0;r.default.Listener.prototype._rampTimeConstant=.01;r.default.Listener.prototype.setPosition=function(n,t,i){if(this.context.rawContext.listener.positionX){var r=this.now();this.context.rawContext.listener.positionX.setTargetAtTime(n,r,this._rampTimeConstant);this.context.rawContext.listener.positionY.setTargetAtTime(t,r,this._rampTimeConstant);this.context.rawContext.listener.positionZ.setTargetAtTime(i,r,this._rampTimeConstant)}else this.context.rawContext.listener.setPosition(n,t,i);return this._position=Array.prototype.slice.call(arguments),this};r.default.Listener.prototype.setOrientation=function(n,t,i,r,u,f){if(this.context.rawContext.listener.forwardX){var e=this.now();this.context.rawContext.listener.forwardX.setTargetAtTime(n,e,this._rampTimeConstant);this.context.rawContext.listener.forwardY.setTargetAtTime(t,e,this._rampTimeConstant);this.context.rawContext.listener.forwardZ.setTargetAtTime(i,e,this._rampTimeConstant);this.context.rawContext.listener.upX.setTargetAtTime(r,e,this._rampTimeConstant);this.context.rawContext.listener.upY.setTargetAtTime(u,e,this._rampTimeConstant);this.context.rawContext.listener.upZ.setTargetAtTime(f,e,this._rampTimeConstant)}else this.context.rawContext.listener.setOrientation(n,t,i,r,u,f);return this._orientation=Array.prototype.slice.call(arguments),this};Object.defineProperty(r.default.Listener.prototype,"positionX",{set:function(n){this._position[0]=n;this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}});Object.defineProperty(r.default.Listener.prototype,"positionY",{set:function(n){this._position[1]=n;this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}});Object.defineProperty(r.default.Listener.prototype,"positionZ",{set:function(n){this._position[2]=n;this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}});Object.defineProperty(r.default.Listener.prototype,"forwardX",{set:function(n){this._orientation[0]=n;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}});Object.defineProperty(r.default.Listener.prototype,"forwardY",{set:function(n){this._orientation[1]=n;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}});Object.defineProperty(r.default.Listener.prototype,"forwardZ",{set:function(n){this._orientation[2]=n;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}});Object.defineProperty(r.default.Listener.prototype,"upX",{set:function(n){this._orientation[3]=n;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[3]}});Object.defineProperty(r.default.Listener.prototype,"upY",{set:function(n){this._orientation[4]=n;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[4]}});Object.defineProperty(r.default.Listener.prototype,"upZ",{set:function(n){this._orientation[5]=n;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[5]}});r.default.Listener.prototype.dispose=function(){return this._orientation=null,this._position=null,this};u=r.default.Listener;r.default.Listener=new u;r.default.Context.on("init",function(n){r.default.Listener=n.listener&&n.listener.isListener?n.listener:new u});t.default=r.default.Listener},function(n,t,i){"use strict";i.r(t);var r=i(0);i(24);r.default.Draw=function(){r.default.call(this);this._events=new r.default.Timeline;this.expiration=.25;this.anticipation=.008;this._boundDrawLoop=this._drawLoop.bind(this)};r.default.extend(r.default.Draw);r.default.Draw.prototype.schedule=function(n,t){return this._events.add({callback:n,time:this.toSeconds(t)}),1===this._events.length&&requestAnimationFrame(this._boundDrawLoop),this};r.default.Draw.prototype.cancel=function(n){return this._events.cancel(this.toSeconds(n)),this};r.default.Draw.prototype._drawLoop=function(){for(var t,n=r.default.context.currentTime;this._events.length&&this._events.peek().time-this.anticipation<=n;)t=this._events.shift(),n-t.time<=this.expiration&&t.callback();this._events.length>0&&requestAnimationFrame(this._boundDrawLoop)};r.default.Draw=new r.default.Draw;t.default=r.default.Draw},function(n,t,i){"use strict";i.r(t);var u=i(0),r=(i(3),{});u.default.prototype.send=function(n,t){r.hasOwnProperty(n)||(r[n]=this.context.createGain());t=u.default.defaultArg(t,0);var i=new u.default.Gain(t,u.default.Type.Decibels);return this.connect(i),i.connect(r[n]),i};u.default.prototype.receive=function(n,t){return r.hasOwnProperty(n)||(r[n]=this.context.createGain()),u.default.connect(r[n],this,0,t),this};u.default.Context.on("init",function(n){n.buses?r=n.buses:(r={},n.buses=r)});t.default=u.default},function(n,t,i){"use strict";i.r(t);var r=i(0);i(4);r.default.CtrlRandom=function(){var n=r.default.defaults(arguments,["min","max"],r.default.CtrlRandom);r.default.call(this);this.min=n.min;this.max=n.max;this.integer=n.integer};r.default.extend(r.default.CtrlRandom);r.default.CtrlRandom.defaults={min:0,max:1,integer:!1};Object.defineProperty(r.default.CtrlRandom.prototype,"value",{get:function(){var i=this.toSeconds(this.min),r=this.toSeconds(this.max),t=Math.random(),n=t*i+(1-t)*r;return this.integer&&(n=Math.floor(n)),n}});t.default=r.default.CtrlRandom},function(n,t,i){"use strict";i.r(t);var r=i(0);r.default.CtrlMarkov=function(n,t){r.default.call(this);this.values=r.default.defaultArg(n,{});this.value=r.default.defaultArg(t,Object.keys(this.values)[0])};r.default.extend(r.default.CtrlMarkov);r.default.CtrlMarkov.prototype.next=function(){var n,f,i;if(this.values.hasOwnProperty(this.value))if(n=this.values[this.value],r.default.isArray(n))for(var e=this._getProbDistribution(n),o=Math.random(),u=0,t=0;t<e.length;t++)f=e[t],o>u&&o<u+f&&(i=n[t],this.value=r.default.isObject(i)?i.value:i),u+=f;else this.value=n;return this.value};r.default.CtrlMarkov.prototype._getProbDistribution=function(n){for(var f,u,t=[],e=0,o=!1,i=0;i<n.length;i++)f=n[i],r.default.isObject(f)?(o=!0,t[i]=f.probability):t[i]=1/n.length,e+=t[i];if(o)for(u=0;u<t.length;u++)t[u]=t[u]/e;return t};r.default.CtrlMarkov.prototype.dispose=function(){this.values=null};t.default=r.default.CtrlMarkov},function(n,t,i){"use strict";i.r(t);var r=i(0);i(4);r.default.CtrlInterpolate=function(){var n=r.default.defaults(arguments,["values","index"],r.default.CtrlInterpolate);r.default.call(this);this.values=n.values;this.index=n.index};r.default.extend(r.default.CtrlInterpolate);r.default.CtrlInterpolate.defaults={index:0,values:[]};Object.defineProperty(r.default.CtrlInterpolate.prototype,"value",{get:function(){var n=this.index;n=Math.min(n,this.values.length-1);var t=Math.floor(n),i=this.values[t],r=this.values[Math.ceil(n)];return this._interpolate(n-t,i,r)}});r.default.CtrlInterpolate.prototype._interpolate=function(n,t,i){var e,u,o,f;if(r.default.isArray(t)){for(e=[],u=0;u<t.length;u++)e[u]=this._interpolate(n,t[u],i[u]);return e}if(r.default.isObject(t)){o={};for(f in t)o[f]=this._interpolate(n,t[f],i[f]);return o}return(1-n)*(t=this._toNumber(t))+n*(i=this._toNumber(i))};r.default.CtrlInterpolate.prototype._toNumber=function(n){return r.default.isNumber(n)?n:this.toSeconds(n)};r.default.CtrlInterpolate.prototype.dispose=function(){this.values=null};t.default=r.default.CtrlInterpolate},function(n,t,i){"use strict";i.r(t);var r=i(0);i(36);i(1);r.default.Waveform=function(){var n=r.default.defaults(arguments,["size"],r.default.Waveform);n.type=r.default.Analyser.Type.Waveform;r.default.AudioNode.call(this);this._analyser=this.input=this.output=new r.default.Analyser(n)};r.default.extend(r.default.Waveform,r.default.AudioNode);r.default.Waveform.defaults={size:1024};r.default.Waveform.prototype.getValue=function(){return this._analyser.getValue()};Object.defineProperty(r.default.Waveform.prototype,"size",{get:function(){return this._analyser.size},set:function(n){this._analyser.size=n}});r.default.Waveform.prototype.dispose=function(){r.default.AudioNode.prototype.dispose.call(this);this._analyser.dispose();this._analyser=null};t.default=r.default.Waveform},function(n,t,i){"use strict";i.r(t);var r=i(0);i(23);i(10);i(19);i(2);i(22);i(28);i(1);r.default.Panner3D=function(){var n=r.default.defaults(arguments,["positionX","positionY","positionZ"],r.default.Panner3D);r.default.AudioNode.call(this);this._panner=this.input=this.output=this.context.createPanner();this._panner.panningModel=n.panningModel;this._panner.maxDistance=n.maxDistance;this._panner.distanceModel=n.distanceModel;this._panner.coneOuterGain=n.coneOuterGain;this._panner.coneOuterAngle=n.coneOuterAngle;this._panner.coneInnerAngle=n.coneInnerAngle;this._panner.refDistance=n.refDistance;this._panner.rolloffFactor=n.rolloffFactor;this._orientation=[n.orientationX,n.orientationY,n.orientationZ];this._position=[n.positionX,n.positionY,n.positionZ];this.orientationX=n.orientationX;this.orientationY=n.orientationY;this.orientationZ=n.orientationZ;this.positionX=n.positionX;this.positionY=n.positionY;this.positionZ=n.positionZ};r.default.extend(r.default.Panner3D,r.default.AudioNode);r.default.Panner3D.defaults={positionX:0,positionY:0,positionZ:0,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",maxDistance:1e4,distanceModel:"inverse",coneOuterGain:0,coneOuterAngle:360,coneInnerAngle:360,refDistance:1,rolloffFactor:1};r.default.Panner3D.prototype._rampTimeConstant=.01;r.default.Panner3D.prototype.setPosition=function(n,t,i){if(this._panner.positionX){var r=this.now();this._panner.positionX.setTargetAtTime(n,r,this._rampTimeConstant);this._panner.positionY.setTargetAtTime(t,r,this._rampTimeConstant);this._panner.positionZ.setTargetAtTime(i,r,this._rampTimeConstant)}else this._panner.setPosition(n,t,i);return this._position=Array.prototype.slice.call(arguments),this};r.default.Panner3D.prototype.setOrientation=function(n,t,i){if(this._panner.orientationX){var r=this.now();this._panner.orientationX.setTargetAtTime(n,r,this._rampTimeConstant);this._panner.orientationY.setTargetAtTime(t,r,this._rampTimeConstant);this._panner.orientationZ.setTargetAtTime(i,r,this._rampTimeConstant)}else this._panner.setOrientation(n,t,i);return this._orientation=Array.prototype.slice.call(arguments),this};Object.defineProperty(r.default.Panner3D.prototype,"positionX",{set:function(n){this._position[0]=n;this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}});Object.defineProperty(r.default.Panner3D.prototype,"positionY",{set:function(n){this._position[1]=n;this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}});Object.defineProperty(r.default.Panner3D.prototype,"positionZ",{set:function(n){this._position[2]=n;this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}});Object.defineProperty(r.default.Panner3D.prototype,"orientationX",{set:function(n){this._orientation[0]=n;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}});Object.defineProperty(r.default.Panner3D.prototype,"orientationY",{set:function(n){this._orientation[1]=n;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}});Object.defineProperty(r.default.Panner3D.prototype,"orientationZ",{set:function(n){this._orientation[2]=n;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}});r.default.Panner3D._aliasProperty=function(n){Object.defineProperty(r.default.Panner3D.prototype,n,{set:function(t){this._panner[n]=t},get:function(){return this._panner[n]}})};r.default.Panner3D._aliasProperty("panningModel");r.default.Panner3D._aliasProperty("refDistance");r.default.Panner3D._aliasProperty("rolloffFactor");r.default.Panner3D._aliasProperty("distanceModel");r.default.Panner3D._aliasProperty("coneInnerAngle");r.default.Panner3D._aliasProperty("coneOuterAngle");r.default.Panner3D._aliasProperty("coneOuterGain");r.default.Panner3D._aliasProperty("maxDistance");r.default.Panner3D.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._panner.disconnect(),this._panner=null,this._orientation=null,this._position=null,this};t.default=r.default.Panner3D},function(n,t,i){"use strict";i.r(t);var r=i(0);i(60);i(43);i(1);r.default.MultibandCompressor=function(n){r.default.AudioNode.call(this);n=r.default.defaultArg(arguments,r.default.MultibandCompressor.defaults);this._splitter=this.input=new r.default.MultibandSplit({lowFrequency:n.lowFrequency,highFrequency:n.highFrequency});this.lowFrequency=this._splitter.lowFrequency;this.highFrequency=this._splitter.highFrequency;this.output=new r.default.Gain;this.low=new r.default.Compressor(n.low);this.mid=new r.default.Compressor(n.mid);this.high=new r.default.Compressor(n.high);this._splitter.low.chain(this.low,this.output);this._splitter.mid.chain(this.mid,this.output);this._splitter.high.chain(this.high,this.output);this._readOnly(["high","mid","low","highFrequency","lowFrequency"])};r.default.extend(r.default.MultibandCompressor,r.default.AudioNode);r.default.MultibandCompressor.defaults={low:r.default.Compressor.defaults,mid:r.default.Compressor.defaults,high:r.default.Compressor.defaults,lowFrequency:250,highFrequency:2e3};r.default.MultibandCompressor.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._splitter.dispose(),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this._splitter=null,this.low=null,this.mid=null,this.high=null,this.lowFrequency=null,this.highFrequency=null,this};t.default=r.default.MultibandCompressor},function(n,t,i){"use strict";i.r(t);var r=i(0);i(10);i(1);r.default.Mono=function(){r.default.AudioNode.call(this);this.createInsOuts(1,0);this._merge=this.output=new r.default.Merge;r.default.connect(this.input,this._merge,0,0);r.default.connect(this.input,this._merge,0,1)};r.default.extend(r.default.Mono,r.default.AudioNode);r.default.Mono.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._merge.dispose(),this._merge=null,this};t.default=r.default.Mono},function(n,t,i){"use strict";i.r(t);var r=i(0);i(53);i(52);i(43);i(1);r.default.MidSideCompressor=function(n){r.default.AudioNode.call(this);n=r.default.defaultArg(n,r.default.MidSideCompressor.defaults);this._midSideSplit=this.input=new r.default.MidSideSplit;this._midSideMerge=this.output=new r.default.MidSideMerge;this.mid=new r.default.Compressor(n.mid);this.side=new r.default.Compressor(n.side);this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid);this._midSideSplit.side.chain(this.side,this._midSideMerge.side);this._readOnly(["mid","side"])};r.default.extend(r.default.MidSideCompressor,r.default.AudioNode);r.default.MidSideCompressor.defaults={mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}};r.default.MidSideCompressor.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["mid","side"]),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this};t.default=r.default.MidSideCompressor},function(n,t,i){"use strict";i.r(t);var r=i(0);i(36);i(1);r.default.Meter=function(){var n=r.default.defaults(arguments,["smoothing"],r.default.Meter);r.default.AudioNode.call(this);this.smoothing=n.smoothing;this._rms=0;this.input=this.output=this._analyser=new r.default.Analyser("waveform",256)};r.default.extend(r.default.Meter,r.default.AudioNode);r.default.Meter.defaults={smoothing:.8};r.default.Meter.prototype.getLevel=function(){for(var i,f,n=this._analyser.getValue(),u=0,t=0;t<n.length;t++)i=n[t],u+=i*i;return f=Math.sqrt(u/n.length),this._rms=Math.max(f,this._rms*this.smoothing),r.default.gainToDb(this._rms)};r.default.Meter.prototype.getValue=function(){return this._analyser.getValue()[0]};r.default.Meter.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null,this};t.default=r.default.Meter},function(n,t,i){"use strict";i.r(t);var r=i(0);i(43);i(1);r.default.Limiter=function(){var n=r.default.defaults(arguments,["threshold"],r.default.Limiter);r.default.AudioNode.call(this);this._compressor=this.input=this.output=new r.default.Compressor({attack:.001,decay:.001,threshold:n.threshold});this.threshold=this._compressor.threshold;this._readOnly("threshold")};r.default.extend(r.default.Limiter,r.default.AudioNode);r.default.Limiter.defaults={threshold:-12};r.default.Limiter.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._compressor.dispose(),this._compressor=null,this._writable("threshold"),this.threshold=null,this};t.default=r.default.Limiter},function(n,t,i){"use strict";i.r(t);var r=i(0);i(58);i(85);i(1);r.default.Gate=function(){var n=r.default.defaults(arguments,["threshold","smoothing"],r.default.Gate);r.default.AudioNode.call(this);this.createInsOuts(1,1);this._follower=new r.default.Follower(n.smoothing);this._gt=new r.default.GreaterThan(r.default.dbToGain(n.threshold));r.default.connect(this.input,this.output);r.default.connectSeries(this.input,this._follower,this._gt,this.output.gain)};r.default.extend(r.default.Gate,r.default.AudioNode);r.default.Gate.defaults={smoothing:.1,threshold:-40};Object.defineProperty(r.default.Gate.prototype,"threshold",{get:function(){return r.default.gainToDb(this._gt.value)},set:function(n){this._gt.value=r.default.dbToGain(n)}});Object.defineProperty(r.default.Gate.prototype,"smoothing",{get:function(){return this._follower.smoothing},set:function(n){this._follower.smoothing=n}});r.default.Gate.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._follower.dispose(),this._gt.dispose(),this._follower=null,this._gt=null,this};t.default=r.default.Gate},function(n,t,i){"use strict";i.r(t);var r=i(0);i(36);i(1);r.default.FFT=function(){var n=r.default.defaults(arguments,["size"],r.default.FFT);n.type=r.default.Analyser.Type.FFT;r.default.AudioNode.call(this);this._analyser=this.input=this.output=new r.default.Analyser(n)};r.default.extend(r.default.FFT,r.default.AudioNode);r.default.FFT.defaults={size:1024};r.default.FFT.prototype.getValue=function(){return this._analyser.getValue()};Object.defineProperty(r.default.FFT.prototype,"size",{get:function(){return this._analyser.size},set:function(n){this._analyser.size=n}});r.default.FFT.prototype.dispose=function(){r.default.AudioNode.prototype.dispose.call(this);this._analyser.dispose();this._analyser=null};t.default=r.default.FFT},function(n,t,i){"use strict";i.r(t);var r=i(0);i(60);i(3);i(1);r.default.EQ3=function(){var n=r.default.defaults(arguments,["low","mid","high"],r.default.EQ3);r.default.AudioNode.call(this);this.output=new r.default.Gain;this._multibandSplit=this.input=new r.default.MultibandSplit({lowFrequency:n.lowFrequency,highFrequency:n.highFrequency});this._lowGain=new r.default.Gain(n.low,r.default.Type.Decibels);this._midGain=new r.default.Gain(n.mid,r.default.Type.Decibels);this._highGain=new r.default.Gain(n.high,r.default.Type.Decibels);this.low=this._lowGain.gain;this.mid=this._midGain.gain;this.high=this._highGain.gain;this.Q=this._multibandSplit.Q;this.lowFrequency=this._multibandSplit.lowFrequency;this.highFrequency=this._multibandSplit.highFrequency;this._multibandSplit.low.chain(this._lowGain,this.output);this._multibandSplit.mid.chain(this._midGain,this.output);this._multibandSplit.high.chain(this._highGain,this.output);this._readOnly(["low","mid","high","lowFrequency","highFrequency"])};r.default.extend(r.default.EQ3,r.default.AudioNode);r.default.EQ3.defaults={low:0,mid:0,high:0,lowFrequency:400,highFrequency:2500};r.default.EQ3.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this._multibandSplit=null,this.lowFrequency=null,this.highFrequency=null,this._lowGain.dispose(),this._lowGain=null,this._midGain.dispose(),this._midGain=null,this._highGain.dispose(),this._highGain=null,this.low=null,this.mid=null,this.high=null,this.Q=null,this};t.default=r.default.EQ3},function(n,t,i){"use strict";i.r(t);var r=i(0);i(91);i(88);i(1);r.default.Channel=function(){var n=r.default.defaults(arguments,["volume","pan"],r.default.PanVol);r.default.AudioNode.call(this,n);this._solo=this.input=new r.default.Solo(n.solo);this._panVol=this.output=new r.default.PanVol({pan:n.pan,volume:n.volume,mute:n.mute});this.pan=this._panVol.pan;this.volume=this._panVol.volume;this._solo.connect(this._panVol);this._readOnly(["pan","volume"])};r.default.extend(r.default.Channel,r.default.AudioNode);r.default.Channel.defaults={pan:0,volume:0,mute:!1,solo:!1};Object.defineProperty(r.default.Channel.prototype,"solo",{get:function(){return this._solo.solo},set:function(n){this._solo.solo=n}});Object.defineProperty(r.default.Channel.prototype,"muted",{get:function(){return this._solo.muted||this.mute}});Object.defineProperty(r.default.Channel.prototype,"mute",{get:function(){return this._panVol.mute},set:function(n){this._panVol.mute=n}});r.default.Channel.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panVol.dispose(),this._panVol=null,this.pan=null,this.volume=null,this._solo.dispose(),this._solo=null,this};t.default=r.default.Channel},function(n){var t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(t=window)}n.exports=t},function(n,t,i){i(31);i(36);i(146);i(43);i(23);i(47);i(145);i(59);i(144);i(9);i(58);i(41);i(143);i(12);i(142);i(54);i(10);i(141);i(140);i(52);i(53);i(139);i(138);i(60);i(48);i(137);i(91);i(86);i(88);i(19);i(27);i(136);i(135);i(134);i(79);i(133);i(1);i(11);i(78);i(132);i(83);i(20);i(18);i(131);i(35);i(3);i(81);i(130);i(40);i(77);i(76);i(14);i(24);i(34);i(16);i(56);i(80);i(129);i(128);i(127);i(126);i(125);i(124);i(74);i(123);i(8);i(122);i(33);i(121);i(120);i(73);i(119);i(118);i(117);i(116);i(15);i(115);i(114);i(72);i(113);i(112);i(51);i(71);i(70);i(111);i(110);i(109);i(108);i(107);i(21);i(106);i(105);i(25);i(66);i(104);i(103);i(102);i(101);i(38);i(87);i(29);i(22);i(89);i(100);i(85);i(84);i(75);i(5);i(90);i(99);i(61);i(26);i(42);i(2);i(30);i(13);i(82);i(98);i(7);i(28);i(68);i(32);i(67);i(49);i(97);i(39);i(37);i(17);i(64);i(65);i(96);i(50);i(69);i(6);i(57);i(95);i(46);i(94);i(55);i(63);i(62);i(45);i(4);n.exports=i(0).default}])});